Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 063C8605353
	for <lists+qemu-devel@lfdr.de>; Thu, 20 Oct 2022 00:46:25 +0200 (CEST)
Received: from localhost ([::1]:39884 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1olHpQ-0005LE-0f
	for lists+qemu-devel@lfdr.de; Wed, 19 Oct 2022 18:46:24 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:36830)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1olHhF-0002Dh-Ba
 for qemu-devel@nongnu.org; Wed, 19 Oct 2022 18:37:57 -0400
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131]:11597)
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1olHh8-00029j-Qc
 for qemu-devel@nongnu.org; Wed, 19 Oct 2022 18:37:56 -0400
Received: from pps.filterd (m0279862.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.5/8.17.1.5) with ESMTP id 29JM12oD008432;
 Wed, 19 Oct 2022 22:37:43 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=agUkbf+tzMjTlq/4N83vOgj3Es3eS/RyM36dXCc0jGA=;
 b=lA/znSB41DcnBt8k5X0WIjYIwDqafwmEVxe8aKCwGSUUK6WZrusd6UKHRh6UHq/JF8x7
 r08qyXcgAMI/gMidfW9dO7yRemH5KsrSN+siq1Bfr9buH2M0t0XlZ0Kp31KxP6qFo5Vs
 rdsfRIuaMr2NyWx+0n6JB2Z/sHc8FXwro4UxM+Pii3lyWYKc/d4HZKppNrzup+1ZEtK6
 2uXEz/LD7rfwbV9GHLLwBvX4dYvkQDcYsIk6+5lKemJ8VZx//x6+AYrpwVkBAP98PnBh
 CeIp7yVFzFIF97f2veGjSbg3FIcLRKYWWYQbDm+vHSE/p252N31G3FnQY4luJs7/0/Nv Kg== 
Received: from nalasppmta02.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3ka5emmaey-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 19 Oct 2022 22:37:43 +0000
Received: from pps.filterd (NALASPPMTA02.qualcomm.com [127.0.0.1])
 by NALASPPMTA02.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 29JMbgrO015136; 
 Wed, 19 Oct 2022 22:37:42 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA02.qualcomm.com (PPS) with ESMTP id 3kam2fhdyb-1;
 Wed, 19 Oct 2022 22:37:42 +0000
Received: from NALASPPMTA02.qualcomm.com (NALASPPMTA02.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 29JMbgC9015131;
 Wed, 19 Oct 2022 22:37:42 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA02.qualcomm.com (PPS) with ESMTP id 29JMbfUf015130;
 Wed, 19 Oct 2022 22:37:42 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id B32295000A8; Wed, 19 Oct 2022 15:37:41 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH 1/8] Hexagon (target/hexagon) Only use branch_taken when
 packet has multi cof
Date: Wed, 19 Oct 2022 15:37:32 -0700
Message-Id: <20221019223739.3868-2-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20221019223739.3868-1-tsimpson@quicinc.com>
References: <20221019223739.3868-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: -Xo8mbGRNTIATukvIvP5lJeJDzM-1a6M
X-Proofpoint-GUID: -Xo8mbGRNTIATukvIvP5lJeJDzM-1a6M
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.205,Aquarius:18.0.895,Hydra:6.0.545,FMLib:17.11.122.1
 definitions=2022-10-19_12,2022-10-19_04,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 adultscore=0
 lowpriorityscore=0 suspectscore=0 mlxlogscore=999 spamscore=0
 malwarescore=0 clxscore=1011 phishscore=0 mlxscore=0 bulkscore=0
 impostorscore=0 priorityscore=1501 classifier=spam adjust=0 reason=mlx
 scancount=1 engine=8.12.0-2209130000 definitions=main-2210190125
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

V2hlbiBhIHBhY2tldCBoYXMgbW9yZSB0aGFuIG9uZSBjaGFuZ2Utb2YtZmxvdyBpbnN0cnVjdGlv
biwgb25seSB0aGUgZmlyc3QKb25lIHRvIGJyYW5jaCBpcyBjb25zaWRlcmVkLiAgV2UgdXNlIHRo
ZSBicmFuY2hfdGFrZW4gdmFyaWFibGUgdG8ga2VlcAp0cmFjayBvZiB0aGlzLgoKSG93ZXZlciwg
d2hlbiB0aGVyZSBpcyBhIHNpbmdsZSBjb2YgaW5zdHJ1Y3Rpb24sIHdlIGRvbid0IG5lZWQgdGhl
IHNhbWUKYW1vdW50IG9mIGJvb2trZWVwaW5nLgoKV2UgYWRkIHRoZSBwa3RfaGFzX211bHRpX2Nv
ZiBtZW1iZXIgdG8gdGhlIFBhY2tldCBzdHJ1Y3R1cmUsIGFuZCBwYXNzIHRoaXMKaW5mb3JtYXRp
b24gdG8gdGhlIG5lZWRlZCBmdW5jdGlvbnMuCgpXaGVuIHRoZXJlIGlzIGEgZ2VuZXJhdGVkIGhl
bHBlciBmdW5jdGlvbiB3aXRoIGNvZiwgdGhlIGdlbmVyYXRvciB3aWxsCnBhc3MgdGhpcyBwa3Rf
aGFzX211bHRpX2NvZiBhcyBhIHJ1bnRpbWUgdmFsdWUuCgpTaWduZWQtb2ZmLWJ5OiBUYXlsb3Ig
U2ltcHNvbiA8dHNpbXBzb25AcXVpY2luYy5jb20+Ci0tLQogdGFyZ2V0L2hleGFnb24vaW5zbi5o
ICAgICAgICAgICAgICAgfCAgMSArCiB0YXJnZXQvaGV4YWdvbi9tYWNyb3MuaCAgICAgICAgICAg
ICB8ICAyICstCiB0YXJnZXQvaGV4YWdvbi9kZWNvZGUuYyAgICAgICAgICAgICB8IDE1ICsrKysr
KysrKysrKystLQogdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMgICAgICAgICAgfCAyNCArKysr
KysrKysrKysrKystLS0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jICAgICAgICAg
IHwgIDQgKysrLQogdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9mdW5jcy5weSAgfCAgMyArKysK
IHRhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfcHJvdG9zLnB5IHwgIDYgKysrKystCiB0YXJnZXQv
aGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5ICAgICB8ICA1ICsrKysrCiB0YXJnZXQvaGV4YWdvbi9o
ZXhfY29tbW9uLnB5ICAgICAgICB8ICA4ICsrKysrKysrCiA5IGZpbGVzIGNoYW5nZWQsIDU0IGlu
c2VydGlvbnMoKyksIDE0IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29u
L2luc24uaCBiL3RhcmdldC9oZXhhZ29uL2luc24uaAppbmRleCBhYTI2Mzg5MTQ3Li44NTdhN2Nl
Yjc1IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9pbnNuLmgKKysrIGIvdGFyZ2V0L2hleGFn
b24vaW5zbi5oCkBAIC02MCw2ICs2MCw3IEBAIHN0cnVjdCBQYWNrZXQgewogCiAgICAgLyogUHJl
LWRlY29kZXMgYWJvdXQgQ09GICovCiAgICAgYm9vbCBwa3RfaGFzX2NvZjsgICAgICAgICAgLyog
SGFzIGFueSBjaGFuZ2Utb2YtZmxvdyAqLworICAgIGJvb2wgcGt0X2hhc19tdWx0aV9jb2Y7ICAg
IC8qIEhhcyBtb3JlIHRoYW4gb25lIGNoYW5nZS1vZi1mbG93ICovCiAgICAgYm9vbCBwa3RfaGFz
X2VuZGxvb3A7CiAKICAgICBib29sIHBrdF9oYXNfZGN6ZXJvYTsKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL21hY3Jvcy5oIGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKaW5kZXggYzg4MDVi
ZGFlYi4uZTkwODQwNWQ4MiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKKysr
IGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKQEAgLTQwNyw3ICs0MDcsNyBAQCBzdGF0aWMgaW5s
aW5lIFRDR3YgZ2VuX3JlYWRfaXJlZyhUQ0d2IHJlc3VsdCwgVENHdiB2YWwsIGludCBzaGlmdCkK
IAogI2RlZmluZSBmQ0hFQ0tfUENBTElHTihBKQogCi0jZGVmaW5lIGZXUklURV9OUEMoQSkgd3Jp
dGVfbmV3X3BjKGVudiwgQSkKKyNkZWZpbmUgZldSSVRFX05QQyhBKSB3cml0ZV9uZXdfcGMoZW52
LCBwa3RfaGFzX211bHRpX2NvZiAhPSAwLCBBKQogCiAjZGVmaW5lIGZCUkFOQ0goTE9DLCBUWVBF
KSAgICAgICAgICBmV1JJVEVfTlBDKExPQykKICNkZWZpbmUgZkpVTVBSKFJFR05PLCBUQVJHRVQs
IFRZUEUpIGZCUkFOQ0goVEFSR0VULCBDT0ZfVFlQRV9KVU1QUikKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL2RlY29kZS5jIGIvdGFyZ2V0L2hleGFnb24vZGVjb2RlLmMKaW5kZXggNmI3M2I1
YzYwYy4uMDQxYzhkZTc1MSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vZGVjb2RlLmMKKysr
IGIvdGFyZ2V0L2hleGFnb24vZGVjb2RlLmMKQEAgLTM4OCw2ICszODgsNyBAQCBzdGF0aWMgdm9p
ZCBkZWNvZGVfc2V0X2luc25fYXR0cl9maWVsZHMoUGFja2V0ICpwa3QpCiAgICAgdWludDE2X3Qg
b3Bjb2RlOwogCiAgICAgcGt0LT5wa3RfaGFzX2NvZiA9IGZhbHNlOworICAgIHBrdC0+cGt0X2hh
c19tdWx0aV9jb2YgPSBmYWxzZTsKICAgICBwa3QtPnBrdF9oYXNfZW5kbG9vcCA9IGZhbHNlOwog
ICAgIHBrdC0+cGt0X2hhc19kY3plcm9hID0gZmFsc2U7CiAKQEAgLTQxMiwxMyArNDEzLDIzIEBA
IHN0YXRpYyB2b2lkIGRlY29kZV9zZXRfaW5zbl9hdHRyX2ZpZWxkcyhQYWNrZXQgKnBrdCkKICAg
ICAgICAgICAgIH0KICAgICAgICAgfQogCi0gICAgICAgIHBrdC0+cGt0X2hhc19jb2YgfD0gZGVj
b2RlX29wY29kZV9jYW5fanVtcChvcGNvZGUpOworICAgICAgICBpZiAoZGVjb2RlX29wY29kZV9j
YW5fanVtcChvcGNvZGUpKSB7CisgICAgICAgICAgICBpZiAocGt0LT5wa3RfaGFzX2NvZikgewor
ICAgICAgICAgICAgICAgIHBrdC0+cGt0X2hhc19tdWx0aV9jb2YgPSB0cnVlOworICAgICAgICAg
ICAgfQorICAgICAgICAgICAgcGt0LT5wa3RfaGFzX2NvZiA9IHRydWU7CisgICAgICAgIH0KIAog
ICAgICAgICBwa3QtPmluc25baV0uaXNfZW5kbG9vcCA9IGRlY29kZV9vcGNvZGVfZW5kc19sb29w
KG9wY29kZSk7CiAKICAgICAgICAgcGt0LT5wa3RfaGFzX2VuZGxvb3AgfD0gcGt0LT5pbnNuW2ld
LmlzX2VuZGxvb3A7CiAKLSAgICAgICAgcGt0LT5wa3RfaGFzX2NvZiB8PSBwa3QtPnBrdF9oYXNf
ZW5kbG9vcDsKKyAgICAgICAgaWYgKHBrdC0+cGt0X2hhc19lbmRsb29wKSB7CisgICAgICAgICAg
ICBpZiAocGt0LT5wa3RfaGFzX2NvZikgeworICAgICAgICAgICAgICAgIHBrdC0+cGt0X2hhc19t
dWx0aV9jb2YgPSB0cnVlOworICAgICAgICAgICAgfQorICAgICAgICAgICAgcGt0LT5wa3RfaGFz
X2NvZiA9IHRydWU7CisgICAgICAgIH0KICAgICB9CiB9CiAKZGlmZiAtLWdpdCBhL3RhcmdldC9o
ZXhhZ29uL29wX2hlbHBlci5jIGIvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMKaW5kZXggMDg1
YWZjMzI3NC4uODQzOTFlMjVlYiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVy
LmMKKysrIGIvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMKQEAgLTEwNCwyMCArMTA0LDI2IEBA
IHN0YXRpYyB2b2lkIGxvZ19zdG9yZTY0KENQVUhleGFnb25TdGF0ZSAqZW52LCB0YXJnZXRfdWxv
bmcgYWRkciwKICAgICBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLmRhdGE2NCA9IHZhbDsKIH0K
IAotc3RhdGljIHZvaWQgd3JpdGVfbmV3X3BjKENQVUhleGFnb25TdGF0ZSAqZW52LCB0YXJnZXRf
dWxvbmcgYWRkcikKK3N0YXRpYyB2b2lkIHdyaXRlX25ld19wYyhDUFVIZXhhZ29uU3RhdGUgKmVu
diwgYm9vbCBwa3RfaGFzX211bHRpX2NvZiwKKyAgICAgICAgICAgICAgICAgICAgICAgICB0YXJn
ZXRfdWxvbmcgYWRkcikKIHsKICAgICBIRVhfREVCVUdfTE9HKCJ3cml0ZV9uZXdfcGMoMHgiIFRB
UkdFVF9GTVRfbHggIilcbiIsIGFkZHIpOwogCi0gICAgLyoKLSAgICAgKiBJZiBtb3JlIHRoYW4g
b25lIGJyYW5jaCBpcyB0YWtlbiBpbiBhIHBhY2tldCwgb25seSB0aGUgZmlyc3Qgb25lCi0gICAg
ICogaXMgYWN0dWFsbHkgZG9uZS4KLSAgICAgKi8KLSAgICBpZiAoZW52LT5icmFuY2hfdGFrZW4p
IHsKLSAgICAgICAgSEVYX0RFQlVHX0xPRygiSU5GTzogbXVsdGlwbGUgYnJhbmNoZXMgdGFrZW4g
aW4gc2FtZSBwYWNrZXQsICIKLSAgICAgICAgICAgICAgICAgICAgICAiaWdub3JpbmcgdGhlIHNl
Y29uZCBvbmVcbiIpOworICAgIGlmIChwa3RfaGFzX211bHRpX2NvZikgeworICAgICAgICAvKgor
ICAgICAgICAgKiBJZiBtb3JlIHRoYW4gb25lIGJyYW5jaCBpcyB0YWtlbiBpbiBhIHBhY2tldCwg
b25seSB0aGUgZmlyc3Qgb25lCisgICAgICAgICAqIGlzIGFjdHVhbGx5IGRvbmUuCisgICAgICAg
ICAqLworICAgICAgICBpZiAoZW52LT5icmFuY2hfdGFrZW4pIHsKKyAgICAgICAgICAgIEhFWF9E
RUJVR19MT0coIklORk86IG11bHRpcGxlIGJyYW5jaGVzIHRha2VuIGluIHNhbWUgcGFja2V0LCAi
CisgICAgICAgICAgICAgICAgICAgICAgICAgICJpZ25vcmluZyB0aGUgc2Vjb25kIG9uZVxuIik7
CisgICAgICAgIH0gZWxzZSB7CisgICAgICAgICAgICBmQ0hFQ0tfUENBTElHTihhZGRyKTsKKyAg
ICAgICAgICAgIGVudi0+bmV4dF9QQyA9IGFkZHI7CisgICAgICAgICAgICBlbnYtPmJyYW5jaF90
YWtlbiA9IDE7CisgICAgICAgIH0KICAgICB9IGVsc2UgewogICAgICAgICBmQ0hFQ0tfUENBTElH
TihhZGRyKTsKLSAgICAgICAgZW52LT5icmFuY2hfdGFrZW4gPSAxOwogICAgICAgICBlbnYtPm5l
eHRfUEMgPSBhZGRyOwogICAgIH0KIH0KZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL3RyYW5z
bGF0ZS5jIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMKaW5kZXggMjMyOTE3NzUzNy4uMmU0
NmNjMDY4MCAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMKKysrIGIvdGFy
Z2V0L2hleGFnb24vdHJhbnNsYXRlLmMKQEAgLTI0Nyw3ICsyNDcsOSBAQCBzdGF0aWMgdm9pZCBn
ZW5fc3RhcnRfcGFja2V0KERpc2FzQ29udGV4dCAqY3R4LCBQYWNrZXQgKnBrdCkKICAgICAgICAg
dGNnX2dlbl9tb3ZpX3RsKGhleF9zbG90X2NhbmNlbGxlZCwgMCk7CiAgICAgfQogICAgIGlmIChw
a3QtPnBrdF9oYXNfY29mKSB7Ci0gICAgICAgIHRjZ19nZW5fbW92aV90bChoZXhfYnJhbmNoX3Rh
a2VuLCAwKTsKKyAgICAgICAgaWYgKHBrdC0+cGt0X2hhc19tdWx0aV9jb2YpIHsKKyAgICAgICAg
ICAgIHRjZ19nZW5fbW92aV90bChoZXhfYnJhbmNoX3Rha2VuLCAwKTsKKyAgICAgICAgfQogICAg
ICAgICB0Y2dfZ2VuX21vdmlfdGwoaGV4X25leHRfUEMsIG5leHRfUEMpOwogICAgIH0KICAgICBp
ZiAobmVlZF9wcmVkX3dyaXR0ZW4ocGt0KSkgewpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24v
Z2VuX2hlbHBlcl9mdW5jcy5weSBiL3RhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVuY3MucHkK
aW5kZXggYTQ0NmM0NTM4NC4uZjdjMWE4MmU5ZiAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24v
Z2VuX2hlbHBlcl9mdW5jcy5weQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1bmNz
LnB5CkBAIC0yMzgsNiArMjM4LDkgQEAgZGVmIGdlbl9oZWxwZXJfZnVuY3Rpb24oZiwgdGFnLCB0
YWdyZWdzLCB0YWdpbW1zKToKICAgICAgICAgICAgIGdlbl9oZWxwZXJfYXJnX2ltbShmLGltbWxl
dHQpCiAgICAgICAgICAgICBpICs9IDEKIAorICAgICAgICBpZiAoaGV4X2NvbW1vbi5uZWVkX3Br
dF9oYXNfbXVsdGlfY29mKHRhZykpOgorICAgICAgICAgICAgZi53cml0ZSgiLCB1aW50MzJfdCBw
a3RfaGFzX211bHRpX2NvZiIpCisKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Nsb3QodGFn
KToKICAgICAgICAgICAgIGlmIGkgPiAwOiBmLndyaXRlKCIsICIpCiAgICAgICAgICAgICBmLndy
aXRlKCJ1aW50MzJfdCBzbG90IikKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbl9oZWxw
ZXJfcHJvdG9zLnB5IGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9wcm90b3MucHkKaW5kZXgg
M2I0ZTk5M2ZkMS4uNDUzMGQ3YmE4ZCAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX2hl
bHBlcl9wcm90b3MucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9wcm90b3MucHkK
QEAgLTgyLDYgKzgyLDcgQEAgZGVmIGdlbl9oZWxwZXJfcHJvdG90eXBlKGYsIHRhZywgdGFncmVn
cywgdGFnaW1tcyk6CiAgICAgICAgICMjIEZpZ3VyZSBvdXQgaG93IG1hbnkgYXJndW1lbnRzIHRo
ZSBoZWxwZXIgd2lsbCB0YWtlCiAgICAgICAgIGlmIChudW1zY2FsYXJyZXN1bHRzID09IDApOgog
ICAgICAgICAgICAgZGVmX2hlbHBlcl9zaXplID0gbGVuKHJlZ3MpK2xlbihpbW1zKStudW1zY2Fs
YXJyZWFkd3JpdGUrMQorICAgICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BrdF9oYXNfbXVs
dGlfY29mKHRhZyk6IGRlZl9oZWxwZXJfc2l6ZSArPSAxCiAgICAgICAgICAgICBpZiBoZXhfY29t
bW9uLm5lZWRfcGFydDEodGFnKTogZGVmX2hlbHBlcl9zaXplICs9IDEKICAgICAgICAgICAgIGlm
IGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6IGRlZl9oZWxwZXJfc2l6ZSArPSAxCiAgICAgICAg
ICAgICBmLndyaXRlKCdERUZfSEVMUEVSXyVzKCVzJyAlIChkZWZfaGVscGVyX3NpemUsIHRhZykp
CkBAIC04OSw2ICs5MCw3IEBAIGRlZiBnZW5faGVscGVyX3Byb3RvdHlwZShmLCB0YWcsIHRhZ3Jl
Z3MsIHRhZ2ltbXMpOgogICAgICAgICAgICAgZi53cml0ZSgnLCB2b2lkJyApCiAgICAgICAgIGVs
c2U6CiAgICAgICAgICAgICBkZWZfaGVscGVyX3NpemUgPSBsZW4ocmVncykrbGVuKGltbXMpK251
bXNjYWxhcnJlYWR3cml0ZQorICAgICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BrdF9oYXNf
bXVsdGlfY29mKHRhZyk6IGRlZl9oZWxwZXJfc2l6ZSArPSAxCiAgICAgICAgICAgICBpZiBoZXhf
Y29tbW9uLm5lZWRfcGFydDEodGFnKTogZGVmX2hlbHBlcl9zaXplICs9IDEKICAgICAgICAgICAg
IGlmIGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6IGRlZl9oZWxwZXJfc2l6ZSArPSAxCiAgICAg
ICAgICAgICBmLndyaXRlKCdERUZfSEVMUEVSXyVzKCVzJyAlIChkZWZfaGVscGVyX3NpemUsIHRh
ZykpCkBAIC0xMjYsNyArMTI4LDkgQEAgZGVmIGdlbl9oZWxwZXJfcHJvdG90eXBlKGYsIHRhZywg
dGFncmVncywgdGFnaW1tcyk6CiAgICAgICAgIGZvciBpbW1sZXR0LGJpdHMsaW1tc2hpZnQgaW4g
aW1tczoKICAgICAgICAgICAgIGYud3JpdGUoIiwgczMyIikKIAotICAgICAgICAjIyBBZGQgdGhl
IGFyZ3VtZW50cyBmb3IgdGhlIGluc3RydWN0aW9uIHNsb3QgYW5kIHBhcnQxIChpZiBuZWVkZWQp
CisgICAgICAgICMjIEFkZCB0aGUgYXJndW1lbnRzIGZvciB0aGUgaW5zdHJ1Y3Rpb24gcGt0X2hh
c19tdWx0aV9jb2YsIHNsb3QgYW5kCisgICAgICAgICMjIHBhcnQxIChpZiBuZWVkZWQpCisgICAg
ICAgIGlmIGhleF9jb21tb24ubmVlZF9wa3RfaGFzX211bHRpX2NvZih0YWcpOiBmLndyaXRlKCcs
IGkzMicpCiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6IGYud3JpdGUoJywg
aTMyJyApCiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9wYXJ0MSh0YWcpOiBmLndyaXRlKCcg
LCBpMzInICkKICAgICAgICAgZi53cml0ZSgnKVxuJykKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhh
Z29uL2dlbl90Y2dfZnVuY3MucHkgYi90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5Cmlu
ZGV4IDZkZWEwMmIwYjkuLjY3MDQ1YzgwYmIgMTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dl
bl90Y2dfZnVuY3MucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQpAQCAt
NjE1LDYgKzYxNSw5IEBAIGRlZiBnZW5fdGNnX2Z1bmMoZiwgdGFnLCByZWdzLCBpbW1zKToKICAg
ICAgICAgIyMgR2VuZXJhdGUgdGhlIGNhbGwgdG8gdGhlIGhlbHBlcgogICAgICAgICBmb3IgaW1t
bGV0dCxiaXRzLGltbXNoaWZ0IGluIGltbXM6CiAgICAgICAgICAgICBnZW5faGVscGVyX2RlY2xf
aW1tKGYsaW1tbGV0dCkKKyAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BrdF9oYXNfbXVsdGlf
Y29mKHRhZyk6CisgICAgICAgICAgICBmLndyaXRlKCIgICAgVENHdiBwa3RfaGFzX211bHRpX2Nv
ZiA9ICIpCisgICAgICAgICAgICBmLndyaXRlKCJ0Y2dfY29uc3RhbnRfdGwocGt0LT5wa3RfaGFz
X211bHRpX2NvZik7XG4iKQogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGFydDEodGFnKToK
ICAgICAgICAgICAgIGYud3JpdGUoIiAgICBUQ0d2IHBhcnQxID0gdGNnX2NvbnN0YW50X3RsKGlu
c24tPnBhcnQxKTtcbiIpCiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6CkBA
IC02NDcsNiArNjUwLDggQEAgZGVmIGdlbl90Y2dfZnVuYyhmLCB0YWcsIHJlZ3MsIGltbXMpOgog
ICAgICAgICBmb3IgaW1tbGV0dCxiaXRzLGltbXNoaWZ0IGluIGltbXM6CiAgICAgICAgICAgICBn
ZW5faGVscGVyX2NhbGxfaW1tKGYsaW1tbGV0dCkKIAorICAgICAgICBpZiBoZXhfY29tbW9uLm5l
ZWRfcGt0X2hhc19tdWx0aV9jb2YodGFnKToKKyAgICAgICAgICAgIGYud3JpdGUoIiwgcGt0X2hh
c19tdWx0aV9jb2YiKQogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcpOiBmLndy
aXRlKCIsIHNsb3QiKQogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGFydDEodGFnKTogZi53
cml0ZSgiLCBwYXJ0MSIgKQogICAgICAgICBmLndyaXRlKCIpO1xuIikKZGlmZiAtLWdpdCBhL3Rh
cmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkgYi90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5
CmluZGV4IGQ5YmE3ZGY3ODYuLjZhNmJlZTc1NTEgMTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29u
L2hleF9jb21tb24ucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vaGV4X2NvbW1vbi5weQpAQCAtMjA3
LDYgKzIwNywxNCBAQCBkZWYgbmVlZF9wYXJ0MSh0YWcpOgogZGVmIG5lZWRfZWEodGFnKToKICAg
ICByZXR1cm4gcmUuY29tcGlsZShyIlxiRUFcYiIpLnNlYXJjaChzZW1kaWN0W3RhZ10pCiAKK2Rl
ZiBuZWVkX3BrdF9oYXNfbXVsdGlfY29mKHRhZyk6CisgICAgaWYgKCdBX0pVTVAnIGluIGF0dHJp
YmRpY3RbdGFnXSBvcgorICAgICAgICAnQV9DQUxMJyBpbiBhdHRyaWJkaWN0W3RhZ10gb3IKKyAg
ICAgICAgJ0FfSFdMT09QMF9FTkQnIGluIGF0dHJpYmRpY3RbdGFnXSBvcgorICAgICAgICAnQV9I
V0xPT1AxX0VORCcgaW4gYXR0cmliZGljdFt0YWddKToKKyAgICAgICAgcmV0dXJuIFRydWUKKyAg
ICByZXR1cm4gRmFsc2UKKwogZGVmIHNraXBfcWVtdV9oZWxwZXIodGFnKToKICAgICByZXR1cm4g
dGFnIGluIG92ZXJyaWRlcy5rZXlzKCkKIAotLSAKMi4xNy4xCgo=

