Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id E26756AD528
	for <lists+qemu-devel@lfdr.de>; Tue,  7 Mar 2023 03:59:42 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1pZNXI-0000NK-Td; Mon, 06 Mar 2023 21:58:44 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pZNXD-00007S-KY
 for qemu-devel@nongnu.org; Mon, 06 Mar 2023 21:58:42 -0500
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pZNX9-0005nN-V0
 for qemu-devel@nongnu.org; Mon, 06 Mar 2023 21:58:39 -0500
Received: from pps.filterd (m0279865.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 3272r2GK001124; Tue, 7 Mar 2023 02:58:33 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=GGbRoR66SpbygZ0Efn7GFI80BsB6xYIQ0SniiTYNCwQ=;
 b=EVHltDlT+SMzUn57i/hFumjxLsBY4jQ6LRQndWeDKjKcQx8BI5It9xUMa5KMylev9U1d
 uzbimcTR3pMFePdyJkNxIwgQIU08tb8otmHhYjP4ZRYf+PbQ8tYYPqm3CDN6sI33X7t7
 b7VofaATYSHGYwUeMf6cQoeudcRvp3t89+6V/4DzyL/qdNng4OFXcn7qnoECDy8P+OOX
 tXDoVwsfZ+BCCyp1rgg6zC+IMT7qPWG64m1g0Oi1lJmtto5bq1g+9Gs8ohpkUW97YXBg
 /ei32cEhvuZAnmLqrAVtQhM6KDdzzjAY2Buoivp88uMUakQwDY0urOtsEkJB5KH4D+H8 oQ== 
Received: from nalasppmta01.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3p419d6p7s-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Tue, 07 Mar 2023 02:58:33 +0000
Received: from pps.filterd (NALASPPMTA01.qualcomm.com [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 3272wW1N002462; 
 Tue, 7 Mar 2023 02:58:32 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTPS id 3p4fhbkh8w-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Tue, 07 Mar 2023 02:58:32 +0000
Received: from NALASPPMTA01.qualcomm.com (NALASPPMTA01.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 3272wV2A002442;
 Tue, 7 Mar 2023 02:58:32 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTPS id 3272wVhq002433
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Tue, 07 Mar 2023 02:58:31 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id CEFDD6AC; Mon,  6 Mar 2023 18:58:30 -0800 (PST)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v6 07/14] Hexagon (target/hexagon) Analyze packet for HVX
Date: Mon,  6 Mar 2023 18:58:21 -0800
Message-Id: <20230307025828.1612809-8-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20230307025828.1612809-1-tsimpson@quicinc.com>
References: <20230307025828.1612809-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: pKp3CrjBxjq93jvxpiRRQkXdAggfEieb
X-Proofpoint-GUID: pKp3CrjBxjq93jvxpiRRQkXdAggfEieb
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.219,Aquarius:18.0.942,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-03-06_14,2023-03-06_01,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 mlxscore=0 lowpriorityscore=0
 phishscore=0 malwarescore=0 impostorscore=0 priorityscore=1501
 clxscore=1015 suspectscore=0 mlxlogscore=712 adultscore=0 bulkscore=0
 spamscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2212070000 definitions=main-2303070025
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

RXh0ZW5kIHRoZSBhbmFseXplXzx0YWc+IGZ1bmN0aW9ucyBmb3IgSFZYIHZlY3RvciBhbmQgcHJl
ZGljYXRlIHdyaXRlcwpSZW1vdmUgY2FsbHMgdG8gY3R4X2xvZ192cmVnX3dyaXRlW19wYWlyXSBm
cm9tIGdlbl90Y2dfZnVuY3MucHkKRHVyaW5nIGdlbl9zdGFydF9wYWNrZXQsIHJlbG9hZCB0aGUg
cHJlZGljYXRlZCBIVlggcmVnaXN0ZXJzIGludG8KICAgIGZ1Z3VyZV9WUmVncyBhbmQgdG1wX1ZS
ZWdzCgpTaWduZWQtb2ZmLWJ5OiBUYXlsb3IgU2ltcHNvbiA8dHNpbXBzb25AcXVpY2luYy5jb20+
ClJldmlld2VkLWJ5OiBBbnRvbiBKb2hhbnNzb24gPGFuam9AcmV2Lm5nPgotLS0KIHRhcmdldC9o
ZXhhZ29uL3RyYW5zbGF0ZS5oICAgICAgICAgIHwgMTQgKysrKysrKystLS0tLS0KIHRhcmdldC9o
ZXhhZ29uL3RyYW5zbGF0ZS5jICAgICAgICAgIHwgMzAgKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysKIHRhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5IHwgMTcgKysrKysrKysr
KysrKy0tLQogdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSAgICAgfCAxOCAtLS0tLS0t
LS0tLS0tLS0tLQogNCBmaWxlcyBjaGFuZ2VkLCA1MiBpbnNlcnRpb25zKCspLCAyNyBkZWxldGlv
bnMoLSkKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuaCBiL3RhcmdldC9o
ZXhhZ29uL3RyYW5zbGF0ZS5oCmluZGV4IDM0MzY4YjIxODYuLjc2NWYyYzZhMjIgMTAwNjQ0Ci0t
LSBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5z
bGF0ZS5oCkBAIC01NCw2ICs1NCw4IEBAIHR5cGVkZWYgc3RydWN0IERpc2FzQ29udGV4dCB7CiAg
ICAgREVDTEFSRV9CSVRNQVAodnJlZ3NfdXBkYXRlZF90bXAsIE5VTV9WUkVHUyk7CiAgICAgREVD
TEFSRV9CSVRNQVAodnJlZ3NfdXBkYXRlZCwgTlVNX1ZSRUdTKTsKICAgICBERUNMQVJFX0JJVE1B
UCh2cmVnc19zZWxlY3QsIE5VTV9WUkVHUyk7CisgICAgREVDTEFSRV9CSVRNQVAocHJlZGljYXRl
ZF9mdXR1cmVfdnJlZ3MsIE5VTV9WUkVHUyk7CisgICAgREVDTEFSRV9CSVRNQVAocHJlZGljYXRl
ZF90bXBfdnJlZ3MsIE5VTV9WUkVHUyk7CiAgICAgaW50IHFyZWdfbG9nW05VTV9RUkVHU107CiAg
ICAgYm9vbCBxcmVnX2lzX3ByZWRpY2F0ZWRbTlVNX1FSRUdTXTsKICAgICBpbnQgcXJlZ19sb2df
aWR4OwpAQCAtOTksMTIgKzEwMSw2IEBAIHN0YXRpYyBpbmxpbmUgdm9pZCBjdHhfbG9nX3JlZ193
cml0ZV9wYWlyKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcm51bSwKICAgICBjdHhfbG9nX3JlZ193
cml0ZShjdHgsIHJudW0gKyAxLCBpc19wcmVkaWNhdGVkKTsKIH0KIAotc3RhdGljIGlubGluZSBi
b29sIGlzX3ZyZWdfcHJlbG9hZGVkKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgbnVtKQotewotICAg
IHJldHVybiB0ZXN0X2JpdChudW0sIGN0eC0+dnJlZ3NfdXBkYXRlZCkgfHwKLSAgICAgICAgICAg
dGVzdF9iaXQobnVtLCBjdHgtPnZyZWdzX3VwZGF0ZWRfdG1wKTsKLX0KLQogaW50cHRyX3QgY3R4
X2Z1dHVyZV92cmVnX29mZihEaXNhc0NvbnRleHQgKmN0eCwgaW50IHJlZ251bSwKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaW50IG51bSwgYm9vbCBhbGxvY19vayk7CiBpbnRwdHJfdCBj
dHhfdG1wX3ZyZWdfb2ZmKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcmVnbnVtLApAQCAtMTIwLDEy
ICsxMTYsMTggQEAgc3RhdGljIGlubGluZSB2b2lkIGN0eF9sb2dfdnJlZ193cml0ZShEaXNhc0Nv
bnRleHQgKmN0eCwKICAgICAgICAgY3R4LT52cmVnX2xvZ19pZHgrKzsKIAogICAgICAgICBzZXRf
Yml0KHJudW0sIGN0eC0+dnJlZ3NfdXBkYXRlZCk7CisgICAgICAgIGlmIChpc19wcmVkaWNhdGVk
KSB7CisgICAgICAgICAgICBzZXRfYml0KHJudW0sIGN0eC0+cHJlZGljYXRlZF9mdXR1cmVfdnJl
Z3MpOworICAgICAgICB9CiAgICAgfQogICAgIGlmICh0eXBlID09IEVYVF9ORVcpIHsKICAgICAg
ICAgc2V0X2JpdChybnVtLCBjdHgtPnZyZWdzX3NlbGVjdCk7CiAgICAgfQogICAgIGlmICh0eXBl
ID09IEVYVF9UTVApIHsKICAgICAgICAgc2V0X2JpdChybnVtLCBjdHgtPnZyZWdzX3VwZGF0ZWRf
dG1wKTsKKyAgICAgICAgaWYgKGlzX3ByZWRpY2F0ZWQpIHsKKyAgICAgICAgICAgIHNldF9iaXQo
cm51bSwgY3R4LT5wcmVkaWNhdGVkX3RtcF92cmVncyk7CisgICAgICAgIH0KICAgICB9CiB9CiAK
ZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jIGIvdGFyZ2V0L2hleGFnb24v
dHJhbnNsYXRlLmMKaW5kZXggMDE2NzFkNTQ1MS4uNDkzYmM3NWQyNyAxMDA2NDQKLS0tIGEvdGFy
Z2V0L2hleGFnb24vdHJhbnNsYXRlLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMK
QEAgLTM2NCw2ICszNjQsOCBAQCBzdGF0aWMgdm9pZCBnZW5fc3RhcnRfcGFja2V0KERpc2FzQ29u
dGV4dCAqY3R4KQogICAgIGJpdG1hcF96ZXJvKGN0eC0+dnJlZ3NfdXBkYXRlZF90bXAsIE5VTV9W
UkVHUyk7CiAgICAgYml0bWFwX3plcm8oY3R4LT52cmVnc191cGRhdGVkLCBOVU1fVlJFR1MpOwog
ICAgIGJpdG1hcF96ZXJvKGN0eC0+dnJlZ3Nfc2VsZWN0LCBOVU1fVlJFR1MpOworICAgIGJpdG1h
cF96ZXJvKGN0eC0+cHJlZGljYXRlZF9mdXR1cmVfdnJlZ3MsIE5VTV9WUkVHUyk7CisgICAgYml0
bWFwX3plcm8oY3R4LT5wcmVkaWNhdGVkX3RtcF92cmVncywgTlVNX1ZSRUdTKTsKICAgICBjdHgt
PnFyZWdfbG9nX2lkeCA9IDA7CiAgICAgZm9yIChpID0gMDsgaSA8IFNUT1JFU19NQVg7IGkrKykg
ewogICAgICAgICBjdHgtPnN0b3JlX3dpZHRoW2ldID0gMDsKQEAgLTQxNSw2ICs0MTcsMzQgQEAg
c3RhdGljIHZvaWQgZ2VuX3N0YXJ0X3BhY2tldChEaXNhc0NvbnRleHQgKmN0eCkKICAgICAgICAg
fQogICAgIH0KIAorICAgIC8qIFByZWxvYWQgdGhlIHByZWRpY2F0ZWQgSFZYIHJlZ2lzdGVycyBp
bnRvIGZ1dHVyZV9WUmVncyBhbmQgdG1wX1ZSZWdzICovCisgICAgaWYgKCFiaXRtYXBfZW1wdHko
Y3R4LT5wcmVkaWNhdGVkX2Z1dHVyZV92cmVncywgTlVNX1ZSRUdTKSkgeworICAgICAgICBpbnQg
aSA9IGZpbmRfZmlyc3RfYml0KGN0eC0+cHJlZGljYXRlZF9mdXR1cmVfdnJlZ3MsIE5VTV9WUkVH
Uyk7CisgICAgICAgIHdoaWxlIChpIDwgTlVNX1ZSRUdTKSB7CisgICAgICAgICAgICBjb25zdCBp
bnRwdHJfdCBWZFZfb2ZmID0KKyAgICAgICAgICAgICAgICBjdHhfZnV0dXJlX3ZyZWdfb2ZmKGN0
eCwgaSwgMSwgdHJ1ZSk7CisgICAgICAgICAgICBpbnRwdHJfdCBzcmNfb2ZmID0gb2Zmc2V0b2Yo
Q1BVSGV4YWdvblN0YXRlLCBWUmVnc1tpXSk7CisgICAgICAgICAgICB0Y2dfZ2VuX2d2ZWNfbW92
KE1PXzY0LCBWZFZfb2ZmLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNfb2ZmLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplb2YoTU1WZWN0b3IpLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzaXplb2YoTU1WZWN0b3IpKTsKKyAgICAgICAgICAgIGkgPSBm
aW5kX25leHRfYml0KGN0eC0+cHJlZGljYXRlZF9mdXR1cmVfdnJlZ3MsIE5VTV9WUkVHUywgaSAr
IDEpOworICAgICAgICB9CisgICAgfQorICAgIGlmICghYml0bWFwX2VtcHR5KGN0eC0+cHJlZGlj
YXRlZF90bXBfdnJlZ3MsIE5VTV9WUkVHUykpIHsKKyAgICAgICAgaW50IGkgPSBmaW5kX2ZpcnN0
X2JpdChjdHgtPnByZWRpY2F0ZWRfdG1wX3ZyZWdzLCBOVU1fVlJFR1MpOworICAgICAgICB3aGls
ZSAoaSA8IE5VTV9WUkVHUykgeworICAgICAgICAgICAgY29uc3QgaW50cHRyX3QgVmRWX29mZiA9
CisgICAgICAgICAgICAgICAgY3R4X3RtcF92cmVnX29mZihjdHgsIGksIDEsIHRydWUpOworICAg
ICAgICAgICAgaW50cHRyX3Qgc3JjX29mZiA9IG9mZnNldG9mKENQVUhleGFnb25TdGF0ZSwgVlJl
Z3NbaV0pOworICAgICAgICAgICAgdGNnX2dlbl9ndmVjX21vdihNT182NCwgVmRWX29mZiwKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjX29mZiwKKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc2l6ZW9mKE1NVmVjdG9yKSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c2l6ZW9mKE1NVmVjdG9yKSk7CisgICAgICAgICAgICBpID0gZmluZF9uZXh0X2JpdChjdHgtPnBy
ZWRpY2F0ZWRfdG1wX3ZyZWdzLCBOVU1fVlJFR1MsIGkgKyAxKTsKKyAgICAgICAgfQorICAgIH0K
KwogICAgIGlmIChwa3QtPnBrdF9oYXNfaHZ4KSB7CiAgICAgICAgIHRjZ19nZW5fbW92aV90bCho
ZXhfVlJlZ3NfdXBkYXRlZCwgMCk7CiAgICAgICAgIHRjZ19nZW5fbW92aV90bChoZXhfUVJlZ3Nf
dXBkYXRlZCwgMCk7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5j
cy5weSBiL3RhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5CmluZGV4IDdlMWYyMjFi
M2MuLjBiYjRmY2I0NzYgMTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1
bmNzLnB5CisrKyBiL3RhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5CkBAIC04Myw5
ICs4MywxNiBAQCBkZWYgYW5hbHl6ZV9vcG5fb2xkKGYsIHRhZywgcmVndHlwZSwgcmVnaWQsIHJl
Z25vKToKICAgICAgICAgZWxzZToKICAgICAgICAgICAgIHByaW50KCJCYWQgcmVnaXN0ZXIgcGFy
c2U6ICIsIHJlZ3R5cGUsIHJlZ2lkKQogICAgIGVsaWYgKHJlZ3R5cGUgPT0gIlYiKToKKyAgICAg
ICAgbmV3diA9ICJFWFRfREZMIgorICAgICAgICBpZiAoaGV4X2NvbW1vbi5pc19uZXdfcmVzdWx0
KHRhZykpOgorICAgICAgICAgICAgbmV3diA9ICJFWFRfTkVXIgorICAgICAgICBlbGlmIChoZXhf
Y29tbW9uLmlzX3RtcF9yZXN1bHQodGFnKSk6CisgICAgICAgICAgICBuZXd2ID0gIkVYVF9UTVAi
CiAgICAgICAgIGlmIChyZWdpZCBpbiB7ImRkIiwgInh4In0pOgotICAgICAgICAgICAgZi53cml0
ZSgiLy8gICAgY29uc3QgaW50ICVzID0gaW5zbi0+cmVnbm9bJWRdO1xuIiAlXAorICAgICAgICAg
ICAgZi53cml0ZSgiICAgIGNvbnN0IGludCAlcyA9IGluc24tPnJlZ25vWyVkXTtcbiIgJVwKICAg
ICAgICAgICAgICAgICAocmVnTiwgcmVnbm8pKQorICAgICAgICAgICAgZi53cml0ZSgiICAgIGN0
eF9sb2dfdnJlZ193cml0ZV9wYWlyKGN0eCwgJXMsICVzLCAlcyk7XG4iICUgXAorICAgICAgICAg
ICAgICAgIChyZWdOLCBuZXd2LCBwcmVkaWNhdGVkKSkKICAgICAgICAgZWxpZiAocmVnaWQgaW4g
eyJ1dSIsICJ2diJ9KToKICAgICAgICAgICAgIGYud3JpdGUoIi8vICAgIGNvbnN0IGludCAlcyA9
IGluc24tPnJlZ25vWyVkXTtcbiIgJSBcCiAgICAgICAgICAgICAgICAgKHJlZ04sIHJlZ25vKSkK
QEAgLTkzLDE0ICsxMDAsMTggQEAgZGVmIGFuYWx5emVfb3BuX29sZChmLCB0YWcsIHJlZ3R5cGUs
IHJlZ2lkLCByZWdubyk6CiAgICAgICAgICAgICBmLndyaXRlKCIvLyAgICBjb25zdCBpbnQgJXMg
PSBpbnNuLT5yZWdub1slZF07XG4iICUgXAogICAgICAgICAgICAgICAgIChyZWdOLCByZWdubykp
CiAgICAgICAgIGVsaWYgKHJlZ2lkIGluIHsiZCIsICJ4IiwgInkifSk6Ci0gICAgICAgICAgICBm
LndyaXRlKCIvLyAgICBjb25zdCBpbnQgJXMgPSBpbnNuLT5yZWdub1slZF07XG4iICUgXAorICAg
ICAgICAgICAgZi53cml0ZSgiICAgIGNvbnN0IGludCAlcyA9IGluc24tPnJlZ25vWyVkXTtcbiIg
JSBcCiAgICAgICAgICAgICAgICAgKHJlZ04sIHJlZ25vKSkKKyAgICAgICAgICAgIGYud3JpdGUo
IiAgICBjdHhfbG9nX3ZyZWdfd3JpdGUoY3R4LCAlcywgJXMsICVzKTtcbiIgJSBcCisgICAgICAg
ICAgICAgICAgKHJlZ04sIG5ld3YsIHByZWRpY2F0ZWQpKQogICAgICAgICBlbHNlOgogICAgICAg
ICAgICAgcHJpbnQoIkJhZCByZWdpc3RlciBwYXJzZTogIiwgcmVndHlwZSwgcmVnaWQpCiAgICAg
ZWxpZiAocmVndHlwZSA9PSAiUSIpOgogICAgICAgICBpZiAocmVnaWQgaW4geyJkIiwgImUiLCAi
eCJ9KToKLSAgICAgICAgICAgIGYud3JpdGUoIi8vICAgIGNvbnN0IGludCAlcyA9IGluc24tPnJl
Z25vWyVkXTtcbiIgJSBcCisgICAgICAgICAgICBmLndyaXRlKCIgICAgY29uc3QgaW50ICVzID0g
aW5zbi0+cmVnbm9bJWRdO1xuIiAlIFwKICAgICAgICAgICAgICAgICAocmVnTiwgcmVnbm8pKQor
ICAgICAgICAgICAgZi53cml0ZSgiICAgIGN0eF9sb2dfcXJlZ193cml0ZShjdHgsICVzLCAlcyk7
XG4iICUgXAorICAgICAgICAgICAgICAgIChyZWdOLCBwcmVkaWNhdGVkKSkKICAgICAgICAgZWxp
ZiAocmVnaWQgaW4geyJzIiwgInQiLCAidSIsICJ2In0pOgogICAgICAgICAgICAgZi53cml0ZSgi
Ly8gICAgY29uc3QgaW50ICVzID0gaW5zbi0+cmVnbm9bJWRdO1xuIiAlIFwKICAgICAgICAgICAg
ICAgICAocmVnTiwgcmVnbm8pKQpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19m
dW5jcy5weSBiL3RhcmdldC9oZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKaW5kZXggMDJmYTY1YzVj
OS4uMjJiY2I1NjkxNyAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5w
eQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CkBAIC0xNTIsMTcgKzE1Miw2
IEBAIGRlZiBnZW5wdHJfZGVjbChmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkLCByZWdubyk6CiAgICAg
ICAgICAgICAgICAgZi53cml0ZSgiICAgICAgICBjdHhfZnV0dXJlX3ZyZWdfb2ZmKGN0eCwgJXMl
c04sIiAlIFwKICAgICAgICAgICAgICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkKSkKICAgICAgICAg
ICAgICAgICBmLndyaXRlKCIgMSwgdHJ1ZSk7XG4iKTsKLSAgICAgICAgICAgIGlmICdBX0NPTkRF
WEVDJyBpbiBoZXhfY29tbW9uLmF0dHJpYmRpY3RbdGFnXToKLSAgICAgICAgICAgICAgICBmLndy
aXRlKCIgICAgaWYgKCFpc192cmVnX3ByZWxvYWRlZChjdHgsICVzKSkge1xuIiAlIChyZWdOKSkK
LSAgICAgICAgICAgICAgICBmLndyaXRlKCIgICAgICAgIGludHB0cl90IHNyY19vZmYgPSIpCi0g
ICAgICAgICAgICAgICAgZi53cml0ZSgiIG9mZnNldG9mKENQVUhleGFnb25TdGF0ZSwgVlJlZ3Nb
JXMlc05dKTtcbiIlIFwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocmVn
dHlwZSwgcmVnaWQpKQotICAgICAgICAgICAgICAgIGYud3JpdGUoIiAgICAgICAgdGNnX2dlbl9n
dmVjX21vdihNT182NCwgJXMlc1Zfb2ZmLFxuIiAlIFwKLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAocmVndHlwZSwgcmVnaWQpKQotICAgICAgICAgICAgICAgIGYud3JpdGUo
IiAgICAgICAgICAgICAgICAgICAgICAgICBzcmNfb2ZmLFxuIikKLSAgICAgICAgICAgICAgICBm
LndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZW9mKE1NVmVjdG9yKSxcbiIpCi0g
ICAgICAgICAgICAgICAgZi53cml0ZSgiICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVvZihN
TVZlY3RvcikpO1xuIikKLSAgICAgICAgICAgICAgICBmLndyaXRlKCIgICAgfVxuIikKIAogICAg
ICAgICAgICAgaWYgKG5vdCBoZXhfY29tbW9uLnNraXBfcWVtdV9oZWxwZXIodGFnKSk6CiAgICAg
ICAgICAgICAgICAgZi53cml0ZSgiICAgIFRDR3ZfcHRyICVzJXNWID0gdGNnX3RlbXBfbmV3X3B0
cigpO1xuIiAlIFwKQEAgLTQyMSw5ICs0MTAsNiBAQCBkZWYgZ2VucHRyX2RzdF93cml0ZV9leHQo
ZiwgdGFnLCByZWd0eXBlLCByZWdpZCwgbmV3dj0iRVhUX0RGTCIpOgogICAgICAgICAgICAgICAg
IChyZWd0eXBlLCByZWdpZCwgcmVndHlwZSwgcmVnaWQpKQogICAgICAgICAgICAgZi53cml0ZSgi
JXMsIGluc24tPnNsb3QsICVzKTtcbiIgJSBcCiAgICAgICAgICAgICAgICAgKG5ld3YsIGlzX3By
ZWRpY2F0ZWQpKQotICAgICAgICAgICAgZi53cml0ZSgiICAgIGN0eF9sb2dfdnJlZ193cml0ZV9w
YWlyKGN0eCwgJXMlc04sICVzLFxuIiAlIFwKLSAgICAgICAgICAgICAgICAocmVndHlwZSwgcmVn
aWQsIG5ld3YpKQotICAgICAgICAgICAgZi53cml0ZSgiICAgICAgICAlcyk7XG4iICUgKGlzX3By
ZWRpY2F0ZWQpKQogICAgICAgICBlbGlmIChyZWdpZCBpbiB7ImQiLCAieCIsICJ5In0pOgogICAg
ICAgICAgICAgaWYgKCdBX0NPTkRFWEVDJyBpbiBoZXhfY29tbW9uLmF0dHJpYmRpY3RbdGFnXSk6
CiAgICAgICAgICAgICAgICAgaXNfcHJlZGljYXRlZCA9ICJ0cnVlIgpAQCAtNDMzLDggKzQxOSw2
IEBAIGRlZiBnZW5wdHJfZHN0X3dyaXRlX2V4dChmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkLCBuZXd2
PSJFWFRfREZMIik6CiAgICAgICAgICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkLCByZWd0eXBlLCBy
ZWdpZCwgbmV3dikpCiAgICAgICAgICAgICBmLndyaXRlKCJpbnNuLT5zbG90LCAlcyk7XG4iICUg
XAogICAgICAgICAgICAgICAgIChpc19wcmVkaWNhdGVkKSkKLSAgICAgICAgICAgIGYud3JpdGUo
IiAgICBjdHhfbG9nX3ZyZWdfd3JpdGUoY3R4LCAlcyVzTiwgJXMsICVzKTtcbiIgJSBcCi0gICAg
ICAgICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkLCBuZXd2LCBpc19wcmVkaWNhdGVkKSkKICAgICAg
ICAgZWxzZToKICAgICAgICAgICAgIHByaW50KCJCYWQgcmVnaXN0ZXIgcGFyc2U6ICIsIHJlZ3R5
cGUsIHJlZ2lkKQogICAgIGVsaWYgKHJlZ3R5cGUgPT0gIlEiKToKQEAgLTQ0Niw4ICs0MzAsNiBA
QCBkZWYgZ2VucHRyX2RzdF93cml0ZV9leHQoZiwgdGFnLCByZWd0eXBlLCByZWdpZCwgbmV3dj0i
RVhUX0RGTCIpOgogICAgICAgICAgICAgZi53cml0ZSgiICAgIGdlbl9sb2dfcXJlZ193cml0ZSgl
cyVzVl9vZmYsICVzJXNOLCAlcywgIiAlIFwKICAgICAgICAgICAgICAgICAocmVndHlwZSwgcmVn
aWQsIHJlZ3R5cGUsIHJlZ2lkLCBuZXd2KSkKICAgICAgICAgICAgIGYud3JpdGUoImluc24tPnNs
b3QsICVzKTtcbiIgJSAoaXNfcHJlZGljYXRlZCkpCi0gICAgICAgICAgICBmLndyaXRlKCIgICAg
Y3R4X2xvZ19xcmVnX3dyaXRlKGN0eCwgJXMlc04sICVzKTtcbiIgJSBcCi0gICAgICAgICAgICAg
ICAgKHJlZ3R5cGUsIHJlZ2lkLCBpc19wcmVkaWNhdGVkKSkKICAgICAgICAgZWxzZToKICAgICAg
ICAgICAgIHByaW50KCJCYWQgcmVnaXN0ZXIgcGFyc2U6ICIsIHJlZ3R5cGUsIHJlZ2lkKQogICAg
IGVsc2U6Ci0tIAoyLjI1LjEKCg==

