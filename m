Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 6C927621996
	for <lists+qemu-devel@lfdr.de>; Tue,  8 Nov 2022 17:39:47 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1osRTV-0006m6-Vj; Tue, 08 Nov 2022 11:29:22 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1osRTU-0006la-S2
 for qemu-devel@nongnu.org; Tue, 08 Nov 2022 11:29:20 -0500
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1osRTM-0008TR-Ag
 for qemu-devel@nongnu.org; Tue, 08 Nov 2022 11:29:20 -0500
Received: from pps.filterd (m0279863.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 2A8Fqom0031650; Tue, 8 Nov 2022 16:29:09 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=uWb+kmRq4dN+GLPnuF79c/kivV0R48DFJn1MYmfPApI=;
 b=cIMfNJCPwfLv023x6Xx1BIWq37vA1LqwrfE+Z7KikHFAA7T/6XBDHfhJnRxs95PP+ES+
 zV5PpU33jM1D8/SbwWmEzGU79FMEr2hPhXUs0gouWRlzfcVgidlg3iALa4fRBghniQ65
 NEX2we+a8FhCGhihmHBwKNhLh+1FOSV3ASnZ5D+gggN5l6E3WitTAjOLbmLvFokhit7o
 u/f8u0TxNj/0uxxd/caEgB/2FEcGr3P+qGOXP0XnJ/hXLEbwx7IPIsyycTlgUraWyJ3N
 pxBPGLbYMmauenFhZ639auRWruqeV55njvbMX1mXZrqYwEPf9kemzVzKWInZdrL0z34u gw== 
Received: from nalasppmta01.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3kqhkp1gr5-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Tue, 08 Nov 2022 16:29:09 +0000
Received: from pps.filterd (NALASPPMTA01.qualcomm.com [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 2A8GT8IP018055; 
 Tue, 8 Nov 2022 16:29:08 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTPS id 3kngwkvdnw-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO);
 Tue, 08 Nov 2022 16:29:08 +0000
Received: from NALASPPMTA01.qualcomm.com (NALASPPMTA01.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 2A8GT8AB018045;
 Tue, 8 Nov 2022 16:29:08 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTP id 2A8GT7J5018041;
 Tue, 08 Nov 2022 16:29:08 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id A1D935000B0; Tue,  8 Nov 2022 08:29:07 -0800 (PST)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v5 04/11] Hexagon (target/hexagon) Only use branch_taken when
 packet has multi cof
Date: Tue,  8 Nov 2022 08:28:59 -0800
Message-Id: <20221108162906.3166-5-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20221108162906.3166-1-tsimpson@quicinc.com>
References: <20221108162906.3166-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: Iqp7tCtoH_tr5W9wNdPq34Sc4bOUOG97
X-Proofpoint-ORIG-GUID: Iqp7tCtoH_tr5W9wNdPq34Sc4bOUOG97
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.219,Aquarius:18.0.895,Hydra:6.0.545,FMLib:17.11.122.1
 definitions=2022-11-07_11,2022-11-08_01,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 lowpriorityscore=0
 spamscore=0 phishscore=0 priorityscore=1501 mlxlogscore=999 mlxscore=0
 impostorscore=0 clxscore=1015 bulkscore=0 malwarescore=0 adultscore=0
 suspectscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2210170000 definitions=main-2211080101
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

V2hlbiBhIHBhY2tldCBoYXMgbW9yZSB0aGFuIG9uZSBjaGFuZ2Utb2YtZmxvdyBpbnN0cnVjdGlv
biwgb25seSB0aGUgZmlyc3QKb25lIHRvIGJyYW5jaCBpcyBjb25zaWRlcmVkLiAgV2UgdXNlIHRo
ZSBicmFuY2hfdGFrZW4gdmFyaWFibGUgdG8ga2VlcAp0cmFjayBvZiB0aGlzLgoKSG93ZXZlciwg
d2hlbiB0aGVyZSBpcyBhIHNpbmdsZSBjb2YgaW5zdHJ1Y3Rpb24sIHdlIGRvbid0IG5lZWQgdGhl
IHNhbWUKYW1vdW50IG9mIGJvb2trZWVwaW5nLgoKV2UgYWRkIHRoZSBwa3RfaGFzX211bHRpX2Nv
ZiBtZW1iZXIgdG8gdGhlIFBhY2tldCBzdHJ1Y3R1cmUsIGFuZCBwYXNzIHRoaXMKaW5mb3JtYXRp
b24gdG8gdGhlIG5lZWRlZCBmdW5jdGlvbnMuCgpXaGVuIHRoZXJlIGlzIGEgZ2VuZXJhdGVkIGhl
bHBlciBmdW5jdGlvbiB3aXRoIGNvZiwgdGhlIGdlbmVyYXRvciB3aWxsCnBhc3MgdGhpcyBwa3Rf
aGFzX211bHRpX2NvZiBhcyBhIHJ1bnRpbWUgdmFsdWUuCgpBY2tlZC1ieTogUmljaGFyZCBIZW5k
ZXJzb24gPHJpY2hhcmQuaGVuZGVyc29uQGxpbmFyby5vcmc+ClNpZ25lZC1vZmYtYnk6IFRheWxv
ciBTaW1wc29uIDx0c2ltcHNvbkBxdWljaW5jLmNvbT4KLS0tCiB0YXJnZXQvaGV4YWdvbi9pbnNu
LmggICAgICAgICAgICAgICB8ICAxICsKIHRhcmdldC9oZXhhZ29uL21hY3Jvcy5oICAgICAgICAg
ICAgIHwgIDIgKy0KIHRhcmdldC9oZXhhZ29uL2RlY29kZS5jICAgICAgICAgICAgIHwgMTUgKysr
KysrKysrKysrKy0tCiB0YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyAgICAgICAgICB8IDI0ICsr
KysrKysrKysrKysrKy0tLS0tLS0tLQogdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMgICAgICAg
ICAgfCAgNCArKystCiB0YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1bmNzLnB5ICB8ICA1ICsr
KystCiB0YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX3Byb3Rvcy5weSB8ICA4ICsrKysrKy0tCiB0
YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5ICAgICB8ICA1ICsrKysrCiB0YXJnZXQvaGV4
YWdvbi9oZXhfY29tbW9uLnB5ICAgICAgICB8ICAzICsrKwogOSBmaWxlcyBjaGFuZ2VkLCA1MSBp
bnNlcnRpb25zKCspLCAxNiBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdv
bi9pbnNuLmggYi90YXJnZXQvaGV4YWdvbi9pbnNuLmgKaW5kZXggY2I5MjU4NjgwMi4uNzc1YzRj
MTgzZCAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vaW5zbi5oCisrKyBiL3RhcmdldC9oZXhh
Z29uL2luc24uaApAQCAtNTcsNiArNTcsNyBAQCBzdHJ1Y3QgUGFja2V0IHsKIAogICAgIC8qIFBy
ZS1kZWNvZGVzIGFib3V0IENPRiAqLwogICAgIGJvb2wgcGt0X2hhc19jb2Y7ICAgICAgICAgIC8q
IEhhcyBhbnkgY2hhbmdlLW9mLWZsb3cgKi8KKyAgICBib29sIHBrdF9oYXNfbXVsdGlfY29mOyAg
ICAvKiBIYXMgbW9yZSB0aGFuIG9uZSBjaGFuZ2Utb2YtZmxvdyAqLwogICAgIGJvb2wgcGt0X2hh
c19lbmRsb29wOwogCiAgICAgYm9vbCBwa3RfaGFzX2RjemVyb2E7CmRpZmYgLS1naXQgYS90YXJn
ZXQvaGV4YWdvbi9tYWNyb3MuaCBiL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5oCmluZGV4IDkzZWU0
NzM5YTEuLjhmZDgxMjNjZWMgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5oCisr
KyBiL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5oCkBAIC00MDcsNyArNDA3LDcgQEAgc3RhdGljIGlu
bGluZSBUQ0d2IGdlbl9yZWFkX2lyZWcoVENHdiByZXN1bHQsIFRDR3YgdmFsLCBpbnQgc2hpZnQp
CiAKICNkZWZpbmUgZkNIRUNLX1BDQUxJR04oQSkKIAotI2RlZmluZSBmV1JJVEVfTlBDKEEpIHdy
aXRlX25ld19wYyhlbnYsIEEpCisjZGVmaW5lIGZXUklURV9OUEMoQSkgd3JpdGVfbmV3X3BjKGVu
diwgcGt0X2hhc19tdWx0aV9jb2YgIT0gMCwgQSkKIAogI2RlZmluZSBmQlJBTkNIKExPQywgVFlQ
RSkgICAgICAgICAgZldSSVRFX05QQyhMT0MpCiAjZGVmaW5lIGZKVU1QUihSRUdOTywgVEFSR0VU
LCBUWVBFKSBmQlJBTkNIKFRBUkdFVCwgQ09GX1RZUEVfSlVNUFIpCmRpZmYgLS1naXQgYS90YXJn
ZXQvaGV4YWdvbi9kZWNvZGUuYyBiL3RhcmdldC9oZXhhZ29uL2RlY29kZS5jCmluZGV4IDZiNzNi
NWM2MGMuLjA0MWM4ZGU3NTEgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2RlY29kZS5jCisr
KyBiL3RhcmdldC9oZXhhZ29uL2RlY29kZS5jCkBAIC0zODgsNiArMzg4LDcgQEAgc3RhdGljIHZv
aWQgZGVjb2RlX3NldF9pbnNuX2F0dHJfZmllbGRzKFBhY2tldCAqcGt0KQogICAgIHVpbnQxNl90
IG9wY29kZTsKIAogICAgIHBrdC0+cGt0X2hhc19jb2YgPSBmYWxzZTsKKyAgICBwa3QtPnBrdF9o
YXNfbXVsdGlfY29mID0gZmFsc2U7CiAgICAgcGt0LT5wa3RfaGFzX2VuZGxvb3AgPSBmYWxzZTsK
ICAgICBwa3QtPnBrdF9oYXNfZGN6ZXJvYSA9IGZhbHNlOwogCkBAIC00MTIsMTMgKzQxMywyMyBA
QCBzdGF0aWMgdm9pZCBkZWNvZGVfc2V0X2luc25fYXR0cl9maWVsZHMoUGFja2V0ICpwa3QpCiAg
ICAgICAgICAgICB9CiAgICAgICAgIH0KIAotICAgICAgICBwa3QtPnBrdF9oYXNfY29mIHw9IGRl
Y29kZV9vcGNvZGVfY2FuX2p1bXAob3Bjb2RlKTsKKyAgICAgICAgaWYgKGRlY29kZV9vcGNvZGVf
Y2FuX2p1bXAob3Bjb2RlKSkgeworICAgICAgICAgICAgaWYgKHBrdC0+cGt0X2hhc19jb2YpIHsK
KyAgICAgICAgICAgICAgICBwa3QtPnBrdF9oYXNfbXVsdGlfY29mID0gdHJ1ZTsKKyAgICAgICAg
ICAgIH0KKyAgICAgICAgICAgIHBrdC0+cGt0X2hhc19jb2YgPSB0cnVlOworICAgICAgICB9CiAK
ICAgICAgICAgcGt0LT5pbnNuW2ldLmlzX2VuZGxvb3AgPSBkZWNvZGVfb3Bjb2RlX2VuZHNfbG9v
cChvcGNvZGUpOwogCiAgICAgICAgIHBrdC0+cGt0X2hhc19lbmRsb29wIHw9IHBrdC0+aW5zbltp
XS5pc19lbmRsb29wOwogCi0gICAgICAgIHBrdC0+cGt0X2hhc19jb2YgfD0gcGt0LT5wa3RfaGFz
X2VuZGxvb3A7CisgICAgICAgIGlmIChwa3QtPnBrdF9oYXNfZW5kbG9vcCkgeworICAgICAgICAg
ICAgaWYgKHBrdC0+cGt0X2hhc19jb2YpIHsKKyAgICAgICAgICAgICAgICBwa3QtPnBrdF9oYXNf
bXVsdGlfY29mID0gdHJ1ZTsKKyAgICAgICAgICAgIH0KKyAgICAgICAgICAgIHBrdC0+cGt0X2hh
c19jb2YgPSB0cnVlOworICAgICAgICB9CiAgICAgfQogfQogCmRpZmYgLS1naXQgYS90YXJnZXQv
aGV4YWdvbi9vcF9oZWxwZXIuYyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCmluZGV4IDA4
NWFmYzMyNzQuLjg0MzkxZTI1ZWIgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBl
ci5jCisrKyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCkBAIC0xMDQsMjAgKzEwNCwyNiBA
QCBzdGF0aWMgdm9pZCBsb2dfc3RvcmU2NChDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vs
b25nIGFkZHIsCiAgICAgZW52LT5tZW1fbG9nX3N0b3Jlc1tzbG90XS5kYXRhNjQgPSB2YWw7CiB9
CiAKLXN0YXRpYyB2b2lkIHdyaXRlX25ld19wYyhDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0
X3Vsb25nIGFkZHIpCitzdGF0aWMgdm9pZCB3cml0ZV9uZXdfcGMoQ1BVSGV4YWdvblN0YXRlICpl
bnYsIGJvb2wgcGt0X2hhc19tdWx0aV9jb2YsCisgICAgICAgICAgICAgICAgICAgICAgICAgdGFy
Z2V0X3Vsb25nIGFkZHIpCiB7CiAgICAgSEVYX0RFQlVHX0xPRygid3JpdGVfbmV3X3BjKDB4IiBU
QVJHRVRfRk1UX2x4ICIpXG4iLCBhZGRyKTsKIAotICAgIC8qCi0gICAgICogSWYgbW9yZSB0aGFu
IG9uZSBicmFuY2ggaXMgdGFrZW4gaW4gYSBwYWNrZXQsIG9ubHkgdGhlIGZpcnN0IG9uZQotICAg
ICAqIGlzIGFjdHVhbGx5IGRvbmUuCi0gICAgICovCi0gICAgaWYgKGVudi0+YnJhbmNoX3Rha2Vu
KSB7Ci0gICAgICAgIEhFWF9ERUJVR19MT0coIklORk86IG11bHRpcGxlIGJyYW5jaGVzIHRha2Vu
IGluIHNhbWUgcGFja2V0LCAiCi0gICAgICAgICAgICAgICAgICAgICAgImlnbm9yaW5nIHRoZSBz
ZWNvbmQgb25lXG4iKTsKKyAgICBpZiAocGt0X2hhc19tdWx0aV9jb2YpIHsKKyAgICAgICAgLyoK
KyAgICAgICAgICogSWYgbW9yZSB0aGFuIG9uZSBicmFuY2ggaXMgdGFrZW4gaW4gYSBwYWNrZXQs
IG9ubHkgdGhlIGZpcnN0IG9uZQorICAgICAgICAgKiBpcyBhY3R1YWxseSBkb25lLgorICAgICAg
ICAgKi8KKyAgICAgICAgaWYgKGVudi0+YnJhbmNoX3Rha2VuKSB7CisgICAgICAgICAgICBIRVhf
REVCVUdfTE9HKCJJTkZPOiBtdWx0aXBsZSBicmFuY2hlcyB0YWtlbiBpbiBzYW1lIHBhY2tldCwg
IgorICAgICAgICAgICAgICAgICAgICAgICAgICAiaWdub3JpbmcgdGhlIHNlY29uZCBvbmVcbiIp
OworICAgICAgICB9IGVsc2UgeworICAgICAgICAgICAgZkNIRUNLX1BDQUxJR04oYWRkcik7Cisg
ICAgICAgICAgICBlbnYtPm5leHRfUEMgPSBhZGRyOworICAgICAgICAgICAgZW52LT5icmFuY2hf
dGFrZW4gPSAxOworICAgICAgICB9CiAgICAgfSBlbHNlIHsKICAgICAgICAgZkNIRUNLX1BDQUxJ
R04oYWRkcik7Ci0gICAgICAgIGVudi0+YnJhbmNoX3Rha2VuID0gMTsKICAgICAgICAgZW52LT5u
ZXh0X1BDID0gYWRkcjsKICAgICB9CiB9CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFu
c2xhdGUuYyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCmluZGV4IDA5NDBkMGYyYzEuLjFk
ODcyZDcyYjYgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCisrKyBiL3Rh
cmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCkBAIC0yNDgsNyArMjQ4LDkgQEAgc3RhdGljIHZvaWQg
Z2VuX3N0YXJ0X3BhY2tldChEaXNhc0NvbnRleHQgKmN0eCkKICAgICAgICAgdGNnX2dlbl9tb3Zp
X3RsKGhleF9zbG90X2NhbmNlbGxlZCwgMCk7CiAgICAgfQogICAgIGlmIChwa3QtPnBrdF9oYXNf
Y29mKSB7Ci0gICAgICAgIHRjZ19nZW5fbW92aV90bChoZXhfYnJhbmNoX3Rha2VuLCAwKTsKKyAg
ICAgICAgaWYgKHBrdC0+cGt0X2hhc19tdWx0aV9jb2YpIHsKKyAgICAgICAgICAgIHRjZ19nZW5f
bW92aV90bChoZXhfYnJhbmNoX3Rha2VuLCAwKTsKKyAgICAgICAgfQogICAgICAgICB0Y2dfZ2Vu
X21vdmlfdGwoaGV4X25leHRfUEMsIG5leHRfUEMpOwogICAgIH0KICAgICBpZiAobmVlZF9wcmVk
X3dyaXR0ZW4ocGt0KSkgewpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9m
dW5jcy5weSBiL3RhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVuY3MucHkKaW5kZXggYTQ0NmM0
NTM4NC4uYzRmYzYwOWIzMSAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9m
dW5jcy5weQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1bmNzLnB5CkBAIC0xLDcg
KzEsNyBAQAogIyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwogCiAjIwotIyMgIENvcHlyaWdodChjKSAy
MDE5LTIwMjEgUXVhbGNvbW0gSW5ub3ZhdGlvbiBDZW50ZXIsIEluYy4gQWxsIFJpZ2h0cyBSZXNl
cnZlZC4KKyMjICBDb3B5cmlnaHQoYykgMjAxOS0yMDIyIFF1YWxjb21tIElubm92YXRpb24gQ2Vu
dGVyLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCiAjIwogIyMgIFRoaXMgcHJvZ3JhbSBpcyBm
cmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CiAjIyAg
aXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBw
dWJsaXNoZWQgYnkKQEAgLTIzOCw2ICsyMzgsOSBAQCBkZWYgZ2VuX2hlbHBlcl9mdW5jdGlvbihm
LCB0YWcsIHRhZ3JlZ3MsIHRhZ2ltbXMpOgogICAgICAgICAgICAgZ2VuX2hlbHBlcl9hcmdfaW1t
KGYsaW1tbGV0dCkKICAgICAgICAgICAgIGkgKz0gMQogCisgICAgICAgIGlmIChoZXhfY29tbW9u
Lm5lZWRfcGt0X2hhc19tdWx0aV9jb2YodGFnKSk6CisgICAgICAgICAgICBmLndyaXRlKCIsIHVp
bnQzMl90IHBrdF9oYXNfbXVsdGlfY29mIikKKwogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRf
c2xvdCh0YWcpOgogICAgICAgICAgICAgaWYgaSA+IDA6IGYud3JpdGUoIiwgIikKICAgICAgICAg
ICAgIGYud3JpdGUoInVpbnQzMl90IHNsb3QiKQpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24v
Z2VuX2hlbHBlcl9wcm90b3MucHkgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX3Byb3Rvcy5w
eQppbmRleCAzYjRlOTkzZmQxLi44YzZiMzZkOGQ4IDEwMDc1NQotLS0gYS90YXJnZXQvaGV4YWdv
bi9nZW5faGVscGVyX3Byb3Rvcy5weQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX3By
b3Rvcy5weQpAQCAtMSw3ICsxLDcgQEAKICMhL3Vzci9iaW4vZW52IHB5dGhvbjMKIAogIyMKLSMj
ICBDb3B5cmlnaHQoYykgMjAxOS0yMDIxIFF1YWxjb21tIElubm92YXRpb24gQ2VudGVyLCBJbmMu
IEFsbCBSaWdodHMgUmVzZXJ2ZWQuCisjIyAgQ29weXJpZ2h0KGMpIDIwMTktMjAyMiBRdWFsY29t
bSBJbm5vdmF0aW9uIENlbnRlciwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLgogIyMKICMjICBU
aGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5k
L29yIG1vZGlmeQogIyMgIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVi
bGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CkBAIC04Miw2ICs4Miw3IEBAIGRlZiBnZW5faGVs
cGVyX3Byb3RvdHlwZShmLCB0YWcsIHRhZ3JlZ3MsIHRhZ2ltbXMpOgogICAgICAgICAjIyBGaWd1
cmUgb3V0IGhvdyBtYW55IGFyZ3VtZW50cyB0aGUgaGVscGVyIHdpbGwgdGFrZQogICAgICAgICBp
ZiAobnVtc2NhbGFycmVzdWx0cyA9PSAwKToKICAgICAgICAgICAgIGRlZl9oZWxwZXJfc2l6ZSA9
IGxlbihyZWdzKStsZW4oaW1tcykrbnVtc2NhbGFycmVhZHdyaXRlKzEKKyAgICAgICAgICAgIGlm
IGhleF9jb21tb24ubmVlZF9wa3RfaGFzX211bHRpX2NvZih0YWcpOiBkZWZfaGVscGVyX3NpemUg
Kz0gMQogICAgICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BhcnQxKHRhZyk6IGRlZl9oZWxw
ZXJfc2l6ZSArPSAxCiAgICAgICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcpOiBk
ZWZfaGVscGVyX3NpemUgKz0gMQogICAgICAgICAgICAgZi53cml0ZSgnREVGX0hFTFBFUl8lcygl
cycgJSAoZGVmX2hlbHBlcl9zaXplLCB0YWcpKQpAQCAtODksNiArOTAsNyBAQCBkZWYgZ2VuX2hl
bHBlcl9wcm90b3R5cGUoZiwgdGFnLCB0YWdyZWdzLCB0YWdpbW1zKToKICAgICAgICAgICAgIGYu
d3JpdGUoJywgdm9pZCcgKQogICAgICAgICBlbHNlOgogICAgICAgICAgICAgZGVmX2hlbHBlcl9z
aXplID0gbGVuKHJlZ3MpK2xlbihpbW1zKStudW1zY2FsYXJyZWFkd3JpdGUKKyAgICAgICAgICAg
IGlmIGhleF9jb21tb24ubmVlZF9wa3RfaGFzX211bHRpX2NvZih0YWcpOiBkZWZfaGVscGVyX3Np
emUgKz0gMQogICAgICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BhcnQxKHRhZyk6IGRlZl9o
ZWxwZXJfc2l6ZSArPSAxCiAgICAgICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcp
OiBkZWZfaGVscGVyX3NpemUgKz0gMQogICAgICAgICAgICAgZi53cml0ZSgnREVGX0hFTFBFUl8l
cyglcycgJSAoZGVmX2hlbHBlcl9zaXplLCB0YWcpKQpAQCAtMTI2LDcgKzEyOCw5IEBAIGRlZiBn
ZW5faGVscGVyX3Byb3RvdHlwZShmLCB0YWcsIHRhZ3JlZ3MsIHRhZ2ltbXMpOgogICAgICAgICBm
b3IgaW1tbGV0dCxiaXRzLGltbXNoaWZ0IGluIGltbXM6CiAgICAgICAgICAgICBmLndyaXRlKCIs
IHMzMiIpCiAKLSAgICAgICAgIyMgQWRkIHRoZSBhcmd1bWVudHMgZm9yIHRoZSBpbnN0cnVjdGlv
biBzbG90IGFuZCBwYXJ0MSAoaWYgbmVlZGVkKQorICAgICAgICAjIyBBZGQgdGhlIGFyZ3VtZW50
cyBmb3IgdGhlIGluc3RydWN0aW9uIHBrdF9oYXNfbXVsdGlfY29mLCBzbG90IGFuZAorICAgICAg
ICAjIyBwYXJ0MSAoaWYgbmVlZGVkKQorICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGt0X2hh
c19tdWx0aV9jb2YodGFnKTogZi53cml0ZSgnLCBpMzInKQogICAgICAgICBpZiBoZXhfY29tbW9u
Lm5lZWRfc2xvdCh0YWcpOiBmLndyaXRlKCcsIGkzMicgKQogICAgICAgICBpZiBoZXhfY29tbW9u
Lm5lZWRfcGFydDEodGFnKTogZi53cml0ZSgnICwgaTMyJyApCiAgICAgICAgIGYud3JpdGUoJylc
bicpCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5IGIvdGFyZ2V0
L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQppbmRleCBjYTVmZGU5MWNjLi5iZDE5OWRjYmYxIDEw
MDc1NQotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CisrKyBiL3RhcmdldC9o
ZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKQEAgLTYyMiw2ICs2MjIsOSBAQCBkZWYgZ2VuX3RjZ19m
dW5jKGYsIHRhZywgcmVncywgaW1tcyk6CiAgICAgICAgICMjIEdlbmVyYXRlIHRoZSBjYWxsIHRv
IHRoZSBoZWxwZXIKICAgICAgICAgZm9yIGltbWxldHQsYml0cyxpbW1zaGlmdCBpbiBpbW1zOgog
ICAgICAgICAgICAgZ2VuX2hlbHBlcl9kZWNsX2ltbShmLGltbWxldHQpCisgICAgICAgIGlmIGhl
eF9jb21tb24ubmVlZF9wa3RfaGFzX211bHRpX2NvZih0YWcpOgorICAgICAgICAgICAgZi53cml0
ZSgiICAgIFRDR3YgcGt0X2hhc19tdWx0aV9jb2YgPSAiKQorICAgICAgICAgICAgZi53cml0ZSgi
dGNnX2NvbnN0YW50X3RsKGN0eC0+cGt0LT5wa3RfaGFzX211bHRpX2NvZik7XG4iKQogICAgICAg
ICBpZiBoZXhfY29tbW9uLm5lZWRfcGFydDEodGFnKToKICAgICAgICAgICAgIGYud3JpdGUoIiAg
ICBUQ0d2IHBhcnQxID0gdGNnX2NvbnN0YW50X3RsKGluc24tPnBhcnQxKTtcbiIpCiAgICAgICAg
IGlmIGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6CkBAIC02NTQsNiArNjU3LDggQEAgZGVmIGdl
bl90Y2dfZnVuYyhmLCB0YWcsIHJlZ3MsIGltbXMpOgogICAgICAgICBmb3IgaW1tbGV0dCxiaXRz
LGltbXNoaWZ0IGluIGltbXM6CiAgICAgICAgICAgICBnZW5faGVscGVyX2NhbGxfaW1tKGYsaW1t
bGV0dCkKIAorICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGt0X2hhc19tdWx0aV9jb2YodGFn
KToKKyAgICAgICAgICAgIGYud3JpdGUoIiwgcGt0X2hhc19tdWx0aV9jb2YiKQogICAgICAgICBp
ZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcpOiBmLndyaXRlKCIsIHNsb3QiKQogICAgICAgICBp
ZiBoZXhfY29tbW9uLm5lZWRfcGFydDEodGFnKTogZi53cml0ZSgiLCBwYXJ0MSIgKQogICAgICAg
ICBmLndyaXRlKCIpO1xuIikKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24u
cHkgYi90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5CmluZGV4IGQ5YmE3ZGY3ODYuLmY1YjU4
NTAxZGIgMTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkKKysrIGIvdGFy
Z2V0L2hleGFnb24vaGV4X2NvbW1vbi5weQpAQCAtMjA3LDYgKzIwNyw5IEBAIGRlZiBuZWVkX3Bh
cnQxKHRhZyk6CiBkZWYgbmVlZF9lYSh0YWcpOgogICAgIHJldHVybiByZS5jb21waWxlKHIiXGJF
QVxiIikuc2VhcmNoKHNlbWRpY3RbdGFnXSkKIAorZGVmIG5lZWRfcGt0X2hhc19tdWx0aV9jb2Yo
dGFnKToKKyAgICByZXR1cm4gJ0FfQ09GJyBpbiBhdHRyaWJkaWN0W3RhZ10KKwogZGVmIHNraXBf
cWVtdV9oZWxwZXIodGFnKToKICAgICByZXR1cm4gdGFnIGluIG92ZXJyaWRlcy5rZXlzKCkKIAot
LSAKMi4xNy4xCgo=

