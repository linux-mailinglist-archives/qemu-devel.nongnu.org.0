Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 41FAE6F0EBD
	for <lists+qemu-devel@lfdr.de>; Fri, 28 Apr 2023 01:07:55 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1psAbV-0001qR-Ii; Thu, 27 Apr 2023 19:00:45 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1psAbN-0001nS-5T
 for qemu-devel@nongnu.org; Thu, 27 Apr 2023 19:00:38 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1psAbE-0001Lo-Ft
 for qemu-devel@nongnu.org; Thu, 27 Apr 2023 19:00:36 -0400
Received: from pps.filterd (m0279872.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 33RMvgvR012998; Thu, 27 Apr 2023 23:00:17 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=Pt3HE1sw2Mh4gJDmg9GxXcS2jhEC3uDq7+sqJQz6hSI=;
 b=n/JPwNld0Sv8GmNhO/q5YXvS1mDZYtc1U6yBACM/kgCmajeQn3/6yHdd5jMnYPn3Xu0u
 MTUtqx/ctvGGgyibeWL6foXU6fDRZOHRQNSKOyDuUhuMR65RgoIS+gNg/hOmM8VuWmiW
 1oFOIlMPFYz2BcLayxjH6SyfD5tQBug7QDfF+y47FPuW32DDr033fwWswf5hiReF0goZ
 jBEW9xF+dmn7zIlVSPChdZ6LVxVQCyM5nrDehGhQPBQPyOSOV5IUVglg+We+Xq6FMZqJ
 +dr2G8tZb3FKTsD4qAhXcht5KZ6mFTFD71XGdrrYMszIQiUF288BunXHBJ9fQuJT+XKB sQ== 
Received: from nalasppmta04.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3q7kuxa645-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:16 +0000
Received: from pps.filterd (NALASPPMTA04.qualcomm.com [127.0.0.1])
 by NALASPPMTA04.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 33RN0FQx015040; 
 Thu, 27 Apr 2023 23:00:15 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA04.qualcomm.com (PPS) with ESMTPS id 3q48nmj7m6-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:15 +0000
Received: from NALASPPMTA04.qualcomm.com (NALASPPMTA04.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 33RN0Fer015028;
 Thu, 27 Apr 2023 23:00:15 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA04.qualcomm.com (PPS) with ESMTPS id 33RN0EPM015014
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:15 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id E73356CE; Thu, 27 Apr 2023 16:00:13 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v2 20/21] Hexagon (target/hexagon) Move pkt_has_store_s1 to
 DisasContext
Date: Thu, 27 Apr 2023 16:00:11 -0700
Message-Id: <20230427230012.3800327-21-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20230427230012.3800327-1-tsimpson@quicinc.com>
References: <20230427230012.3800327-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: 3cUDF2lnY0DMcE9TSo_jqT27bwVOH1NG
X-Proofpoint-GUID: 3cUDF2lnY0DMcE9TSo_jqT27bwVOH1NG
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.254,Aquarius:18.0.942,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-04-27_09,2023-04-27_01,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 lowpriorityscore=0
 malwarescore=0 clxscore=1015 suspectscore=0 priorityscore=1501 spamscore=0
 impostorscore=0 mlxlogscore=999 phishscore=0 mlxscore=0 adultscore=0
 bulkscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2303200000 definitions=main-2304270202
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlIHBrdF9oYXNfc3RvcmVfczEgZmllbGQgaXMgb25seSB1c2VkIGZvciBib29ra2VlcGluZyBo
ZWxwZXJzIHdpdGgKYSBsb2FkLiAgV2l0aCByZWNlbnQgY2hhbmdlcyB0aGF0IGVsaW1pbmF0ZSB0
aGUgbmVlZCB0byBmcmVlIFRDR3YKdmFyaWFibGVzLCBpdCBtYWtlcyBtb3JlIHNlbnNlIHRvIG1h
a2UgdGhpcyB0cmFuc2llbnQuCgpUaGVzZSBoZWxwZXJzIGFscmVhZHkgdGFrZSB0aGUgaW5zdHJ1
Y3Rpb24gc2xvdCBhcyBhbiBhcmd1bWVudC4gIFdlCmNvbWJpbmUgdGhlIHNsb3QgYW5kIHBrdF9o
YXNfc3RvcmVfczEgaW50byBhIHNpbmdsZSBhcmd1bWVudCBjYWxsZWQKc2xvdHZhbC4KClN1Z2dl
c3RlZC1ieTogUmljaGFyZCBIZW5kZXJzb24gPHJpY2hhcmQuaGVuZGVyc29uQGxpbmFyby5vcmc+
ClNpZ25lZC1vZmYtYnk6IFRheWxvciBTaW1wc29uIDx0c2ltcHNvbkBxdWljaW5jLmNvbT4KUmV2
aWV3ZWQtYnk6IFJpY2hhcmQgSGVuZGVyc29uIDxyaWNoYXJkLmhlbmRlcnNvbkBsaW5hcm8ub3Jn
PgotLS0KIHRhcmdldC9oZXhhZ29uL2NwdS5oICAgICAgICAgICAgICAgIHwgIDEgLQogdGFyZ2V0
L2hleGFnb24vbWFjcm9zLmggICAgICAgICAgICAgfCAxNiArKysrKysrKy0tLS0tLS0tCiB0YXJn
ZXQvaGV4YWdvbi9vcF9oZWxwZXIuaCAgICAgICAgICB8IDEyICsrKysrKysrLS0tLQogdGFyZ2V0
L2hleGFnb24vdHJhbnNsYXRlLmggICAgICAgICAgfCAgMSAtCiB0YXJnZXQvaGV4YWdvbi9nZW5w
dHIuYyAgICAgICAgICAgICB8ICA4ICsrKysrKysrCiB0YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIu
YyAgICAgICAgICB8IDI2ICsrKysrKysrKysrKysrKy0tLS0tLS0tLS0tCiB0YXJnZXQvaGV4YWdv
bi90cmFuc2xhdGUuYyAgICAgICAgICB8ICA3IC0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL2dlbl9h
bmFseXplX2Z1bmNzLnB5IHwgIDIgLS0KIHRhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVuY3Mu
cHkgIHwgIDcgKysrKysrLQogdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSAgICAgfCAg
NCArKy0tCiB0YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5ICAgICAgICB8ICA3ICsrKystLS0K
IDExIGZpbGVzIGNoYW5nZWQsIDUxIGluc2VydGlvbnMoKyksIDQwIGRlbGV0aW9ucygtKQoKZGlm
ZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2NwdS5oIGIvdGFyZ2V0L2hleGFnb24vY3B1LmgKaW5k
ZXggMjY5NTJjZGRjYi4uNzJiN2Q3OTI3OSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vY3B1
LmgKKysrIGIvdGFyZ2V0L2hleGFnb24vY3B1LmgKQEAgLTk1LDcgKzk1LDYgQEAgdHlwZWRlZiBz
dHJ1Y3QgQ1BVQXJjaFN0YXRlIHsKICAgICB0YXJnZXRfdWxvbmcgcmVnX3dyaXR0ZW5bVE9UQUxf
UEVSX1RIUkVBRF9SRUdTXTsKIAogICAgIE1lbUxvZyBtZW1fbG9nX3N0b3Jlc1tTVE9SRVNfTUFY
XTsKLSAgICB0YXJnZXRfdWxvbmcgcGt0X2hhc19zdG9yZV9zMTsKICAgICB0YXJnZXRfdWxvbmcg
ZGN6ZXJvX2FkZHI7CiAKICAgICBmbG9hdF9zdGF0dXMgZnBfc3RhdHVzOwpkaWZmIC0tZ2l0IGEv
dGFyZ2V0L2hleGFnb24vbWFjcm9zLmggYi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAppbmRleCAy
NzE3MjE5M2EwLi5mNWViYWY3ZjU0IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9tYWNyb3Mu
aAorKysgYi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaApAQCAtMTczLDE0ICsxNzMsMTQgQEAKICNk
ZWZpbmUgTUVNX1NUT1JFOChWQSwgREFUQSwgU0xPVCkgXAogICAgIE1FTV9TVE9SRThfRlVOQyhE
QVRBKShjcHVfZW52LCBWQSwgREFUQSwgU0xPVCkKICNlbHNlCi0jZGVmaW5lIE1FTV9MT0FEMXMo
VkEpICgoaW50OF90KW1lbV9sb2FkMShlbnYsIHNsb3QsIFZBKSkKLSNkZWZpbmUgTUVNX0xPQUQx
dShWQSkgKCh1aW50OF90KW1lbV9sb2FkMShlbnYsIHNsb3QsIFZBKSkKLSNkZWZpbmUgTUVNX0xP
QUQycyhWQSkgKChpbnQxNl90KW1lbV9sb2FkMihlbnYsIHNsb3QsIFZBKSkKLSNkZWZpbmUgTUVN
X0xPQUQydShWQSkgKCh1aW50MTZfdCltZW1fbG9hZDIoZW52LCBzbG90LCBWQSkpCi0jZGVmaW5l
IE1FTV9MT0FENHMoVkEpICgoaW50MzJfdCltZW1fbG9hZDQoZW52LCBzbG90LCBWQSkpCi0jZGVm
aW5lIE1FTV9MT0FENHUoVkEpICgodWludDMyX3QpbWVtX2xvYWQ0KGVudiwgc2xvdCwgVkEpKQot
I2RlZmluZSBNRU1fTE9BRDhzKFZBKSAoKGludDY0X3QpbWVtX2xvYWQ4KGVudiwgc2xvdCwgVkEp
KQotI2RlZmluZSBNRU1fTE9BRDh1KFZBKSAoKHVpbnQ2NF90KW1lbV9sb2FkOChlbnYsIHNsb3Qs
IFZBKSkKKyNkZWZpbmUgTUVNX0xPQUQxcyhWQSkgKChpbnQ4X3QpbWVtX2xvYWQxKGVudiwgcGt0
X2hhc19zdG9yZV9zMSwgc2xvdCwgVkEpKQorI2RlZmluZSBNRU1fTE9BRDF1KFZBKSAoKHVpbnQ4
X3QpbWVtX2xvYWQxKGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgVkEpKQorI2RlZmluZSBN
RU1fTE9BRDJzKFZBKSAoKGludDE2X3QpbWVtX2xvYWQyKGVudiwgcGt0X2hhc19zdG9yZV9zMSwg
c2xvdCwgVkEpKQorI2RlZmluZSBNRU1fTE9BRDJ1KFZBKSAoKHVpbnQxNl90KW1lbV9sb2FkMihl
bnYsIHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIFZBKSkKKyNkZWZpbmUgTUVNX0xPQUQ0cyhWQSkg
KChpbnQzMl90KW1lbV9sb2FkNChlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIFZBKSkKKyNk
ZWZpbmUgTUVNX0xPQUQ0dShWQSkgKCh1aW50MzJfdCltZW1fbG9hZDQoZW52LCBwa3RfaGFzX3N0
b3JlX3MxLCBzbG90LCBWQSkpCisjZGVmaW5lIE1FTV9MT0FEOHMoVkEpICgoaW50NjRfdCltZW1f
bG9hZDgoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCBWQSkpCisjZGVmaW5lIE1FTV9MT0FE
OHUoVkEpICgodWludDY0X3QpbWVtX2xvYWQ4KGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwg
VkEpKQogCiAjZGVmaW5lIE1FTV9TVE9SRTEoVkEsIERBVEEsIFNMT1QpIGxvZ19zdG9yZTMyKGVu
diwgVkEsIERBVEEsIDEsIFNMT1QpCiAjZGVmaW5lIE1FTV9TVE9SRTIoVkEsIERBVEEsIFNMT1Qp
IGxvZ19zdG9yZTMyKGVudiwgVkEsIERBVEEsIDIsIFNMT1QpCmRpZmYgLS1naXQgYS90YXJnZXQv
aGV4YWdvbi9vcF9oZWxwZXIuaCBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5oCmluZGV4IDZi
ZDRiMDc4NDkuLjhmMzc2NGQxNWUgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBl
ci5oCisrKyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5oCkBAIC0xOSwxMCArMTksMTQgQEAK
ICNkZWZpbmUgSEVYQUdPTl9PUF9IRUxQRVJfSAogCiAvKiBNaXNjIGZ1bmN0aW9ucyAqLwotdWlu
dDhfdCBtZW1fbG9hZDEoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdl
dF91bG9uZyB2YWRkcik7Ci11aW50MTZfdCBtZW1fbG9hZDIoQ1BVSGV4YWdvblN0YXRlICplbnYs
IHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7Ci11aW50MzJfdCBtZW1fbG9hZDQo
Q1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7
Ci11aW50NjRfdCBtZW1fbG9hZDgoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3Qs
IHRhcmdldF91bG9uZyB2YWRkcik7Cit1aW50OF90IG1lbV9sb2FkMShDUFVIZXhhZ29uU3RhdGUg
KmVudiwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgdWludDMyX3Qg
c2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKTsKK3VpbnQxNl90IG1lbV9sb2FkMihDUFVIZXhhZ29u
U3RhdGUgKmVudiwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgIHVp
bnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7Cit1aW50MzJfdCBtZW1fbG9hZDQoQ1BV
SGV4YWdvblN0YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAg
ICAgICB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpOwordWludDY0X3QgbWVtX2xv
YWQ4KENQVUhleGFnb25TdGF0ZSAqZW52LCBib29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAg
ICAgICAgICAgICAgdWludDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKTsKIAogdm9pZCBs
b2dfc3RvcmU2NChDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vsb25nIGFkZHIsCiAgICAg
ICAgICAgICAgICAgIGludDY0X3QgdmFsLCBpbnQgd2lkdGgsIGludCBzbG90KTsKZGlmZiAtLWdp
dCBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5oIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRl
LmgKaW5kZXggYTlmMWNjZWUyNC4uOTY5N2I0ZGUwZSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFn
b24vdHJhbnNsYXRlLmgKKysrIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKQEAgLTY2LDcg
KzY2LDYgQEAgdHlwZWRlZiBzdHJ1Y3QgRGlzYXNDb250ZXh0IHsKICAgICBUQ0dDb25kIGJyYW5j
aF9jb25kOwogICAgIHRhcmdldF91bG9uZyBicmFuY2hfZGVzdDsKICAgICBib29sIGlzX3RpZ2h0
X2xvb3A7Ci0gICAgYm9vbCBuZWVkX3BrdF9oYXNfc3RvcmVfczE7CiAgICAgYm9vbCBzaG9ydF9j
aXJjdWl0OwogICAgIGJvb2wgaGFzX2h2eF9oZWxwZXI7CiAgICAgVENHdiBuZXdfdmFsdWVbVE9U
QUxfUEVSX1RIUkVBRF9SRUdTXTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5j
IGIvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMKaW5kZXggMWFkNGQ2MzZmOC4uMWU5OGUyOTEzYyAx
MDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24v
Z2VucHRyLmMKQEAgLTM5OCw2ICszOTgsMTQgQEAgc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9y
ZV9jb25kaXRpb25hbDgoRGlzYXNDb250ZXh0ICpjdHgsCiAgICAgdGNnX2dlbl9tb3ZpX3RsKGhl
eF9sbHNjX2FkZHIsIH4wKTsKIH0KIAorI2lmbmRlZiBDT05GSUdfSEVYQUdPTl9JREVGX1BBUlNF
Ugorc3RhdGljIFRDR3YgZ2VuX3Nsb3R2YWwoRGlzYXNDb250ZXh0ICpjdHgpCit7CisgICAgaW50
IHNsb3R2YWwgPSAoY3R4LT5wa3QtPnBrdF9oYXNfc3RvcmVfczEgJiAxKSB8IChjdHgtPmluc24t
PnNsb3QgPDwgMSk7CisgICAgcmV0dXJuIHRjZ19jb25zdGFudF90bChzbG90dmFsKTsKK30KKyNl
bmRpZgorCiB2b2lkIGdlbl9zdG9yZTMyKFRDR3YgdmFkZHIsIFRDR3Ygc3JjLCBpbnQgd2lkdGgs
IHVpbnQzMl90IHNsb3QpCiB7CiAgICAgdGNnX2dlbl9tb3ZfdGwoaGV4X3N0b3JlX2FkZHJbc2xv
dF0sIHZhZGRyKTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jIGIvdGFy
Z2V0L2hleGFnb24vb3BfaGVscGVyLmMKaW5kZXggZjkwMjFlZmM3ZS4uZGZhYmNlMzEyMyAxMDA2
NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24v
b3BfaGVscGVyLmMKQEAgLTU2Nyw0MSArNTY3LDQ1IEBAIHZvaWQgSEVMUEVSKHByb2JlX3BrdF9z
Y2FsYXJfaHZ4X3N0b3JlcykoQ1BVSGV4YWdvblN0YXRlICplbnYsIGludCBtYXNrKQogICogSWYg
dGhlIGxvYWQgaXMgaW4gc2xvdCAwIGFuZCB0aGVyZSBpcyBhIHN0b3JlIGluIHNsb3QxICh0aGF0
CiAgKiB3YXNuJ3QgY2FuY2VsbGVkKSwgd2UgaGF2ZSB0byBkbyB0aGUgc3RvcmUgZmlyc3QuCiAg
Ki8KLXN0YXRpYyB2b2lkIGNoZWNrX25vc2h1ZihDUFVIZXhhZ29uU3RhdGUgKmVudiwgdWludDMy
X3Qgc2xvdCwKLSAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfdWxvbmcgdmFkZHIsIGlu
dCBzaXplKQorc3RhdGljIHZvaWQgY2hlY2tfbm9zaHVmKENQVUhleGFnb25TdGF0ZSAqZW52LCBi
b29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3Qg
c2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyLCBpbnQgc2l6ZSkKIHsKLSAgICBpZiAoc2xvdCA9PSAw
ICYmIGVudi0+cGt0X2hhc19zdG9yZV9zMSAmJgorICAgIGlmIChzbG90ID09IDAgJiYgcGt0X2hh
c19zdG9yZV9zMSAmJgogICAgICAgICAoKGVudi0+c2xvdF9jYW5jZWxsZWQgJiAoMSA8PCAxKSkg
PT0gMCkpIHsKICAgICAgICAgSEVMUEVSKHByb2JlX25vc2h1Zl9sb2FkKShlbnYsIHZhZGRyLCBz
aXplLCBNTVVfVVNFUl9JRFgpOwogICAgICAgICBIRUxQRVIoY29tbWl0X3N0b3JlKShlbnYsIDEp
OwogICAgIH0KIH0KIAotdWludDhfdCBtZW1fbG9hZDEoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVp
bnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcikKK3VpbnQ4X3QgbWVtX2xvYWQxKENQVUhl
eGFnb25TdGF0ZSAqZW52LCBib29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAgICAgICAgICAg
ICB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpCiB7CiAgICAgdWludHB0cl90IHJh
ID0gR0VUUEMoKTsKLSAgICBjaGVja19ub3NodWYoZW52LCBzbG90LCB2YWRkciwgMSk7CisgICAg
Y2hlY2tfbm9zaHVmKGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgdmFkZHIsIDEpOwogICAg
IHJldHVybiBjcHVfbGR1Yl9kYXRhX3JhKGVudiwgdmFkZHIsIHJhKTsKIH0KIAotdWludDE2X3Qg
bWVtX2xvYWQyKENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxv
bmcgdmFkZHIpCit1aW50MTZfdCBtZW1fbG9hZDIoQ1BVSGV4YWdvblN0YXRlICplbnYsIGJvb2wg
cGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBzbG90LCB0YXJn
ZXRfdWxvbmcgdmFkZHIpCiB7CiAgICAgdWludHB0cl90IHJhID0gR0VUUEMoKTsKLSAgICBjaGVj
a19ub3NodWYoZW52LCBzbG90LCB2YWRkciwgMik7CisgICAgY2hlY2tfbm9zaHVmKGVudiwgcGt0
X2hhc19zdG9yZV9zMSwgc2xvdCwgdmFkZHIsIDIpOwogICAgIHJldHVybiBjcHVfbGR1d19kYXRh
X3JhKGVudiwgdmFkZHIsIHJhKTsKIH0KIAotdWludDMyX3QgbWVtX2xvYWQ0KENQVUhleGFnb25T
dGF0ZSAqZW52LCB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpCit1aW50MzJfdCBt
ZW1fbG9hZDQoQ1BVSGV4YWdvblN0YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAg
ICAgICAgICAgICAgICAgICB1aW50MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpCiB7CiAg
ICAgdWludHB0cl90IHJhID0gR0VUUEMoKTsKLSAgICBjaGVja19ub3NodWYoZW52LCBzbG90LCB2
YWRkciwgNCk7CisgICAgY2hlY2tfbm9zaHVmKGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwg
dmFkZHIsIDQpOwogICAgIHJldHVybiBjcHVfbGRsX2RhdGFfcmEoZW52LCB2YWRkciwgcmEpOwog
fQogCi11aW50NjRfdCBtZW1fbG9hZDgoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNs
b3QsIHRhcmdldF91bG9uZyB2YWRkcikKK3VpbnQ2NF90IG1lbV9sb2FkOChDUFVIZXhhZ29uU3Rh
dGUgKmVudiwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgIHVpbnQz
Ml90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcikKIHsKICAgICB1aW50cHRyX3QgcmEgPSBHRVRQ
QygpOwotICAgIGNoZWNrX25vc2h1ZihlbnYsIHNsb3QsIHZhZGRyLCA4KTsKKyAgICBjaGVja19u
b3NodWYoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCB2YWRkciwgOCk7CiAgICAgcmV0dXJu
IGNwdV9sZHFfZGF0YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9CiAKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL3RyYW5zbGF0ZS5jIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMKaW5kZXgg
YjE4NWRkYTM1YS4uYWYzOGM5NWUyNiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNs
YXRlLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMKQEAgLTQ2Myw3ICs0NjMsNiBA
QCBzdGF0aWMgdm9pZCBtYXJrX2ltcGxpY2l0X3ByZWRfcmVhZHMoRGlzYXNDb250ZXh0ICpjdHgp
CiBzdGF0aWMgdm9pZCBhbmFseXplX3BhY2tldChEaXNhc0NvbnRleHQgKmN0eCkKIHsKICAgICBQ
YWNrZXQgKnBrdCA9IGN0eC0+cGt0OwotICAgIGN0eC0+bmVlZF9wa3RfaGFzX3N0b3JlX3MxID0g
ZmFsc2U7CiAgICAgY3R4LT5oYXNfaHZ4X2hlbHBlciA9IGZhbHNlOwogICAgIGZvciAoaW50IGkg
PSAwOyBpIDwgcGt0LT5udW1faW5zbnM7IGkrKykgewogICAgICAgICBJbnNuICppbnNuID0gJnBr
dC0+aW5zbltpXTsKQEAgLTUxOSwxMCArNTE4LDYgQEAgc3RhdGljIHZvaWQgZ2VuX3N0YXJ0X3Bh
Y2tldChEaXNhc0NvbnRleHQgKmN0eCkKIAogICAgIGFuYWx5emVfcGFja2V0KGN0eCk7CiAKLSAg
ICBpZiAoY3R4LT5uZWVkX3BrdF9oYXNfc3RvcmVfczEpIHsKLSAgICAgICAgdGNnX2dlbl9tb3Zp
X3RsKGhleF9wa3RfaGFzX3N0b3JlX3MxLCBwa3QtPnBrdF9oYXNfc3RvcmVfczEpOwotICAgIH0K
LQogICAgIC8qCiAgICAgICogcHJlZ3Nfd3JpdHRlbiBpcyB1c2VkIGJvdGggaW4gdGhlIGFuYWx5
emUgcGhhc2UgYXMgd2VsbCBhcyB0aGUgY29kZQogICAgICAqIGdlbiBwaGFzZSwgc28gY2xlYXIg
aXQgYWdhaW4uCkBAIC0xMjA0LDggKzExOTksNiBAQCB2b2lkIGhleGFnb25fdHJhbnNsYXRlX2lu
aXQodm9pZCkKICAgICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0YXRlLCBzbG90X2NhbmNlbGxl
ZCksICJzbG90X2NhbmNlbGxlZCIpOwogICAgIGhleF9icmFuY2hfdGFrZW4gPSB0Y2dfZ2xvYmFs
X21lbV9uZXcoY3B1X2VudiwKICAgICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0YXRlLCBicmFu
Y2hfdGFrZW4pLCAiYnJhbmNoX3Rha2VuIik7Ci0gICAgaGV4X3BrdF9oYXNfc3RvcmVfczEgPSB0
Y2dfZ2xvYmFsX21lbV9uZXcoY3B1X2VudiwKLSAgICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0
YXRlLCBwa3RfaGFzX3N0b3JlX3MxKSwgInBrdF9oYXNfc3RvcmVfczEiKTsKICAgICBoZXhfZGN6
ZXJvX2FkZHIgPSB0Y2dfZ2xvYmFsX21lbV9uZXcoY3B1X2VudiwKICAgICAgICAgb2Zmc2V0b2Yo
Q1BVSGV4YWdvblN0YXRlLCBkY3plcm9fYWRkciksICJkY3plcm9fYWRkciIpOwogICAgIGhleF9s
bHNjX2FkZHIgPSB0Y2dfZ2xvYmFsX21lbV9uZXcoY3B1X2VudiwKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1bmNzLnB5IGIvdGFyZ2V0L2hleGFnb24vZ2VuX2FuYWx5
emVfZnVuY3MucHkKaW5kZXggMzZkYTY2OTQ1MC4uZDA0MGY2NzAwMSAxMDA3NTUKLS0tIGEvdGFy
Z2V0L2hleGFnb24vZ2VuX2FuYWx5emVfZnVuY3MucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2Vu
X2FuYWx5emVfZnVuY3MucHkKQEAgLTIwOSw4ICsyMDksNiBAQCBkZWYgZ2VuX2FuYWx5emVfZnVu
YyhmLCB0YWcsIHJlZ3MsIGltbXMpOgogICAgIGhhc19nZW5lcmF0ZWRfaGVscGVyID0gbm90IGhl
eF9jb21tb24uc2tpcF9xZW11X2hlbHBlcigKICAgICAgICAgdGFnCiAgICAgKSBhbmQgbm90IGhl
eF9jb21tb24uaXNfaWRlZl9wYXJzZXJfZW5hYmxlZCh0YWcpCi0gICAgaWYgaGFzX2dlbmVyYXRl
ZF9oZWxwZXIgYW5kICJBX1NDQUxBUl9MT0FEIiBpbiBoZXhfY29tbW9uLmF0dHJpYmRpY3RbdGFn
XToKLSAgICAgICAgZi53cml0ZSgiICAgIGN0eC0+bmVlZF9wa3RfaGFzX3N0b3JlX3MxID0gdHJ1
ZTtcbiIpCiAKICAgICAjIyBNYXJrIEhWWCBpbnN0cnVjdGlvbnMgd2l0aCBnZW5lcmF0ZWQgaGVs
cGVycwogICAgIGlmIChoYXNfZ2VuZXJhdGVkX2hlbHBlciBhbmQKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVuY3MucHkgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVscGVy
X2Z1bmNzLnB5CmluZGV4IGUyNTllYTNkMDMuLjM5NzUxYTQ4M2MgMTAwNzU1Ci0tLSBhL3Rhcmdl
dC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVuY3MucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hl
bHBlcl9mdW5jcy5weQpAQCAtMzAzLDcgKzMwMyw3IEBAIGRlZiBnZW5faGVscGVyX2Z1bmN0aW9u
KGYsIHRhZywgdGFncmVncywgdGFnaW1tcyk6CiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9z
bG90KHRhZyk6CiAgICAgICAgICAgICBpZiBpID4gMDoKICAgICAgICAgICAgICAgICBmLndyaXRl
KCIsICIpCi0gICAgICAgICAgICBmLndyaXRlKCJ1aW50MzJfdCBzbG90IikKKyAgICAgICAgICAg
IGYud3JpdGUoInVpbnQzMl90IHNsb3R2YWwiKQogICAgICAgICAgICAgaSArPSAxCiAgICAgICAg
IGlmIGhleF9jb21tb24ubmVlZF9wYXJ0MSh0YWcpOgogICAgICAgICAgICAgaWYgaSA+IDA6CkBA
IC0zMzEsNiArMzMxLDExIEBAIGRlZiBnZW5faGVscGVyX2Z1bmN0aW9uKGYsIHRhZywgdGFncmVn
cywgdGFnaW1tcyk6CiAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAg
cHJpbnQoIkJhZCByZWdpc3RlciBwYXJzZTogIiwgcmVndHlwZSwgcmVnaWQsIHRvc3MsIG51bXJl
Z3MpCiAKKyAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Nsb3QodGFnKToKKyAgICAgICAgICAg
IGlmICJBX0xPQUQiIGluIGhleF9jb21tb24uYXR0cmliZGljdFt0YWddOgorICAgICAgICAgICAg
ICAgIGYud3JpdGUoIiAgICBib29sIHBrdF9oYXNfc3RvcmVfczEgPSBzbG90dmFsICYgMHgxO1xu
IikKKyAgICAgICAgICAgIGYud3JpdGUoIiAgICB1aW50MzJfdCBzbG90ID0gc2xvdHZhbCA+PiAx
O1xuIikKKwogICAgICAgICBpZiAiQV9GUE9QIiBpbiBoZXhfY29tbW9uLmF0dHJpYmRpY3RbdGFn
XToKICAgICAgICAgICAgIGYud3JpdGUoIiAgICBhcmNoX2Zwb3Bfc3RhcnQoZW52KTtcbiIpCiAK
ZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkgYi90YXJnZXQvaGV4
YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CmluZGV4IDA0MDM1NDczODcuLjg4N2IxY2QzNjkgMTAwNzU1
Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKKysrIGIvdGFyZ2V0L2hleGFn
b24vZ2VuX3RjZ19mdW5jcy5weQpAQCAtNTU2LDcgKzU1Niw3IEBAIGRlZiBnZW5fdGNnX2Z1bmMo
ZiwgdGFnLCByZWdzLCBpbW1zKToKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BhcnQxKHRh
Zyk6CiAgICAgICAgICAgICBmLndyaXRlKCIgICAgVENHdiBwYXJ0MSA9IHRjZ19jb25zdGFudF90
bChpbnNuLT5wYXJ0MSk7XG4iKQogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcp
OgotICAgICAgICAgICAgZi53cml0ZSgiICAgIFRDR3Ygc2xvdCA9IHRjZ19jb25zdGFudF90bChp
bnNuLT5zbG90KTtcbiIpCisgICAgICAgICAgICBmLndyaXRlKCIgICAgVENHdiBzbG90dmFsID0g
Z2VuX3Nsb3R2YWwoY3R4KTtcbiIpCiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9QQyh0YWcp
OgogICAgICAgICAgICAgZi53cml0ZSgiICAgIFRDR3YgUEMgPSB0Y2dfY29uc3RhbnRfdGwoY3R4
LT5wa3QtPnBjKTtcbiIpCiAgICAgICAgIGlmIGhleF9jb21tb24uaGVscGVyX25lZWRzX25leHRf
UEModGFnKToKQEAgLTYwNiw3ICs2MDYsNyBAQCBkZWYgZ2VuX3RjZ19mdW5jKGYsIHRhZywgcmVn
cywgaW1tcyk6CiAgICAgICAgIGlmIGhleF9jb21tb24uaGVscGVyX25lZWRzX25leHRfUEModGFn
KToKICAgICAgICAgICAgIGYud3JpdGUoIiwgbmV4dF9QQyIpCiAgICAgICAgIGlmIGhleF9jb21t
b24ubmVlZF9zbG90KHRhZyk6Ci0gICAgICAgICAgICBmLndyaXRlKCIsIHNsb3QiKQorICAgICAg
ICAgICAgZi53cml0ZSgiLCBzbG90dmFsIikKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Bh
cnQxKHRhZyk6CiAgICAgICAgICAgICBmLndyaXRlKCIsIHBhcnQxIikKICAgICAgICAgZi53cml0
ZSgiKTtcbiIpCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5IGIvdGFy
Z2V0L2hleGFnb24vaGV4X2NvbW1vbi5weQppbmRleCAyOWMwNTA4ZjY2Li4wMTFjY2UxYTY4IDEw
MDc1NQotLS0gYS90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5CisrKyBiL3RhcmdldC9oZXhh
Z29uL2hleF9jb21tb24ucHkKQEAgLTI0Nyw5ICsyNDcsMTAgQEAgZGVmIGlzX25ld192YWwocmVn
dHlwZSwgcmVnaWQsIHRhZyk6CiAKIGRlZiBuZWVkX3Nsb3QodGFnKToKICAgICBpZiAoCi0gICAg
ICAgICgiQV9DT05ERVhFQyIgaW4gYXR0cmliZGljdFt0YWddIGFuZCAiQV9KVU1QIiBub3QgaW4g
YXR0cmliZGljdFt0YWddKQotICAgICAgICBvciAiQV9TVE9SRSIgaW4gYXR0cmliZGljdFt0YWdd
Ci0gICAgICAgIG9yICJBX0xPQUQiIGluIGF0dHJpYmRpY3RbdGFnXQorICAgICAgICAiQV9DVklf
U0NBVFRFUiIgbm90IGluIGF0dHJpYmRpY3RbdGFnXQorICAgICAgICBhbmQgIkFfQ1ZJX0dBVEhF
UiIgbm90IGluIGF0dHJpYmRpY3RbdGFnXQorICAgICAgICBhbmQgKCJBX1NUT1JFIiBpbiBhdHRy
aWJkaWN0W3RhZ10KKyAgICAgICAgICAgICBvciAiQV9MT0FEIiBpbiBhdHRyaWJkaWN0W3RhZ10p
CiAgICAgKToKICAgICAgICAgcmV0dXJuIDEKICAgICBlbHNlOgotLSAKMi4yNS4xCgo=

