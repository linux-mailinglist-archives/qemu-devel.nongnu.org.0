Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 318AD5EEAB0
	for <lists+qemu-devel@lfdr.de>; Thu, 29 Sep 2022 03:07:36 +0200 (CEST)
Received: from localhost ([::1]:56214 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1odi1X-0007Hk-1m
	for lists+qemu-devel@lfdr.de; Wed, 28 Sep 2022 21:07:35 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:56924)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1odhya-0004L5-Cr
 for qemu-devel@nongnu.org; Wed, 28 Sep 2022 21:04:32 -0400
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131]:5148)
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1odhyY-0007NC-9r
 for qemu-devel@nongnu.org; Wed, 28 Sep 2022 21:04:32 -0400
Received: from pps.filterd (m0279867.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.5/8.17.1.5) with ESMTP id 28T0HlVP001985;
 Thu, 29 Sep 2022 01:04:25 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=ZkoxeS6wC4XZdpMauQORyRQesMoWLnlse3QyBdHOxcI=;
 b=L3ZsKiDSk32cyN/0L8HI5JujzOdUPPi5s5jF9S6TqXC7UlwS9SE2dBQ15B0XD02s3fJ8
 76o4ZU0UGFtgt0TLhwMbtqOUrmrc3TDxhUDPjTMr6lk3HrnrdQC+P7FJFpBXzVoMstBC
 xmTo2SNIK6O8laFimQYI7UoAaUr6p8UiXT5Vp7NPApf0Lzjpp5DG6e65qR1LEndurTCT
 z8Mg6zFEB4ZRYuY7mEv6ZhsxGu0nUdJAleethRNfy4ZxyZwmtbH7wKy3oVd5TWQtaFgS
 5Gv8Lnha9K7kKJOldvSjdJxd0y90pekWaxUFAtB/B+0ytbgvRwcvl1J1fksvbh8yYImY pw== 
Received: from nalasppmta03.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3jvuxtrsjv-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 29 Sep 2022 01:04:25 +0000
Received: from pps.filterd (NALASPPMTA03.qualcomm.com [127.0.0.1])
 by NALASPPMTA03.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 28T11PO1027465; 
 Thu, 29 Sep 2022 01:04:24 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA03.qualcomm.com (PPS) with ESMTP id 3jstyks59h-1;
 Thu, 29 Sep 2022 01:04:24 +0000
Received: from NALASPPMTA03.qualcomm.com (NALASPPMTA03.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 28T10uru027088;
 Thu, 29 Sep 2022 01:04:24 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA03.qualcomm.com (PPS) with ESMTP id 28T14N28030474;
 Thu, 29 Sep 2022 01:04:24 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id CC1E35000AE; Wed, 28 Sep 2022 18:04:23 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, f4bug@amsat.org,
 peter.maydell@linaro.org, bcain@quicinc.com, quic_mathbern@quicinc.com,
 stefanha@redhat.com
Subject: [PULL 2/3] Hexagon (target/hexagon) move store size tracking to
 translation
Date: Wed, 28 Sep 2022 18:04:15 -0700
Message-Id: <20220929010416.7418-3-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20220929010416.7418-1-tsimpson@quicinc.com>
References: <20220929010416.7418-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: P9Z9-PZyTAnIFI3e0H2LL_K_YVMkWDwF
X-Proofpoint-ORIG-GUID: P9Z9-PZyTAnIFI3e0H2LL_K_YVMkWDwF
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.205,Aquarius:18.0.895,Hydra:6.0.528,FMLib:17.11.122.1
 definitions=2022-09-28_11,2022-09-28_01,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 lowpriorityscore=0
 adultscore=0 spamscore=0 mlxlogscore=776 clxscore=1015 phishscore=0
 suspectscore=0 mlxscore=0 bulkscore=0 priorityscore=1501 malwarescore=0
 impostorscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2209130000 definitions=main-2209290005
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

VGhlIHN0b3JlIHdpZHRoIGlzIG5lZWRlZCBmb3IgcGFja2V0IGNvbW1pdCwgc28gaXQgaXMgc3Rv
cmVkIGluCmN0eC0+c3RvcmVfd2lkdGguICBDdXJyZW50bHksIGl0IGlzIHNldCB3aGVuIGEgc3Rv
cmUgaGFzIGEgVENHCm92ZXJyaWRlIGluc3RlYWQgb2YgYSBRRU1VIGhlbHBlci4gIEluIHRoZSBR
RU1VIGhlbHBlciBjYXNlLCB0aGUKY3R4LT5zdG9yZV93aWR0aCBpcyBub3Qgc2V0LCB3ZSBpbnZv
a2UgYSBoZWxwZXIgZHVyaW5nIHBhY2tldCBjb21taXQKdGhhdCB1c2VzIHRoZSBydW50aW1lIHN0
b3JlIHdpZHRoLgoKVGhpcyBwYXRjaCBlbnN1cmVzIGN0eC0+c3RvcmVfd2lkdGggaXMgc2V0IGZv
ciBhbGwgc3RvcmUgaW5zdHJ1Y3Rpb25zLApzbyBwZXJmb3JtYW5jZSBpcyBpbXByb3ZlZCBiZWNh
dXNlIHBhY2tldCBjb21taXQgY2FuIGdlbmVyYXRlIHRoZSBwcm9wZXIKVENHIHN0b3JlIHJhdGhl
ciB0aGFuIHRoZSBnZW5lcmljIGhlbHBlci4KCldlIGRvIHRoaXMgYnkKLSBVc2UgdGhlIGF0dHJp
YnV0ZXMgZnJvbSB0aGUgaW5zdHJ1Y3Rpb25zIGR1cmluZyB0cmFuc2xhdGlvbiB0bwogIHNldCBj
dHgtPnN0b3JlX3dpZHRoCi0gUmVtb3ZlIHNldHRpbmcgb2YgY3R4LT5zdG9yZV93aWR0aCBmcm9t
IGdlbnB0ci5jCgpTaWduZWQtb2ZmLWJ5OiBUYXlsb3IgU2ltcHNvbiA8dHNpbXBzb25AcXVpY2lu
Yy5jb20+ClJldmlld2VkLWJ5OiBSaWNoYXJkIEhlbmRlcnNvbiA8cmljaGFyZC5oZW5kZXJzb25A
bGluYXJvLm9yZz4KTWVzc2FnZS1JZDogPDIwMjIwOTIwMDgwNzQ2LjI2NzkxLTMtdHNpbXBzb25A
cXVpY2luYy5jb20+Ci0tLQogdGFyZ2V0L2hleGFnb24vbWFjcm9zLmggICAgfCAgOCArKysrLS0t
LQogdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMgICAgfCAzNiArKysrKysrKysrKystLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jIHwgMjUgKysrKysrKysr
KysrKysrKysrKysrKysrKwogMyBmaWxlcyBjaGFuZ2VkLCA0MSBpbnNlcnRpb25zKCspLCAyOCBk
ZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaCBiL3Rhcmdl
dC9oZXhhZ29uL21hY3Jvcy5oCmluZGV4IDkyZWI4YmJmMDUuLmM4ODA1YmRhZWIgMTAwNjQ0Ci0t
LSBhL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5oCisrKyBiL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5o
CkBAIC0xNTYsNyArMTU2LDcgQEAKICAgICAgICAgX19idWlsdGluX2Nob29zZV9leHByKFRZUEVf
VENHVihYKSwgXAogICAgICAgICAgICAgZ2VuX3N0b3JlMSwgKHZvaWQpMCkpCiAjZGVmaW5lIE1F
TV9TVE9SRTEoVkEsIERBVEEsIFNMT1QpIFwKLSAgICBNRU1fU1RPUkUxX0ZVTkMoREFUQSkoY3B1
X2VudiwgVkEsIERBVEEsIGN0eCwgU0xPVCkKKyAgICBNRU1fU1RPUkUxX0ZVTkMoREFUQSkoY3B1
X2VudiwgVkEsIERBVEEsIFNMT1QpCiAKICNkZWZpbmUgTUVNX1NUT1JFMl9GVU5DKFgpIFwKICAg
ICBfX2J1aWx0aW5fY2hvb3NlX2V4cHIoVFlQRV9JTlQoWCksIFwKQEAgLTE2NCw3ICsxNjQsNyBA
QAogICAgICAgICBfX2J1aWx0aW5fY2hvb3NlX2V4cHIoVFlQRV9UQ0dWKFgpLCBcCiAgICAgICAg
ICAgICBnZW5fc3RvcmUyLCAodm9pZCkwKSkKICNkZWZpbmUgTUVNX1NUT1JFMihWQSwgREFUQSwg
U0xPVCkgXAotICAgIE1FTV9TVE9SRTJfRlVOQyhEQVRBKShjcHVfZW52LCBWQSwgREFUQSwgY3R4
LCBTTE9UKQorICAgIE1FTV9TVE9SRTJfRlVOQyhEQVRBKShjcHVfZW52LCBWQSwgREFUQSwgU0xP
VCkKIAogI2RlZmluZSBNRU1fU1RPUkU0X0ZVTkMoWCkgXAogICAgIF9fYnVpbHRpbl9jaG9vc2Vf
ZXhwcihUWVBFX0lOVChYKSwgXApAQCAtMTcyLDcgKzE3Miw3IEBACiAgICAgICAgIF9fYnVpbHRp
bl9jaG9vc2VfZXhwcihUWVBFX1RDR1YoWCksIFwKICAgICAgICAgICAgIGdlbl9zdG9yZTQsICh2
b2lkKTApKQogI2RlZmluZSBNRU1fU1RPUkU0KFZBLCBEQVRBLCBTTE9UKSBcCi0gICAgTUVNX1NU
T1JFNF9GVU5DKERBVEEpKGNwdV9lbnYsIFZBLCBEQVRBLCBjdHgsIFNMT1QpCisgICAgTUVNX1NU
T1JFNF9GVU5DKERBVEEpKGNwdV9lbnYsIFZBLCBEQVRBLCBTTE9UKQogCiAjZGVmaW5lIE1FTV9T
VE9SRThfRlVOQyhYKSBcCiAgICAgX19idWlsdGluX2Nob29zZV9leHByKFRZUEVfSU5UKFgpLCBc
CkBAIC0xODAsNyArMTgwLDcgQEAKICAgICAgICAgX19idWlsdGluX2Nob29zZV9leHByKFRZUEVf
VENHVl9JNjQoWCksIFwKICAgICAgICAgICAgIGdlbl9zdG9yZTgsICh2b2lkKTApKQogI2RlZmlu
ZSBNRU1fU1RPUkU4KFZBLCBEQVRBLCBTTE9UKSBcCi0gICAgTUVNX1NUT1JFOF9GVU5DKERBVEEp
KGNwdV9lbnYsIFZBLCBEQVRBLCBjdHgsIFNMT1QpCisgICAgTUVNX1NUT1JFOF9GVU5DKERBVEEp
KGNwdV9lbnYsIFZBLCBEQVRBLCBTTE9UKQogI2Vsc2UKICNkZWZpbmUgTUVNX0xPQUQxcyhWQSkg
KChpbnQ4X3QpbWVtX2xvYWQxKGVudiwgc2xvdCwgVkEpKQogI2RlZmluZSBNRU1fTE9BRDF1KFZB
KSAoKHVpbnQ4X3QpbWVtX2xvYWQxKGVudiwgc2xvdCwgVkEpKQpkaWZmIC0tZ2l0IGEvdGFyZ2V0
L2hleGFnb24vZ2VucHRyLmMgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwppbmRleCA4YTMzNGJh
MDdiLi44MDZkMDk3NGZmIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYworKysg
Yi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwpAQCAtNDAxLDYyICs0MDEsNTAgQEAgc3RhdGljIGlu
bGluZSB2b2lkIGdlbl9zdG9yZTMyKFRDR3YgdmFkZHIsIFRDR3Ygc3JjLCBpbnQgd2lkdGgsIGlu
dCBzbG90KQogICAgIHRjZ19nZW5fbW92X3RsKGhleF9zdG9yZV92YWwzMltzbG90XSwgc3JjKTsK
IH0KIAotc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9yZTEoVENHdl9lbnYgY3B1X2VudiwgVENH
diB2YWRkciwgVENHdiBzcmMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhc0Nv
bnRleHQgKmN0eCwgaW50IHNsb3QpCitzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlMShUQ0d2
X2VudiBjcHVfZW52LCBUQ0d2IHZhZGRyLCBUQ0d2IHNyYywgaW50IHNsb3QpCiB7CiAgICAgZ2Vu
X3N0b3JlMzIodmFkZHIsIHNyYywgMSwgc2xvdCk7Ci0gICAgY3R4LT5zdG9yZV93aWR0aFtzbG90
XSA9IDE7CiB9CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmUxaShUQ0d2X2VudiBjcHVf
ZW52LCBUQ0d2IHZhZGRyLCBpbnQzMl90IHNyYywKLSAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBEaXNhc0NvbnRleHQgKmN0eCwgaW50IHNsb3QpCitzdGF0aWMgaW5saW5lIHZvaWQgZ2Vu
X3N0b3JlMWkoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgaW50MzJfdCBzcmMsIGludCBz
bG90KQogewogICAgIFRDR3YgdG1wID0gdGNnX2NvbnN0YW50X3RsKHNyYyk7Ci0gICAgZ2VuX3N0
b3JlMShjcHVfZW52LCB2YWRkciwgdG1wLCBjdHgsIHNsb3QpOworICAgIGdlbl9zdG9yZTEoY3B1
X2VudiwgdmFkZHIsIHRtcCwgc2xvdCk7CiB9CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3Rv
cmUyKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFkZHIsIFRDR3Ygc3JjLAotICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgRGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90KQorc3RhdGljIGlu
bGluZSB2b2lkIGdlbl9zdG9yZTIoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgVENHdiBz
cmMsIGludCBzbG90KQogewogICAgIGdlbl9zdG9yZTMyKHZhZGRyLCBzcmMsIDIsIHNsb3QpOwot
ICAgIGN0eC0+c3RvcmVfd2lkdGhbc2xvdF0gPSAyOwogfQogCi1zdGF0aWMgaW5saW5lIHZvaWQg
Z2VuX3N0b3JlMmkoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgaW50MzJfdCBzcmMsCi0g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90
KQorc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9yZTJpKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3Yg
dmFkZHIsIGludDMyX3Qgc3JjLCBpbnQgc2xvdCkKIHsKICAgICBUQ0d2IHRtcCA9IHRjZ19jb25z
dGFudF90bChzcmMpOwotICAgIGdlbl9zdG9yZTIoY3B1X2VudiwgdmFkZHIsIHRtcCwgY3R4LCBz
bG90KTsKKyAgICBnZW5fc3RvcmUyKGNwdV9lbnYsIHZhZGRyLCB0bXAsIHNsb3QpOwogfQogCi1z
dGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlNChUQ0d2X2VudiBjcHVfZW52LCBUQ0d2IHZhZGRy
LCBUQ0d2IHNyYywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FzQ29udGV4dCAq
Y3R4LCBpbnQgc2xvdCkKK3N0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmU0KFRDR3ZfZW52IGNw
dV9lbnYsIFRDR3YgdmFkZHIsIFRDR3Ygc3JjLCBpbnQgc2xvdCkKIHsKICAgICBnZW5fc3RvcmUz
Mih2YWRkciwgc3JjLCA0LCBzbG90KTsKLSAgICBjdHgtPnN0b3JlX3dpZHRoW3Nsb3RdID0gNDsK
IH0KIAotc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9yZTRpKFRDR3ZfZW52IGNwdV9lbnYsIFRD
R3YgdmFkZHIsIGludDMyX3Qgc3JjLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERp
c2FzQ29udGV4dCAqY3R4LCBpbnQgc2xvdCkKK3N0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmU0
aShUQ0d2X2VudiBjcHVfZW52LCBUQ0d2IHZhZGRyLCBpbnQzMl90IHNyYywgaW50IHNsb3QpCiB7
CiAgICAgVENHdiB0bXAgPSB0Y2dfY29uc3RhbnRfdGwoc3JjKTsKLSAgICBnZW5fc3RvcmU0KGNw
dV9lbnYsIHZhZGRyLCB0bXAsIGN0eCwgc2xvdCk7CisgICAgZ2VuX3N0b3JlNChjcHVfZW52LCB2
YWRkciwgdG1wLCBzbG90KTsKIH0KIAotc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9yZTgoVENH
dl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgVENHdl9pNjQgc3JjLAotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgRGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90KQorc3RhdGljIGlubGlu
ZSB2b2lkIGdlbl9zdG9yZTgoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgVENHdl9pNjQg
c3JjLCBpbnQgc2xvdCkKIHsKICAgICB0Y2dfZ2VuX21vdl90bChoZXhfc3RvcmVfYWRkcltzbG90
XSwgdmFkZHIpOwogICAgIHRjZ19nZW5fbW92aV90bChoZXhfc3RvcmVfd2lkdGhbc2xvdF0sIDgp
OwogICAgIHRjZ19nZW5fbW92X2k2NChoZXhfc3RvcmVfdmFsNjRbc2xvdF0sIHNyYyk7Ci0gICAg
Y3R4LT5zdG9yZV93aWR0aFtzbG90XSA9IDg7CiB9CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5f
c3RvcmU4aShUQ0d2X2VudiBjcHVfZW52LCBUQ0d2IHZhZGRyLCBpbnQ2NF90IHNyYywKLSAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhc0NvbnRleHQgKmN0eCwgaW50IHNsb3QpCitz
dGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlOGkoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRk
ciwgaW50NjRfdCBzcmMsIGludCBzbG90KQogewogICAgIFRDR3ZfaTY0IHRtcCA9IHRjZ19jb25z
dGFudF9pNjQoc3JjKTsKLSAgICBnZW5fc3RvcmU4KGNwdV9lbnYsIHZhZGRyLCB0bXAsIGN0eCwg
c2xvdCk7CisgICAgZ2VuX3N0b3JlOChjcHVfZW52LCB2YWRkciwgdG1wLCBzbG90KTsKIH0KIAog
c3RhdGljIFRDR3YgZ2VuXzhiaXRzb2YoVENHdiByZXN1bHQsIFRDR3YgdmFsdWUpCmRpZmYgLS1n
aXQgYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0
ZS5jCmluZGV4IDBlOGEwNzcyZjcuLjU0YjgwYzQxNTcgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhh
Z29uL3RyYW5zbGF0ZS5jCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCkBAIC0zMjcs
NiArMzI3LDMwIEBAIHN0YXRpYyB2b2lkIG1hcmtfaW1wbGljaXRfcHJlZF93cml0ZXMoRGlzYXND
b250ZXh0ICpjdHgsIEluc24gKmluc24pCiAgICAgbWFya19pbXBsaWNpdF9wcmVkX3dyaXRlKGN0
eCwgaW5zbiwgQV9JTVBMSUNJVF9XUklURVNfUDMsIDMpOwogfQogCitzdGF0aWMgdm9pZCBtYXJr
X3N0b3JlX3dpZHRoKERpc2FzQ29udGV4dCAqY3R4LCBJbnNuICppbnNuKQoreworICAgIHVpbnQx
Nl90IG9wY29kZSA9IGluc24tPm9wY29kZTsKKyAgICB1aW50MzJfdCBzbG90ID0gaW5zbi0+c2xv
dDsKKyAgICB1aW50OF90IHdpZHRoID0gMDsKKworICAgIGlmIChHRVRfQVRUUklCKG9wY29kZSwg
QV9TVE9SRSkpIHsKKyAgICAgICAgaWYgKEdFVF9BVFRSSUIob3Bjb2RlLCBBX01FTVNJWkVfMUIp
KSB7CisgICAgICAgICAgICB3aWR0aCB8PSAxOworICAgICAgICB9CisgICAgICAgIGlmIChHRVRf
QVRUUklCKG9wY29kZSwgQV9NRU1TSVpFXzJCKSkgeworICAgICAgICAgICAgd2lkdGggfD0gMjsK
KyAgICAgICAgfQorICAgICAgICBpZiAoR0VUX0FUVFJJQihvcGNvZGUsIEFfTUVNU0laRV80Qikp
IHsKKyAgICAgICAgICAgIHdpZHRoIHw9IDQ7CisgICAgICAgIH0KKyAgICAgICAgaWYgKEdFVF9B
VFRSSUIob3Bjb2RlLCBBX01FTVNJWkVfOEIpKSB7CisgICAgICAgICAgICB3aWR0aCB8PSA4Owor
ICAgICAgICB9CisgICAgICAgIHRjZ19kZWJ1Z19hc3NlcnQoaXNfcG93ZXJfb2ZfMih3aWR0aCkp
OworICAgICAgICBjdHgtPnN0b3JlX3dpZHRoW3Nsb3RdID0gd2lkdGg7CisgICAgfQorfQorCiBz
dGF0aWMgdm9pZCBnZW5faW5zbihDUFVIZXhhZ29uU3RhdGUgKmVudiwgRGlzYXNDb250ZXh0ICpj
dHgsCiAgICAgICAgICAgICAgICAgICAgICBJbnNuICppbnNuLCBQYWNrZXQgKnBrdCkKIHsKQEAg
LTMzNCw2ICszNTgsNyBAQCBzdGF0aWMgdm9pZCBnZW5faW5zbihDUFVIZXhhZ29uU3RhdGUgKmVu
diwgRGlzYXNDb250ZXh0ICpjdHgsCiAgICAgICAgIG1hcmtfaW1wbGljaXRfcmVnX3dyaXRlcyhj
dHgsIGluc24pOwogICAgICAgICBpbnNuLT5nZW5lcmF0ZShlbnYsIGN0eCwgaW5zbiwgcGt0KTsK
ICAgICAgICAgbWFya19pbXBsaWNpdF9wcmVkX3dyaXRlcyhjdHgsIGluc24pOworICAgICAgICBt
YXJrX3N0b3JlX3dpZHRoKGN0eCwgaW5zbik7CiAgICAgfSBlbHNlIHsKICAgICAgICAgZ2VuX2V4
Y2VwdGlvbl9lbmRfdGIoY3R4LCBIRVhfRVhDUF9JTlZBTElEX09QQ09ERSk7CiAgICAgfQotLSAK
Mi4xNy4xCgo=

