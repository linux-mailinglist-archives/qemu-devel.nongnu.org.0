Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 4086A3FD409
	for <lists+qemu-devel@lfdr.de>; Wed,  1 Sep 2021 08:54:45 +0200 (CEST)
Received: from localhost ([::1]:58396 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1mLK8y-0002C0-Ah
	for lists+qemu-devel@lfdr.de; Wed, 01 Sep 2021 02:54:44 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:55314)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <Chunming.Li@verisilicon.com>)
 id 1mLK5v-00078G-Hc; Wed, 01 Sep 2021 02:51:35 -0400
Received: from shasxm06.verisilicon.com ([101.89.135.45]:56961
 helo=shasxm03.verisilicon.com)
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_CBC_SHA1:256)
 (Exim 4.90_1) (envelope-from <Chunming.Li@verisilicon.com>)
 id 1mLK5r-0006Xh-Ck; Wed, 01 Sep 2021 02:51:35 -0400
Content-Language: zh-CN
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
DKIM-Signature: v=1; a=rsa-sha256; d=Verisilicon.com; s=default;
 c=simple/simple; t=1630479080; h=from:subject:to:date:message-id;
 bh=G2vPjUAWGBKME8kjZ3aTzOnC42Y8iYtB5oJPIuichZs=;
 b=ZAizJ1H2EXber+7bVjW/0amFKy3yROySCjjkKDjD2fG4cgMx2293w1mkpNIdtM33y3BshncmBIf
 HTtNQ9l9J/oK6vLixkEtD2kA6pH6ugxeYWQKLzhoSPqTMsNwdLUQ+52bzWPjMwvRRomCpAcKXcdR8
 LxID0Vcbar4/0BT9tq4=
Received: from SHASXM03.verisilicon.com ([fe80::938:4dda:a2f9:38aa]) by
 SHASXM06.verisilicon.com ([fe80::59a8:ce34:dc14:ddda%16]) with mapi id
 14.03.0408.000; Wed, 1 Sep 2021 14:51:20 +0800
From: "Li, Chunming" <Chunming.Li@verisilicon.com>
To: "eric.auger@redhat.com" <eric.auger@redhat.com>, chunming
 <chunming_li1234@163.com>, "peter.maydell@linaro.org"
 <peter.maydell@linaro.org>
Subject: RE: [PATCH v5 2/4] hw/arm/smmuv3: Update implementation of CFGI
 commands based on device SID
Thread-Topic: [PATCH v5 2/4] hw/arm/smmuv3: Update implementation of CFGI
 commands based on device SID
Thread-Index: AQHXmYiL/0cbYTmcuECUrKpz/1W8zauNKEKAgAGelYA=
Date: Wed, 1 Sep 2021 06:51:19 +0000
Message-ID: <49C79B700B5D8F45B8EF0861B4EF3B3B0114302B8C@SHASXM03.verisilicon.com>
References: <1629878922-173270-1-git-send-email-chunming_li1234@163.com>
 <1629878922-173270-3-git-send-email-chunming_li1234@163.com>
 <7089ce3e-2b15-7cf3-86d9-231c69794138@redhat.com>
In-Reply-To: <7089ce3e-2b15-7cf3-86d9-231c69794138@redhat.com>
Accept-Language: zh-CN, en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.10.44.37]
x-tm-as-product-ver: SMEX-11.0.0.4179-8.100.1062-25628.004
x-tm-as-result: No--18.027100-0.000000-31
x-tm-as-user-approved-sender: Yes
x-tm-as-user-blocked-sender: No
MIME-Version: 1.0
Received-SPF: pass client-ip=101.89.135.45;
 envelope-from=Chunming.Li@verisilicon.com; helo=shasxm03.verisilicon.com
X-Spam_score_int: -20
X-Spam_score: -2.1
X-Spam_bar: --
X-Spam_report: (-2.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: "Liu, Renwei" <Renwei.Liu@verisilicon.com>,
 "qemu-arm@nongnu.org" <qemu-arm@nongnu.org>, "Wen,
 Jianxian" <Jianxian.Wen@verisilicon.com>,
 "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogRXJpYyBBdWdlciBbbWFp
bHRvOmVyaWMuYXVnZXJAcmVkaGF0LmNvbV0NCj4gU2VudDogVHVlc2RheSwgQXVndXN0IDMxLCAy
MDIxIDEwOjAyIFBNDQo+IFRvOiBjaHVubWluZzsgcGV0ZXIubWF5ZGVsbEBsaW5hcm8ub3JnDQo+
IENjOiBxZW11LWFybUBub25nbnUub3JnOyBxZW11LWRldmVsQG5vbmdudS5vcmc7IFdlbiwgSmlh
bnhpYW47IExpdSwNCj4gUmVud2VpOyBMaSwgQ2h1bm1pbmcNCj4gU3ViamVjdDogUmU6IFtQQVRD
SCB2NSAyLzRdIGh3L2FybS9zbW11djM6IFVwZGF0ZSBpbXBsZW1lbnRhdGlvbiBvZg0KPiBDRkdJ
IGNvbW1hbmRzIGJhc2VkIG9uIGRldmljZSBTSUQNCj4gDQo+IEhpIENodW5taW5nDQo+IA0KPiBP
biA4LzI1LzIxIDEwOjA4IEFNLCBjaHVubWluZyB3cm90ZToNCj4gPiBGcm9tOiBjaHVubWluZyA8
Y2h1bm1pbmcubGlAdmVyaXNpbGljb24uY29tPg0KPiA+DQo+ID4gUmVwbGFjZSAic21tdXYzX2Zs
dXNoX2NvbmZpZyIgd2l0aCAiZ19oYXNoX3RhYmxlX2ZvcmVhY2hfcmVtb3ZlIi4NCj4gdGhpcyBy
ZXBsYWNlbWVudCBtYXkgaGF2ZSBhIHBvdGVudGlhbCBuZWdhdGl2ZSBpbXBhY3Qgb24gdGhlDQo+
IHBlcmZvcm1hbmNlDQo+IGZvciBQQ0llIHN1cHBvcnQsIHdoaWNoIGlzIHRoZSBtYWluIHVzZSBj
YXNlOiBhIHVuaXF1ZQ0KPiBnX2hhc2hfdGFibGVfcmVtb3ZlKCkgaXMgcmVwbGFjZWQgYnkgYW4g
aXRlcmF0aW9uIG92ZXIgYWxsIHRoZSBjb25maWcNCj4gaGFzaCBrZXlzLg0KPiANCj4gSSB3b25k
ZXIgaWYgeW91IGNvdWxkbid0IGp1c3QgYWRhcHQgc21tdV9pb21tdV9tcigpIGFuZCBpdCBjYXNl
IHRoaXMNCj4gbGF0dGVyIHJldHVybnMgTlVMTCBmb3IgdGhlIGN1cnJlbnQgUENJZSBzZWFyY2gs
IGxvb2sgdXAgaW4gdGhlDQo+IHBsYXRmb3JtDQo+IGRldmljZSBsaXN0Og0KPiANCj4gcGVyaV9z
ZGV2X2xpc3Q/DQoNCkkgdGhpbmsgdGhlcmUgYXJlIDIgc2NlbmVzOg0KCTEuICBQQ0llIGRldmlj
ZXMgc2hhcmUgc2FtZSBTSUQgd2l0aCBwZXJpcGhlcmFsIGRldmljZXMuDQogICAgICAyLiAgTXVs
dGkgcGVyaXBoZXJhbCBkZXZpY2VzIHNoYXJlIHNhbWUgU0lELg0KSWYgd2Ugc2VhcmNoIFBDSWUg
MXN0IHRoZW4gc2VhcmNoIHBlcmlfc2Rldl9saXN0LCB0aGVyZSBhcmUgMiBwcm9ibGVtczoNCiAg
ICAgIDEuICBUaGUgY29kZSBpcyBjb21wbGV4Lg0KICAgICAgMi4gIFdlIG1heSBuZWVkIHRvIHNl
YXJjaCBwZXJpX3NkZXZfbGlzdCBtdWx0aSB0aW1lcy4gSXQgbWF5IGhhcyBwZXJmb3JtYW5jZSBp
bXBhY3QuDQogICAgICAgIA0KVGhlIENGR0kgY29tbWFuZHMgYXJlIG9ubHkgY2FsbGVkIHdoZW4g
dGhlIFNNTVUgZGV2aWNlIGlzIHJlbW92ZWQuDQpTbyB3ZSB0aGluayB0aGVyZSBpcyBubyBiaWcg
cGVyZm9ybWFuY2UgaW1wYWN0Lg0KDQo+IA0KPiBUaGFua3MNCj4gDQo+IEVyaWMNCj4gDQo+IA0K
PiANCj4gPiAic21tdV9pb21tdV9tciIgZnVuY3Rpb24gY2FuJ3QgZ2V0IE1SIGFjY29yZGluZyB0
byBTSUQgZm9yIG5vbg0KPiBQQ0kvUENJZSBkZXZpY2VzLg0KPiA+DQo+ID4gU2lnbmVkLW9mZi1i
eTogY2h1bm1pbmcgPGNodW5taW5nLmxpQHZlcmlzaWxpY29uLmNvbT4NCj4gPiAtLS0NCj4gPiAg
aHcvYXJtL3NtbXV2My5jICAgICAgICAgICAgICB8IDM1ICsrKysrKysrKystLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0NCj4gLQ0KPiA+ICBpbmNsdWRlL2h3L2FybS9zbW11LWNvbW1vbi5oIHwgIDUg
KysrKy0NCj4gPiAgMiBmaWxlcyBjaGFuZ2VkLCAxNCBpbnNlcnRpb25zKCspLCAyNiBkZWxldGlv
bnMoLSkNCj4gPg0KPiA+IGRpZmYgLS1naXQgYS9ody9hcm0vc21tdXYzLmMgYi9ody9hcm0vc21t
dXYzLmMNCj4gPiBpbmRleCAxMWQ3ZmU4NDIzLi45ZjNmMTNmYjhlIDEwMDY0NA0KPiA+IC0tLSBh
L2h3L2FybS9zbW11djMuYw0KPiA+ICsrKyBiL2h3L2FybS9zbW11djMuYw0KPiA+IEBAIC02MTMs
MTQgKzYxMyw2IEBAIHN0YXRpYyBTTU1VVHJhbnNDZmcNCj4gKnNtbXV2M19nZXRfY29uZmlnKFNN
TVVEZXZpY2UgKnNkZXYsIFNNTVVFdmVudEluZm8gKmV2ZW50KQ0KPiA+ICAgICAgcmV0dXJuIGNm
ZzsNCj4gPiAgfQ0KPiA+DQo+ID4gLXN0YXRpYyB2b2lkIHNtbXV2M19mbHVzaF9jb25maWcoU01N
VURldmljZSAqc2RldikNCj4gPiAtew0KPiA+IC0gICAgU01NVXYzU3RhdGUgKnMgPSBzZGV2LT5z
bW11Ow0KPiA+IC0gICAgU01NVVN0YXRlICpiYyA9ICZzLT5zbW11X3N0YXRlOw0KPiA+IC0NCj4g
PiAtICAgIHRyYWNlX3NtbXV2M19jb25maWdfY2FjaGVfaW52KHNtbXVfZ2V0X3NpZChzZGV2KSk7
DQo+ID4gLSAgICBnX2hhc2hfdGFibGVfcmVtb3ZlKGJjLT5jb25maWdzLCBzZGV2KTsNCj4gPiAt
fQ0KPiA+DQo+ID4gIHN0YXRpYyBJT01NVVRMQkVudHJ5IHNtbXV2M190cmFuc2xhdGUoSU9NTVVN
ZW1vcnlSZWdpb24gKm1yLCBod2FkZHINCj4gYWRkciwNCj4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBJT01NVUFjY2Vzc0ZsYWdzIGZsYWcsIGludA0KPiBpb21tdV9p
ZHgpDQo+ID4gQEAgLTk2NCwyMiArOTU2LDE4IEBAIHN0YXRpYyBpbnQgc21tdXYzX2NtZHFfY29u
c3VtZShTTU1VdjNTdGF0ZSAqcykNCj4gPiAgICAgICAgICBjYXNlIFNNTVVfQ01EX0NGR0lfU1RF
Og0KPiA+ICAgICAgICAgIHsNCj4gPiAgICAgICAgICAgICAgdWludDMyX3Qgc2lkID0gQ01EX1NJ
RCgmY21kKTsNCj4gPiAtICAgICAgICAgICAgSU9NTVVNZW1vcnlSZWdpb24gKm1yID0gc21tdV9p
b21tdV9tcihicywgc2lkKTsNCj4gPiAtICAgICAgICAgICAgU01NVURldmljZSAqc2RldjsNCj4g
PiArICAgICAgICAgICAgU01NVVNJRFJhbmdlIHNpZF9yYW5nZTsNCj4gPg0KPiA+ICAgICAgICAg
ICAgICBpZiAoQ01EX1NTRUMoJmNtZCkpIHsNCj4gPiAgICAgICAgICAgICAgICAgIGNtZF9lcnJv
ciA9IFNNTVVfQ0VSUk9SX0lMTDsNCj4gPiAgICAgICAgICAgICAgICAgIGJyZWFrOw0KPiA+ICAg
ICAgICAgICAgICB9DQo+ID4NCj4gPiAtICAgICAgICAgICAgaWYgKCFtcikgew0KPiA+IC0gICAg
ICAgICAgICAgICAgYnJlYWs7DQo+ID4gLSAgICAgICAgICAgIH0NCj4gPiAtDQo+ID4gKyAgICAg
ICAgICAgIHNpZF9yYW5nZS5zdGFydCA9IHNpZDsNCj4gPiArICAgICAgICAgICAgc2lkX3Jhbmdl
LmVuZCA9IHNpZDsNCj4gPiAgICAgICAgICAgICAgdHJhY2Vfc21tdXYzX2NtZHFfY2ZnaV9zdGUo
c2lkKTsNCj4gPiAtICAgICAgICAgICAgc2RldiA9IGNvbnRhaW5lcl9vZihtciwgU01NVURldmlj
ZSwgaW9tbXUpOw0KPiA+IC0gICAgICAgICAgICBzbW11djNfZmx1c2hfY29uZmlnKHNkZXYpOw0K
PiA+IC0NCj4gPiArICAgICAgICAgICAgZ19oYXNoX3RhYmxlX2ZvcmVhY2hfcmVtb3ZlKGJzLT5j
b25maWdzLA0KPiBzbW11djNfaW52YWxpZGF0ZV9zdGUsDQo+ID4gKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAmc2lkX3JhbmdlKTsNCj4gPiAgICAgICAgICAgICAgYnJl
YWs7DQo+ID4gICAgICAgICAgfQ0KPiA+ICAgICAgICAgIGNhc2UgU01NVV9DTURfQ0ZHSV9TVEVf
UkFOR0U6IC8qIHNhbWUgYXMgU01NVV9DTURfQ0ZHSV9BTEwNCj4gKi8NCj4gPiBAQCAtMTAwNiwy
MSArOTk0LDE4IEBAIHN0YXRpYyBpbnQgc21tdXYzX2NtZHFfY29uc3VtZShTTU1VdjNTdGF0ZSAq
cykNCj4gPiAgICAgICAgICBjYXNlIFNNTVVfQ01EX0NGR0lfQ0RfQUxMOg0KPiA+ICAgICAgICAg
IHsNCj4gPiAgICAgICAgICAgICAgdWludDMyX3Qgc2lkID0gQ01EX1NJRCgmY21kKTsNCj4gPiAt
ICAgICAgICAgICAgSU9NTVVNZW1vcnlSZWdpb24gKm1yID0gc21tdV9pb21tdV9tcihicywgc2lk
KTsNCj4gPiAtICAgICAgICAgICAgU01NVURldmljZSAqc2RldjsNCj4gPiArICAgICAgICAgICAg
U01NVVNJRFJhbmdlIHNpZF9yYW5nZTsNCj4gPg0KPiA+ICAgICAgICAgICAgICBpZiAoQ01EX1NT
RUMoJmNtZCkpIHsNCj4gPiAgICAgICAgICAgICAgICAgIGNtZF9lcnJvciA9IFNNTVVfQ0VSUk9S
X0lMTDsNCj4gPiAgICAgICAgICAgICAgICAgIGJyZWFrOw0KPiA+ICAgICAgICAgICAgICB9DQo+
ID4NCj4gPiAtICAgICAgICAgICAgaWYgKCFtcikgew0KPiA+IC0gICAgICAgICAgICAgICAgYnJl
YWs7DQo+ID4gLSAgICAgICAgICAgIH0NCj4gPiAtDQo+ID4gKyAgICAgICAgICAgIHNpZF9yYW5n
ZS5zdGFydCA9IHNpZDsNCj4gPiArICAgICAgICAgICAgc2lkX3JhbmdlLmVuZCA9IHNpZDsNCj4g
PiAgICAgICAgICAgICAgdHJhY2Vfc21tdXYzX2NtZHFfY2ZnaV9jZChzaWQpOw0KPiA+IC0gICAg
ICAgICAgICBzZGV2ID0gY29udGFpbmVyX29mKG1yLCBTTU1VRGV2aWNlLCBpb21tdSk7DQo+ID4g
LSAgICAgICAgICAgIHNtbXV2M19mbHVzaF9jb25maWcoc2Rldik7DQo+ID4gKyAgICAgICAgICAg
IGdfaGFzaF90YWJsZV9mb3JlYWNoX3JlbW92ZShicy0+Y29uZmlncywNCj4gc21tdXYzX2ludmFs
aWRhdGVfc3RlLA0KPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
JnNpZF9yYW5nZSk7DQo+ID4gICAgICAgICAgICAgIGJyZWFrOw0KPiA+ICAgICAgICAgIH0NCj4g
PiAgICAgICAgICBjYXNlIFNNTVVfQ01EX1RMQklfTkhfQVNJRDoNCj4gPiBkaWZmIC0tZ2l0IGEv
aW5jbHVkZS9ody9hcm0vc21tdS1jb21tb24uaCBiL2luY2x1ZGUvaHcvYXJtL3NtbXUtDQo+IGNv
bW1vbi5oDQo+ID4gaW5kZXggOTVjZDEyYTRiNS4uZDAxNjQ1NWQ4MCAxMDA2NDQNCj4gPiAtLS0g
YS9pbmNsdWRlL2h3L2FybS9zbW11LWNvbW1vbi5oDQo+ID4gKysrIGIvaW5jbHVkZS9ody9hcm0v
c21tdS1jb21tb24uaA0KPiA+IEBAIC0xNTksNyArMTU5LDEwIEBAIGludCBzbW11X3B0dyhTTU1V
VHJhbnNDZmcgKmNmZywgZG1hX2FkZHJfdCBpb3ZhLA0KPiBJT01NVUFjY2Vzc0ZsYWdzIHBlcm0s
DQo+ID4gICAqLw0KPiA+ICBTTU1VVHJhbnNUYWJsZUluZm8gKnNlbGVjdF90dChTTU1VVHJhbnND
ZmcgKmNmZywgZG1hX2FkZHJfdCBpb3ZhKTsNCj4gPg0KPiA+IC0vKiBSZXR1cm4gdGhlIGlvbW11
IG1yIGFzc29jaWF0ZWQgdG8gQHNpZCwgb3IgTlVMTCBpZiBub25lICovDQo+ID4gKy8qKg0KPiA+
ICsgKiBSZXR1cm4gdGhlIGlvbW11IG1yIGFzc29jaWF0ZWQgdG8gQHNpZCwgb3IgTlVMTCBpZiBu
b25lDQo+ID4gKyAqIE9ubHkgZm9yIFBDSSBkZXZpY2UsIGNoZWNrIHNtbXVfZmluZF9wZXJpX3Nk
ZXYgZm9yIG5vbiBQQ0kvUENJZQ0KPiBkZXZpY2UNCj4gPiArICovDQo+ID4gIElPTU1VTWVtb3J5
UmVnaW9uICpzbW11X2lvbW11X21yKFNNTVVTdGF0ZSAqcywgdWludDMyX3Qgc2lkKTsNCj4gPg0K
PiA+ICAjZGVmaW5lIFNNTVVfSU9UTEJfTUFYX1NJWkUgMjU2DQoNCg==

