Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 4EBCE54F418
	for <lists+qemu-devel@lfdr.de>; Fri, 17 Jun 2022 11:18:57 +0200 (CEST)
Received: from localhost ([::1]:38378 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1o287z-0008Uq-Ul
	for lists+qemu-devel@lfdr.de; Fri, 17 Jun 2022 05:18:55 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:33398)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <raphael.pour@hetzner.com>)
 id 1o284B-0007We-HV; Fri, 17 Jun 2022 05:14:59 -0400
Received: from mail.hetzner.company ([2a01:4f8:d0a:203a::1]:39272)
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <raphael.pour@hetzner.com>)
 id 1o2844-000669-Tj; Fri, 17 Jun 2022 05:14:58 -0400
Received: from [2a01:4f8:0:a53b:9775:b751:8e88:cd9d]
 (helo=[IPV6:2a01:4f8:0:a63b:9775:b751:8e88:cd9d])
 by mail.hetzner.company with esmtpsa (TLSv1.2:ECDHE-RSA-AES256-GCM-SHA384:256)
 (Exim 4.92) (envelope-from <raphael.pour@hetzner.com>)
 id 1o2840-0000g6-GH; Fri, 17 Jun 2022 11:14:48 +0200
Message-ID: <4554361a-8e83-c8ec-48c1-c23ff12f9fad@hetzner.com>
Date: Fri, 17 Jun 2022 11:14:45 +0200
MIME-Version: 1.0
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:91.0) Gecko/20100101
 Thunderbird/91.10.0
Subject: Re: [PATCH] block/rbd: support driver-specific reopen
Content-Language: en-US
Cc: Kevin Wolf <kwolf@redhat.com>, "open list:RBD" <qemu-block@nongnu.org>,
 Peter Lieven <pl@kamp.de>,
 "open list:All patches CC here" <qemu-devel@nongnu.org>,
 Hanna Reitz <hreitz@redhat.com>, Ilya Dryomov <idryomov@gmail.com>
References: <20220413122656.3070251-1-raphael.pour@hetzner.com>
To: "raphael.pour" <raphael.pour@hetzner.com>
From: Raphael Pour <raphael.pour@hetzner.com>
Autocrypt: addr=raphael.pour@hetzner.com; keydata=
 xjMEXmXjyxYJKwYBBAHaRw8BAQdAtiEYnlLIuIUjvvqOH//nEbhrxSa54ZyAl7Iel403QaXN
 J1JhcGhhZWwgUG91ciA8cmFwaGFlbC5wb3VyQGhldHpuZXIuY29tPsKWBBMWCAA+FiEEvj4O
 DnHb6pxm/uWJzbHrt4XF634FAl5l48sCGwMFCQlmAYAFCwkIBwIGFQoJCAsCBBYCAwECHgEC
 F4AACgkQzbHrt4XF635TcwD+NEMqL1HZPHP/WRsYujCDtqt0p+7uxGcpvzv//AjqMZ0A+wUh
 0bOYYNdlXWNMMNLA88SsAT2mxAfD+F/paVmLpdoLzjgEXmXjyxIKKwYBBAGXVQEFAQEHQB0z
 JYP6jtTj989IJL1vguinsiIxia5fkW83OB1+Bb4QAwEIB8J+BBgWCAAmFiEEvj4ODnHb6pxm
 /uWJzbHrt4XF634FAl5l48sCGwwFCQlmAYAACgkQzbHrt4XF6372LgEAi3qfceU+R53Ehg/Y
 SSHV4wg+zfPwrD6ylEg/xKabYDcBALrD0E3YX458RPjLIOC8H0u0rcFIvBqNYx/kGaMEmbEG
In-Reply-To: <20220413122656.3070251-1-raphael.pour@hetzner.com>
Content-Type: multipart/signed; micalg=pgp-sha256;
 protocol="application/pgp-signature";
 boundary="------------NHqovZovzt6hjTPBCsrQQkHp"
X-Authenticated-Sender: raphael.pour@hetzner.com
Received-SPF: pass client-ip=2a01:4f8:d0a:203a::1;
 envelope-from=raphael.pour@hetzner.com; helo=mail.hetzner.company
X-Spam_score_int: -68
X-Spam_score: -6.9
X-Spam_bar: ------
X-Spam_report: (-6.9 / 5.0 requ) BAYES_00=-1.9, NICE_REPLY_A=-0.001,
 RCVD_IN_DNSWL_HI=-5, SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

This is an OpenPGP/MIME signed message (RFC 4880 and 3156)
--------------NHqovZovzt6hjTPBCsrQQkHp
Content-Type: multipart/mixed; boundary="------------BnL5knLfVGP87ikeWMaDKV0k";
 protected-headers="v1"
From: Raphael Pour <raphael.pour@hetzner.com>
To: "raphael.pour" <raphael.pour@hetzner.com>
Cc: Kevin Wolf <kwolf@redhat.com>, "open list:RBD" <qemu-block@nongnu.org>,
 Peter Lieven <pl@kamp.de>,
 "open list:All patches CC here" <qemu-devel@nongnu.org>,
 Hanna Reitz <hreitz@redhat.com>, Ilya Dryomov <idryomov@gmail.com>
Message-ID: <4554361a-8e83-c8ec-48c1-c23ff12f9fad@hetzner.com>
Subject: Re: [PATCH] block/rbd: support driver-specific reopen
References: <20220413122656.3070251-1-raphael.pour@hetzner.com>
In-Reply-To: <20220413122656.3070251-1-raphael.pour@hetzner.com>

--------------BnL5knLfVGP87ikeWMaDKV0k
Content-Type: multipart/mixed; boundary="------------GxEesvdrZVvyfhOKJbLVLfgt"

--------------GxEesvdrZVvyfhOKJbLVLfgt
Content-Type: text/plain; charset=UTF-8; format=flowed
Content-Transfer-Encoding: base64

SGVsbG8gZXZlcnlvbmUsDQoNCndoYXQgZG8geW91IHRoaW5rPyBQbGVhc2UgdGVsbCBtZSBp
ZiBzb21ldGhpbmcgbmVlZHMgdG8gYmUgY2xhcmlmaWVkIG9yIA0KaW1wcm92ZWQuDQoNClJh
cGhhZWwNCg0KUFM6IEhvcGVmdWxseSB0aGlzIHNlY29uZCByZXBseSBhdHRlbXB0IGlzbid0
IG1lc3NlZCB1cCAoZmlyc3Q6IA0KaHR0cHM6Ly9saXN0cy5ub25nbnUub3JnL2FyY2hpdmUv
aHRtbC9xZW11LWJsb2NrLzIwMjItMDYvbXNnMDAzNDQuaHRtbCkNCg0KT24gNC8xMy8yMiAx
NDoyNiwgUmFwaGFlbCBQb3VyIHdyb3RlOg0KPiBUaGlzIHBhdGNoIGNvbXBsZXRlcyB0aGUg
cmVvcGVuIGZ1bmN0aW9uYWxpdHkgZm9yIGFuIGF0dGFjaGVkIFJCRCB3aGVyZSBhbHRlcmVk
DQo+IGRyaXZlciBvcHRpb25zIGNhbiBiZSBwYXNzZWQgdG8uIFRoaXMgaXMgbmVjZXNzYXJ5
IHRvIG1vdmUgUkJEcyBiZXR3ZWVuIGNlcGgNCj4gY2x1c3RlcnMgd2l0aG91dCBpbnRlcnJ1
cHRpbmcgUUVNVSwgd2hlcmUgc29tZSBjZXBoIHNldHRpbmdzIG5lZWQgdG8gYmUgYWRqdXN0
ZWQuDQo+IA0KPiBUaGUgcmVvcGVuX3ByZXBhcmUgbWV0aG9kIGVhcmx5IHJldHVybnMgaWYg
bm8gcmJkLXNwZWNpZmljIGRyaXZlciBvcHRpb25zIGFyZQ0KPiBnaXZlbiB0byBtYWludGFp
biBjb21wYXRpYmxlIHdpdGggdGhlIHByZXZpb3VzIGJlaGF2aW9yIGJ5IGRyb3BwaW5nIGFs
bA0KPiBnZW5lcmljIGJsb2NrIGxheWVyIG9wdGlvbnMuIE90aGVyd2lzZSB0aGUgcmVvcGVu
IGFjdHMgc2ltaWxhciB0byBxZW11X3JiZF9vcGVuLg0KPiANCj4gVGhlIHJlb3Blbl9jb21t
aXQgdGVhcnMgZG93biB0aGUgb2xkIHN0YXRlIGFuZCByZXBsYWNlcyBpdCB3aXRoIHRoZSBu
ZXcNCj4gb25lLg0KPiANCj4gVGhlIHJlb3Blbl9hYm9ydCBkcm9wcyBhbiBvbmdvaW5nIHJl
b3Blbi4NCj4gDQo+IFNpZ25lZC1vZmYtYnk6IFJhcGhhZWwgUG91ciA8cmFwaGFlbC5wb3Vy
QGhldHpuZXIuY29tPg0KPiAtLS0NCj4gICBibG9jay9yYmQuYyB8IDIwNiArKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tDQo+ICAgMSBmaWxl
IGNoYW5nZWQsIDIwMSBpbnNlcnRpb25zKCspLCA1IGRlbGV0aW9ucygtKQ0KPiANCj4gZGlm
ZiAtLWdpdCBhL2Jsb2NrL3JiZC5jIGIvYmxvY2svcmJkLmMNCj4gaW5kZXggNmNhZjM1Y2Ji
YS4uZTdiNDVkMWM1MCAxMDA2NDQNCj4gLS0tIGEvYmxvY2svcmJkLmMNCj4gKysrIGIvYmxv
Y2svcmJkLmMNCj4gQEAgLTEwMjksMTkgKzEwMjksMjEzIEBAIG91dDoNCj4gICBzdGF0aWMg
aW50IHFlbXVfcmJkX3Jlb3Blbl9wcmVwYXJlKEJEUlZSZW9wZW5TdGF0ZSAqc3RhdGUsDQo+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCbG9ja1Jlb3BlblF1ZXVl
ICpxdWV1ZSwgRXJyb3IgKiplcnJwKQ0KPiAgIHsNCj4gLSAgICBCRFJWUkJEU3RhdGUgKnMg
PSBzdGF0ZS0+YnMtPm9wYXF1ZTsNCj4gLSAgICBpbnQgcmV0ID0gMDsNCj4gKyAgICBCRFJW
UkJEU3RhdGUgKm5ld19zID0gc3RhdGUtPmJzLT5vcGFxdWU7DQo+ICsgICAgQmxvY2tkZXZP
cHRpb25zUmJkICpvcHRzID0gTlVMTDsNCj4gKyAgICBjb25zdCBRRGljdEVudHJ5ICplOw0K
PiArICAgIEVycm9yICpsb2NhbF9lcnIgPSBOVUxMOw0KPiArICAgIGNoYXIgKmtleXBhaXJz
LCAqc2VjcmV0aWQ7DQo+ICsgICAgcmJkX2ltYWdlX2luZm9fdCBpbmZvOw0KPiArICAgIGlu
dCByID0gMDsNCj4gICANCj4gLSAgICBpZiAocy0+c25hcCAmJiBzdGF0ZS0+ZmxhZ3MgJiBC
RFJWX09fUkRXUikgew0KPiArICAgIGlmIChuZXdfcy0+c25hcCAmJiBzdGF0ZS0+ZmxhZ3Mg
JiBCRFJWX09fUkRXUikgew0KPiAgICAgICAgICAgZXJyb3Jfc2V0ZyhlcnJwLA0KPiAgICAg
ICAgICAgICAgICAgICAgICAiQ2Fubm90IGNoYW5nZSBub2RlICclcycgdG8gci93IHdoZW4g
dXNpbmcgUkJEIHNuYXBzaG90IiwNCj4gICAgICAgICAgICAgICAgICAgICAgYmRydl9nZXRf
ZGV2aWNlX29yX25vZGVfbmFtZShzdGF0ZS0+YnMpKTsNCj4gLSAgICAgICAgcmV0ID0gLUVJ
TlZBTDsNCj4gKyAgICAgICAgciA9IC1FSU5WQUw7DQo+ICAgICAgIH0NCj4gICANCj4gLSAg
ICByZXR1cm4gcmV0Ow0KPiArICAgIC8qDQo+ICsgICAgICogUmVtb3ZlIGFsbCBrZXlzIGZy
b20gdGhlIGdlbmVyaWMgbGF5ZXIgd2hpY2gNCj4gKyAgICAgKiBjYW4ndCBiZSBjb252ZXJ0
ZWQgYnkgcmJkDQo+ICsgICAgICovDQo+ICsgICAgcWRpY3RfZGVsKHN0YXRlLT5vcHRpb25z
LCAiZHJpdmVyIik7DQo+ICsgICAgcWRpY3RfZGVsKHN0YXRlLT5vcHRpb25zLCAibm9kZS1u
YW1lIik7DQo+ICsgICAgcWRpY3RfZGVsKHN0YXRlLT5vcHRpb25zLCAiYXV0by1yZWFkLW9u
bHkiKTsNCj4gKyAgICBxZGljdF9kZWwoc3RhdGUtPm9wdGlvbnMsICJkaXNjYXJkIik7DQo+
ICsgICAgcWRpY3RfZGVsKHN0YXRlLT5vcHRpb25zLCAiY2FjaGUiKTsNCj4gKw0KPiArICAg
IC8qDQo+ICsgICAgICogVG8gbWFpbnRhaW4gdGhlIGNvbXBhdGliaWxpdHkgcHJpb3IgdGhl
IHJiZC1yZW9wZW4sDQo+ICsgICAgICogd2hlcmUgdGhlIGdlbmVyaWMgbGF5ZXIgY2FuIGJl
IGFsdGVyZWQgd2l0aG91dCBhbnkNCj4gKyAgICAgKiByYmQgYXJndW1lbnQgZ2l2ZW4sIHdl
IG11c3QgZWFybHkgcmV0dXJuIGlmIHRoZXJlDQo+ICsgICAgICogYXJlbid0IGFueSByYmQt
c3BlY2lmaWMgb3B0aW9ucyBsZWZ0Lg0KPiArICAgICAqLw0KPiArICAgIGlmIChxZGljdF9z
aXplKHN0YXRlLT5vcHRpb25zKSA9PSAwKSB7DQo+ICsgICAgICAgIHJldHVybiByOw0KPiAr
ICAgIH0NCj4gKw0KPiArICAgIG5ld19zID0gc3RhdGUtPm9wYXF1ZSA9IGdfbmV3MChCRFJW
UmVvcGVuU3RhdGUsIDEpOw0KPiArDQo+ICsgICAga2V5cGFpcnMgPSBnX3N0cmR1cChxZGlj
dF9nZXRfdHJ5X3N0cihzdGF0ZS0+b3B0aW9ucywgIj1rZXl2YWx1ZS1wYWlycyIpKTsNCj4g
KyAgICBpZiAoa2V5cGFpcnMpIHsNCj4gKyAgICAgICAgcWRpY3RfZGVsKHN0YXRlLT5vcHRp
b25zLCAiPWtleXZhbHVlLXBhaXJzIik7DQo+ICsgICAgfQ0KPiArDQo+ICsgICAgc2VjcmV0
aWQgPSBnX3N0cmR1cChxZGljdF9nZXRfdHJ5X3N0cihzdGF0ZS0+b3B0aW9ucywgInBhc3N3
b3JkLXNlY3JldCIpKTsNCj4gKyAgICBpZiAoc2VjcmV0aWQpIHsNCj4gKyAgICAgICAgcWRp
Y3RfZGVsKHN0YXRlLT5vcHRpb25zLCAicGFzc3dvcmQtc2VjcmV0Iik7DQo+ICsgICAgfQ0K
PiArDQo+ICsgICAgciA9IHFlbXVfcmJkX2NvbnZlcnRfb3B0aW9ucyhzdGF0ZS0+b3B0aW9u
cywgJm9wdHMsICZsb2NhbF9lcnIpOw0KPiArICAgIGlmIChsb2NhbF9lcnIpIHsNCj4gKyAg
ICAgICAgLyoNCj4gKyAgICAgICAgICogSWYga2V5cGFpcnMgYXJlIHByZXNlbnQsIHRoYXQg
bWVhbnMgc29tZSBvcHRpb25zIGFyZSBwcmVzZW50IGluDQo+ICsgICAgICAgICAqIHRoZSBt
b2Rlcm4gb3B0aW9uIGZvcm1hdC4gIERvbid0IGF0dGVtcHQgdG8gcGFyc2UgbGVnYWN5IG9w
dGlvbg0KPiArICAgICAgICAgKiBmb3JtYXRzLCBhcyB3ZSB3b24ndCBzdXBwb3J0IG1peGVk
IHVzYWdlLg0KPiArICAgICAgICAgKi8NCj4gKyAgICAgICAgaWYgKGtleXBhaXJzKSB7DQo+
ICsgICAgICAgICAgICBlcnJvcl9wcm9wYWdhdGUoZXJycCwgbG9jYWxfZXJyKTsNCj4gKyAg
ICAgICAgICAgIGdvdG8gb3V0Ow0KPiArICAgICAgICB9DQo+ICsNCj4gKyAgICAgICAgLyoN
Cj4gKyAgICAgICAgICogSWYgdGhlIGluaXRpYWwgYXR0ZW1wdCB0byBjb252ZXJ0IGFuZCBw
cm9jZXNzIHRoZSBvcHRpb25zIGZhaWxlZCwNCj4gKyAgICAgICAgICogd2UgbWF5IGJlIGF0
dGVtcHRpbmcgdG8gb3BlbiBhbiBpbWFnZSBmaWxlIHRoYXQgaGFzIHRoZSByYmQgb3B0aW9u
cw0KPiArICAgICAgICAgKiBzcGVjaWZpZWQgaW4gdGhlIG9sZGVyIGZvcm1hdCBjb25zaXN0
aW5nIG9mIGFsbCBrZXkvdmFsdWUgcGFpcnMNCj4gKyAgICAgICAgICogZW5jb2RlZCBpbiB0
aGUgZmlsZW5hbWUuICBHbyBhaGVhZCBhbmQgYXR0ZW1wdCB0byBwYXJzZSB0aGUNCj4gKyAg
ICAgICAgICogZmlsZW5hbWUsIGFuZCBzZWUgaWYgd2UgY2FuIHB1bGwgb3V0IHRoZSByZXF1
aXJlZCBvcHRpb25zLg0KPiArICAgICAgICAgKi8NCj4gKyAgICAgICAgciA9IHFlbXVfcmJk
X2F0dGVtcHRfbGVnYWN5X29wdGlvbnMoc3RhdGUtPm9wdGlvbnMsICZvcHRzLCAma2V5cGFp
cnMpOw0KPiArICAgICAgICBpZiAociA8IDApIHsNCj4gKyAgICAgICAgICAgIC8qDQo+ICsg
ICAgICAgICAgICAgKiBQcm9wYWdhdGUgdGhlIG9yaWdpbmFsIGVycm9yLCBub3QgdGhlIGxl
Z2FjeSBwYXJzaW5nIGZhbGxiYWNrDQo+ICsgICAgICAgICAgICAgKiBlcnJvciwgYXMgdGhl
IGxhdHRlciB3YXMganVzdCBhIGJlc3QtZWZmb3J0IGF0dGVtcHQuDQo+ICsgICAgICAgICAg
ICAgKi8NCj4gKyAgICAgICAgICAgIGVycm9yX3Byb3BhZ2F0ZShlcnJwLCBsb2NhbF9lcnIp
Ow0KPiArICAgICAgICAgICAgZ290byBvdXQ7DQo+ICsgICAgICAgIH0NCj4gKyAgICAgICAg
LyoNCj4gKyAgICAgICAgICogVGFrZSBjYXJlIHdoZW5ldmVyIGRlY2lkaW5nIHRvIGFjdHVh
bGx5IGRlcHJlY2F0ZTsgb25jZSB0aGlzIGFiaWxpdHkNCj4gKyAgICAgICAgICogaXMgcmVt
b3ZlZCwgd2Ugd2lsbCBub3QgYmUgYWJsZSB0byBvcGVuIGFueSBpbWFnZXMgd2l0aCBsZWdh
Y3ktc3R5bGVkDQo+ICsgICAgICAgICAqIGJhY2tpbmcgaW1hZ2Ugc3RyaW5ncy4NCj4gKyAg
ICAgICAgICovDQo+ICsgICAgICAgIHdhcm5fcmVwb3J0KCJSQkQgb3B0aW9ucyBlbmNvZGVk
IGluIHRoZSBmaWxlbmFtZSBhcyBrZXl2YWx1ZSBwYWlycyAiDQo+ICsgICAgICAgICAgICAg
ICAgICAgICJpcyBkZXByZWNhdGVkIik7DQo+ICsgICAgfQ0KPiArDQo+ICsgICAgLyoNCj4g
KyAgICAgKiBSZW1vdmUgdGhlIHByb2Nlc3NlZCBvcHRpb25zIGZyb20gdGhlIFFEaWN0ICh0
aGUgdmlzaXRvciBwcm9jZXNzZXMNCj4gKyAgICAgKiBfYWxsXyBvcHRpb25zIGluIHRoZSBR
RGljdCkNCj4gKyAgICAgKi8NCj4gKyAgICB3aGlsZSAoKGUgPSBxZGljdF9maXJzdChzdGF0
ZS0+b3B0aW9ucykpKSB7DQo+ICsgICAgICAgIHFkaWN0X2RlbChzdGF0ZS0+b3B0aW9ucywg
ZS0+a2V5KTsNCj4gKyAgICB9DQo+ICsNCj4gKyAgICByID0gcWVtdV9yYmRfY29ubmVjdCgm
bmV3X3MtPmNsdXN0ZXIsICZuZXdfcy0+aW9fY3R4LCBvcHRzLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICEoc3RhdGUtPmZsYWdzICYgQkRSVl9PX05PQ0FDSEUpLCBrZXlwYWly
cywNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICBzZWNyZXRpZCwgZXJycCk7DQo+ICsg
ICAgaWYgKHIgPCAwKSB7DQo+ICsgICAgICAgIGdvdG8gb3V0Ow0KPiArICAgIH0NCj4gKw0K
PiArICAgIG5ld19zLT5zbmFwID0gZ19zdHJkdXAob3B0cy0+c25hcHNob3QpOw0KPiArICAg
IG5ld19zLT5pbWFnZV9uYW1lID0gZ19zdHJkdXAob3B0cy0+aW1hZ2UpOw0KPiArDQo+ICsg
ICAgLyogcmJkX29wZW4gaXMgYWx3YXlzIHIvdyAqLw0KPiArICAgIHIgPSByYmRfb3Blbihu
ZXdfcy0+aW9fY3R4LCBuZXdfcy0+aW1hZ2VfbmFtZSwgJm5ld19zLT5pbWFnZSwgbmV3X3Mt
PnNuYXApOw0KPiArICAgIGlmIChyIDwgMCkgew0KPiArICAgICAgICBlcnJvcl9zZXRnX2Vy
cm5vKGVycnAsIC1yLCAiZXJyb3IgcmVhZGluZyBoZWFkZXIgZnJvbSAlcyIsDQo+ICsgICAg
ICAgICAgICAgICAgICAgICAgICAgbmV3X3MtPmltYWdlX25hbWUpOw0KPiArICAgICAgICBn
b3RvIGZhaWxlZF9vcGVuOw0KPiArICAgIH0NCj4gKw0KPiArICAgIGlmIChvcHRzLT5oYXNf
ZW5jcnlwdCkgew0KPiArI2lmZGVmIExJQlJCRF9TVVBQT1JUU19FTkNSWVBUSU9ODQo+ICsg
ICAgICAgIHIgPSBxZW11X3JiZF9lbmNyeXB0aW9uX2xvYWQobmV3X3MtPmltYWdlLCBvcHRz
LT5lbmNyeXB0LCBlcnJwKTsNCj4gKyAgICAgICAgaWYgKHIgPCAwKSB7DQo+ICsgICAgICAg
ICAgICBnb3RvIGZhaWxlZF9wb3N0X29wZW47DQo+ICsgICAgICAgIH0NCj4gKyNlbHNlDQo+
ICsgICAgICAgIHIgPSAtRU5PVFNVUDsNCj4gKyAgICAgICAgZXJyb3Jfc2V0ZyhlcnJwLCAi
UkJEIGxpYnJhcnkgZG9lcyBub3Qgc3VwcG9ydCBpbWFnZSBlbmNyeXB0aW9uIik7DQo+ICsg
ICAgICAgIGdvdG8gZmFpbGVkX3Bvc3Rfb3BlbjsNCj4gKyNlbmRpZg0KPiArICAgIH0NCj4g
Kw0KPiArICAgIHIgPSByYmRfc3RhdChuZXdfcy0+aW1hZ2UsICZpbmZvLCBzaXplb2YoaW5m
bykpOw0KPiArICAgIGlmIChyIDwgMCkgew0KPiArICAgICAgICBlcnJvcl9zZXRnX2Vycm5v
KGVycnAsIC1yLCAiZXJyb3IgZ2V0dGluZyBpbWFnZSBpbmZvIGZyb20gJXMiLA0KPiArICAg
ICAgICAgICAgICAgICAgICAgICAgIG5ld19zLT5pbWFnZV9uYW1lKTsNCj4gKyAgICAgICAg
Z290byBmYWlsZWRfcG9zdF9vcGVuOw0KPiArICAgIH0NCj4gKyAgICBuZXdfcy0+aW1hZ2Vf
c2l6ZSA9IGluZm8uc2l6ZTsNCj4gKyAgICBuZXdfcy0+b2JqZWN0X3NpemUgPSBpbmZvLm9i
al9zaXplOw0KPiArDQo+ICsgICAgLyoNCj4gKyAgICAgKiBJZiB3ZSBhcmUgdXNpbmcgYW4g
cmJkIHNuYXBzaG90LCB3ZSBtdXN0IGJlIHIvbywgb3RoZXJ3aXNlDQo+ICsgICAgICogbGVh
dmUgYXMtaXMNCj4gKyAgICAgKi8NCj4gKyAgICBpZiAobmV3X3MtPnNuYXAgIT0gTlVMTCkg
ew0KPiArICAgICAgICByID0gYmRydl9hcHBseV9hdXRvX3JlYWRfb25seShzdGF0ZS0+YnMs
ICJyYmQgc25hcHNob3RzIGFyZSByZWFkLW9ubHkiLA0KPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBlcnJwKTsNCj4gKyAgICAgICAgaWYgKHIgPCAwKSB7DQo+
ICsgICAgICAgICAgICBnb3RvIGZhaWxlZF9wb3N0X29wZW47DQo+ICsgICAgICAgIH0NCj4g
KyAgICB9DQo+ICsNCj4gKyNpZmRlZiBMSUJSQkRfU1VQUE9SVFNfV1JJVEVfWkVST0VTDQo+
ICsgICAgc3RhdGUtPmJzLT5zdXBwb3J0ZWRfemVyb19mbGFncyA9IEJEUlZfUkVRX01BWV9V
Tk1BUCB8IEJEUlZfUkVRX05PX0ZBTExCQUNLOw0KPiArI2VuZGlmDQo+ICsNCj4gKyAgICAv
KiBXaGVuIGV4dGVuZGluZyByZWd1bGFyIGZpbGVzLCB3ZSBnZXQgemVyb3MgZnJvbSB0aGUg
T1MgKi8NCj4gKyAgICBzdGF0ZS0+YnMtPnN1cHBvcnRlZF90cnVuY2F0ZV9mbGFncyA9IEJE
UlZfUkVRX1pFUk9fV1JJVEU7DQo+ICsNCj4gKyAgICByID0gMDsNCj4gKyAgICBnb3RvIG91
dDsNCj4gKw0KPiArZmFpbGVkX3Bvc3Rfb3BlbjoNCj4gKyAgICByYmRfY2xvc2UobmV3X3Mt
PmltYWdlKTsNCj4gK2ZhaWxlZF9vcGVuOg0KPiArICAgIHJhZG9zX2lvY3R4X2Rlc3Ryb3ko
bmV3X3MtPmlvX2N0eCk7DQo+ICsgICAgZ19mcmVlKG5ld19zLT5zbmFwKTsNCj4gKyAgICBn
X2ZyZWUobmV3X3MtPmltYWdlX25hbWUpOw0KPiArICAgIHJhZG9zX3NodXRkb3duKG5ld19z
LT5jbHVzdGVyKTsNCj4gK291dDoNCj4gKyAgICBxYXBpX2ZyZWVfQmxvY2tkZXZPcHRpb25z
UmJkKG9wdHMpOw0KPiArICAgIGdfZnJlZShrZXlwYWlycyk7DQo+ICsgICAgZ19mcmVlKHNl
Y3JldGlkKTsNCj4gKyAgICByZXR1cm4gcjsNCj4gICB9DQo+ICAgDQo+ICtzdGF0aWMgdm9p
ZCBxZW11X3JiZF9yZW9wZW5fYWJvcnQoQkRSVlJlb3BlblN0YXRlICpyZW9wZW5fc3RhdGUp
DQo+ICt7DQo+ICsgICAgQkRSVlJCRFN0YXRlICpzID0gcmVvcGVuX3N0YXRlLT5icy0+b3Bh
cXVlOw0KPiArDQo+ICsgICAgaWYgKHMtPmlvX2N0eCkgew0KPiArICAgICAgICByYWRvc19p
b2N0eF9kZXN0cm95KHMtPmlvX2N0eCk7DQo+ICsgICAgfQ0KPiArDQo+ICsgICBpZiAocy0+
Y2x1c3Rlcikgew0KPiArICAgICAgICByYWRvc19zaHV0ZG93bihzLT5jbHVzdGVyKTsNCj4g
KyAgICB9DQo+ICsNCj4gKyAgICBnX2ZyZWUocy0+c25hcCk7DQo+ICsgICAgZ19mcmVlKHJl
b3Blbl9zdGF0ZS0+b3BhcXVlKTsNCj4gKyAgICByZW9wZW5fc3RhdGUtPm9wYXF1ZSA9IE5V
TEw7DQo+ICt9DQo+ICsNCj4gK3N0YXRpYyB2b2lkIHFlbXVfcmJkX3Jlb3Blbl9jb21taXQo
QkRSVlJlb3BlblN0YXRlICpyZW9wZW5fc3RhdGUpDQo+ICt7DQo+ICsgICAgQkRSVlJCRFN0
YXRlICpzID0gcmVvcGVuX3N0YXRlLT5icy0+b3BhcXVlOw0KPiArICAgIEJEUlZSQkRTdGF0
ZSAqbmV3X3MgPSByZW9wZW5fc3RhdGUtPm9wYXF1ZTsNCj4gKw0KPiArICAgIHJhZG9zX2Fp
b19mbHVzaChzLT5pb19jdHgpOw0KPiArDQo+ICsgICAgcmJkX2Nsb3NlKHMtPmltYWdlKTsN
Cj4gKyAgICByYWRvc19pb2N0eF9kZXN0cm95KHMtPmlvX2N0eCk7DQo+ICsgICAgZ19mcmVl
KHMtPnNuYXApOw0KPiArICAgIHJhZG9zX3NodXRkb3duKHMtPmNsdXN0ZXIpOw0KPiArDQo+
ICsgICAgcy0+aW9fY3R4ID0gbmV3X3MtPmlvX2N0eDsNCj4gKyAgICBzLT5jbHVzdGVyID0g
bmV3X3MtPmNsdXN0ZXI7DQo+ICsgICAgcy0+aW1hZ2UgPSBuZXdfcy0+aW1hZ2U7DQo+ICsg
ICAgcy0+c25hcCA9IG5ld19zLT5zbmFwOw0KPiArDQo+ICsgICAgZ19mcmVlKHJlb3Blbl9z
dGF0ZS0+b3BhcXVlKTsNCj4gKyAgICByZW9wZW5fc3RhdGUtPm9wYXF1ZSA9IE5VTEw7DQo+
ICt9DQo+ICsNCj4gKw0KPiAgIHN0YXRpYyB2b2lkIHFlbXVfcmJkX2Nsb3NlKEJsb2NrRHJp
dmVyU3RhdGUgKmJzKQ0KPiAgIHsNCj4gICAgICAgQkRSVlJCRFN0YXRlICpzID0gYnMtPm9w
YXF1ZTsNCj4gQEAgLTE2MjgsNiArMTgyMiw4IEBAIHN0YXRpYyBCbG9ja0RyaXZlciBiZHJ2
X3JiZCA9IHsNCj4gICAgICAgLmJkcnZfZmlsZV9vcGVuICAgICAgICAgPSBxZW11X3JiZF9v
cGVuLA0KPiAgICAgICAuYmRydl9jbG9zZSAgICAgICAgICAgICA9IHFlbXVfcmJkX2Nsb3Nl
LA0KPiAgICAgICAuYmRydl9yZW9wZW5fcHJlcGFyZSAgICA9IHFlbXVfcmJkX3Jlb3Blbl9w
cmVwYXJlLA0KPiArICAgIC5iZHJ2X3Jlb3Blbl9jb21taXQgICAgID0gcWVtdV9yYmRfcmVv
cGVuX2NvbW1pdCwNCj4gKyAgICAuYmRydl9yZW9wZW5fYWJvcnQgICAgID0gcWVtdV9yYmRf
cmVvcGVuX2Fib3J0LA0KPiAgICAgICAuYmRydl9jb19jcmVhdGUgICAgICAgICA9IHFlbXVf
cmJkX2NvX2NyZWF0ZSwNCj4gICAgICAgLmJkcnZfY29fY3JlYXRlX29wdHMgICAgPSBxZW11
X3JiZF9jb19jcmVhdGVfb3B0cywNCj4gICAgICAgLmJkcnZfaGFzX3plcm9faW5pdCAgICAg
PSBiZHJ2X2hhc196ZXJvX2luaXRfMSwNCg==
--------------GxEesvdrZVvyfhOKJbLVLfgt
Content-Type: application/pgp-keys; name="OpenPGP_0xCDB1EBB785C5EB7E.asc"
Content-Disposition: attachment; filename="OpenPGP_0xCDB1EBB785C5EB7E.asc"
Content-Description: OpenPGP public key
Content-Transfer-Encoding: quoted-printable

-----BEGIN PGP PUBLIC KEY BLOCK-----

xjMEXmXjyxYJKwYBBAHaRw8BAQdAtiEYnlLIuIUjvvqOH//nEbhrxSa54ZyAl7Ie
l403QaXNJ1JhcGhhZWwgUG91ciA8cmFwaGFlbC5wb3VyQGhldHpuZXIuY29tPsKW
BBMWCAA+FiEEvj4ODnHb6pxm/uWJzbHrt4XF634FAl5l48sCGwMFCQlmAYAFCwkI
BwIGFQoJCAsCBBYCAwECHgECF4AACgkQzbHrt4XF635TcwD+NEMqL1HZPHP/WRsY
ujCDtqt0p+7uxGcpvzv//AjqMZ0A+wUh0bOYYNdlXWNMMNLA88SsAT2mxAfD+F/p
aVmLpdoLzjgEXmXjyxIKKwYBBAGXVQEFAQEHQB0zJYP6jtTj989IJL1vguinsiIx
ia5fkW83OB1+Bb4QAwEIB8J+BBgWCAAmFiEEvj4ODnHb6pxm/uWJzbHrt4XF634F
Al5l48sCGwwFCQlmAYAACgkQzbHrt4XF6372LgEAi3qfceU+R53Ehg/YSSHV4wg+
zfPwrD6ylEg/xKabYDcBALrD0E3YX458RPjLIOC8H0u0rcFIvBqNYx/kGaMEmbEG
=3D3kgq
-----END PGP PUBLIC KEY BLOCK-----

--------------GxEesvdrZVvyfhOKJbLVLfgt--

--------------BnL5knLfVGP87ikeWMaDKV0k--

--------------NHqovZovzt6hjTPBCsrQQkHp
Content-Type: application/pgp-signature; name="OpenPGP_signature.asc"
Content-Description: OpenPGP digital signature
Content-Disposition: attachment; filename="OpenPGP_signature"

-----BEGIN PGP SIGNATURE-----

wnsEABYIACMWIQS+Pg4OcdvqnGb+5YnNseu3hcXrfgUCYqxGBQUDAAAAAAAKCRDNseu3hcXrfpGy
AQDLV2XAIfT+M18yzPhRSVYP26VXft7HV7o3MFxP2rRS1AEA1TpxJ8YweKy4tCf/rnyA1WkiPNfl
eK0BFGwDSSJzIgs=
=DgEr
-----END PGP SIGNATURE-----

--------------NHqovZovzt6hjTPBCsrQQkHp--

