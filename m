Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 5A1D86586EF
	for <lists+qemu-devel@lfdr.de>; Wed, 28 Dec 2022 22:14:19 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1pAdkC-0001Wt-1V; Wed, 28 Dec 2022 16:13:48 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pAdk0-0001U8-UD
 for qemu-devel@nongnu.org; Wed, 28 Dec 2022 16:13:37 -0500
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pAdjy-0001AR-4D
 for qemu-devel@nongnu.org; Wed, 28 Dec 2022 16:13:36 -0500
Received: from pps.filterd (m0279871.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 2BSL1N6V000849; Wed, 28 Dec 2022 21:13:30 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=bJ89UgkOBFgPAiR4mlY+EauBzQ88vRJ3V6Sb/FHkqss=;
 b=kVwl2+jLhVve48+Ajs4ym0Uhci5utuUSCE33QhjQMWmKjjUUBipt+ZFsSKySaRXecrGs
 8095uiYXNvUIuJ9yrX6yRyaEQ7LYsMxXXRoIkJcyVgqwMhRkdTz3/zEtNgZ9GNgxWokI
 pGGtyw8EboUPY0t4ORGW+QeQZG3MwRRlsrbQ9kz64ozK9RWogJgHSRfsTE1dDPbDEPCD
 vWb2sw8w4QE+NkbJtDBGzMZAGTZJyPbIwgdT1nlQZCRlSd1j7a3919kMU4/r/Prj6EXk
 Liaa9Bm67ligWm4sWETYdA9D/or/x7Vnnvt9gwAEjUs1EJZdPgQ5QvrnURECACNSZhkv 8g== 
Received: from nalasppmta04.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3mrar2sx3m-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 28 Dec 2022 21:13:30 +0000
Received: from pps.filterd (NALASPPMTA04.qualcomm.com [127.0.0.1])
 by NALASPPMTA04.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 2BSLDTH5021722; 
 Wed, 28 Dec 2022 21:13:29 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA04.qualcomm.com (PPS) with ESMTP id 3mntgm00f1-1;
 Wed, 28 Dec 2022 21:13:29 +0000
Received: from NALASPPMTA04.qualcomm.com (NALASPPMTA04.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 2BSLDSvp021707;
 Wed, 28 Dec 2022 21:13:29 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA04.qualcomm.com (PPS) with ESMTP id 2BSLDSgi021704;
 Wed, 28 Dec 2022 21:13:28 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id 5BB365000B0; Wed, 28 Dec 2022 13:13:28 -0800 (PST)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v2 4/6] Hexagon (target/hexagon) Add overrides for
 dealloc-return instructions
Date: Wed, 28 Dec 2022 13:13:22 -0800
Message-Id: <20221228211324.26989-5-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20221228211324.26989-1-tsimpson@quicinc.com>
References: <20221228211324.26989-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: XH61EZc_nlXEvCnmvC36cWlDjlhQxZWT
X-Proofpoint-GUID: XH61EZc_nlXEvCnmvC36cWlDjlhQxZWT
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.205,Aquarius:18.0.923,Hydra:6.0.545,FMLib:17.11.122.1
 definitions=2022-12-28_15,2022-12-28_02,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=2
 clxscore=1015 adultscore=0
 impostorscore=0 mlxlogscore=163 spamscore=2 suspectscore=0 mlxscore=2
 malwarescore=0 lowpriorityscore=0 phishscore=0 priorityscore=1501
 bulkscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2212070000 definitions=main-2212280182
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.249,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlc2UgaW5zdHJ1Y3Rpb25zIHBlcmZvcm0gYSBkZWFsbG9jZnJhbWUrcmV0dXJuIChqdW1wciBy
MzEpCgpBZGQgb3ZlcnJpZGVzIGZvcgogICAgTDRfcmV0dXJuCiAgICBTTDJfcmV0dXJuCiAgICBM
NF9yZXR1cm5fdAogICAgTDRfcmV0dXJuX2YKICAgIEw0X3JldHVybl90bmV3X3B0CiAgICBMNF9y
ZXR1cm5fZm5ld19wdAogICAgTDRfcmV0dXJuX3RuZXdfcG50CiAgICBMNF9yZXR1cm5fZm5ld19w
bnQKICAgIFNMMl9yZXR1cm5fdAogICAgU0wyX3JldHVybl9mCiAgICBTTDJfcmV0dXJuX3RuZXcK
ICAgIFNMMl9yZXR1cm5fZm5ldwoKVGhpcyBwYXRjaCBlbGltaW5hdGVzIHRoZSBsYXN0IGhlbHBl
ciB0aGF0IHVzZXMgd3JpdGVfbmV3X3BjLCBzbyB3ZQpyZW1vdmUgaXQgZnJvbSBvcF9oZWxwZXIu
YwoKU2lnbmVkLW9mZi1ieTogVGF5bG9yIFNpbXBzb24gPHRzaW1wc29uQHF1aWNpbmMuY29tPgot
LS0KIHRhcmdldC9oZXhhZ29uL2dlbl90Y2cuaCAgIHwgNTQgKysrKysrKysrKysrKysrKysrKysr
KysrCiB0YXJnZXQvaGV4YWdvbi9nZW5wdHIuYyAgICB8IDg2ICsrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrCiB0YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyB8IDI0IC0tLS0t
LS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDE0MCBpbnNlcnRpb25zKCspLCAyNCBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnLmggYi90YXJnZXQvaGV4YWdv
bi9nZW5fdGNnLmgKaW5kZXggMWFjMjNiNzVhMC4uYjU0MDM2NjU1YSAxMDA2NDQKLS0tIGEvdGFy
Z2V0L2hleGFnb24vZ2VuX3RjZy5oCisrKyBiL3RhcmdldC9oZXhhZ29uL2dlbl90Y2cuaApAQCAt
NTA4LDYgKzUwOCw2MCBAQAogI2RlZmluZSBmR0VOX1RDR19TMl9zdG9yZXJpbmV3X3BjcihTSE9S
VENPREUpIFwKICAgICBmR0VOX1RDR19TVE9SRV9wY3IoMiwgZlNUT1JFKDEsIDQsIEVBLCBOdE4p
KQogCisvKgorICogZGVhbGxvY19yZXR1cm4KKyAqIEFzc2VtYmxlciBtYXBwZWQgdG8KKyAqIHIz
MTozMCA9IGRlYWxsb2NfcmV0dXJuKHIzMCk6cmF3CisgKi8KKyNkZWZpbmUgZkdFTl9UQ0dfTDRf
cmV0dXJuKFNIT1JUQ09ERSkgXAorICAgIGdlbl9yZXR1cm4oY3R4LCBSZGRWLCBSc1YpCisKKy8q
CisgKiBzdWItaW5zdHJ1Y3Rpb24gdmVyc2lvbiAobm8gUmRkViwgc28gaGFuZGxlIGl0IG1hbnVh
bGx5KQorICovCisjZGVmaW5lIGZHRU5fVENHX1NMMl9yZXR1cm4oU0hPUlRDT0RFKSBcCisgICAg
ZG8geyBcCisgICAgICAgIFRDR3ZfaTY0IFJkZFYgPSB0Y2dfdGVtcF9uZXdfaTY0KCk7IFwKKyAg
ICAgICAgZ2VuX3JldHVybihjdHgsIFJkZFYsIGhleF9ncHJbSEVYX1JFR19GUF0pOyBcCisgICAg
ICAgIGdlbl9sb2dfcmVnX3dyaXRlX3BhaXIoSEVYX1JFR19GUCwgUmRkVik7IFwKKyAgICAgICAg
dGNnX3RlbXBfZnJlZV9pNjQoUmRkVik7IFwKKyAgICB9IHdoaWxlICgwKQorCisvKgorICogQ29u
ZGl0aW9uYWwgcmV0dXJucyBmb2xsb3cgdGhpcyBuYW1pbmcgY29udmVudGlvbgorICogICAgIF90
ICAgICAgICAgICAgICAgICBwcmVkaWNhdGUgdHJ1ZQorICogICAgIF9mICAgICAgICAgICAgICAg
ICBwcmVkaWNhdGUgZmFsc2UKKyAqICAgICBfdG5ld19wdCAgICAgICAgICAgcHJlZGljYXRlLm5l
dyB0cnVlIHByZWRpY3QgdGFrZW4KKyAqICAgICBfZm5ld19wdCAgICAgICAgICAgcHJlZGljYXRl
Lm5ldyBmYWxzZSBwcmVkaWN0IHRha2VuCisgKiAgICAgX3RuZXdfcG50ICAgICAgICAgIHByZWRp
Y2F0ZS5uZXcgdHJ1ZSBwcmVkaWN0IG5vdCB0YWtlbgorICogICAgIF9mbmV3X3BudCAgICAgICAg
ICBwcmVkaWNhdGUubmV3IGZhbHNlIHByZWRpY3Qgbm90IHRha2VuCisgKiBQcmVkaWN0aW9ucyBh
cmUgbm90IG1vZGVsbGVkIGluIFFFTVUKKyAqCisgKiBFeGFtcGxlOgorICogICAgIGlmIChwMSkg
cjMxOjMwID0gZGVhbGxvY19yZXR1cm4ocjMwKTpyYXcKKyAqLworI2RlZmluZSBmR0VOX1RDR19M
NF9yZXR1cm5fdChTSE9SVENPREUpIFwKKyAgICBnZW5fY29uZF9yZXR1cm4oY3R4LCBSZGRWLCBS
c1YsIFB2ViwgVENHX0NPTkRfRVEpOworI2RlZmluZSBmR0VOX1RDR19MNF9yZXR1cm5fZihTSE9S
VENPREUpIFwKKyAgICBnZW5fY29uZF9yZXR1cm4oY3R4LCBSZGRWLCBSc1YsIFB2ViwgVENHX0NP
TkRfTkUpCisjZGVmaW5lIGZHRU5fVENHX0w0X3JldHVybl90bmV3X3B0KFNIT1JUQ09ERSkgXAor
ICAgIGdlbl9jb25kX3JldHVybihjdHgsIFJkZFYsIFJzViwgUHZOLCBUQ0dfQ09ORF9FUSkKKyNk
ZWZpbmUgZkdFTl9UQ0dfTDRfcmV0dXJuX2ZuZXdfcHQoU0hPUlRDT0RFKSBcCisgICAgZ2VuX2Nv
bmRfcmV0dXJuKGN0eCwgUmRkViwgUnNWLCBQdk4sIFRDR19DT05EX05FKQorI2RlZmluZSBmR0VO
X1RDR19MNF9yZXR1cm5fdG5ld19wbnQoU0hPUlRDT0RFKSBcCisgICAgZ2VuX2NvbmRfcmV0dXJu
KGN0eCwgUmRkViwgUnNWLCBQdk4sIFRDR19DT05EX0VRKQorI2RlZmluZSBmR0VOX1RDR19MNF9y
ZXR1cm5fZm5ld19wbnQoU0hPUlRDT0RFKSBcCisgICAgZ2VuX2NvbmRfcmV0dXJuKGN0eCwgUmRk
ViwgUnNWLCBQdk4sIFRDR19DT05EX05FKQorCisjZGVmaW5lIGZHRU5fVENHX1NMMl9yZXR1cm5f
dChTSE9SVENPREUpIFwKKyAgICBnZW5fY29uZF9yZXR1cm5fc3ViaW5zbihjdHgsIFRDR19DT05E
X0VRLCBoZXhfcHJlZFswXSkKKyNkZWZpbmUgZkdFTl9UQ0dfU0wyX3JldHVybl9mKFNIT1JUQ09E
RSkgXAorICAgIGdlbl9jb25kX3JldHVybl9zdWJpbnNuKGN0eCwgVENHX0NPTkRfTkUsIGhleF9w
cmVkWzBdKQorI2RlZmluZSBmR0VOX1RDR19TTDJfcmV0dXJuX3RuZXcoU0hPUlRDT0RFKSBcCisg
ICAgZ2VuX2NvbmRfcmV0dXJuX3N1Ymluc24oY3R4LCBUQ0dfQ09ORF9FUSwgaGV4X25ld19wcmVk
X3ZhbHVlWzBdKQorI2RlZmluZSBmR0VOX1RDR19TTDJfcmV0dXJuX2ZuZXcoU0hPUlRDT0RFKSBc
CisgICAgZ2VuX2NvbmRfcmV0dXJuX3N1Ymluc24oY3R4LCBUQ0dfQ09ORF9ORSwgaGV4X25ld19w
cmVkX3ZhbHVlWzBdKQorCiAvKgogICogTWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMgd2l0aCBtb3Jl
IHRoYW4gb25lIGRlZmluaXRpb24gcmVxdWlyZQogICogc3BlY2lhbCBoYW5kbGluZwpkaWZmIC0t
Z2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwpp
bmRleCAwZWVmMmEyMDY4Li4xNTQ0ZDE4MWYxIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9n
ZW5wdHIuYworKysgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwpAQCAtNzA2LDYgKzcwNiw5MiBA
QCBzdGF0aWMgdm9pZCBnZW5fY29uZF9jYWxscihEaXNhc0NvbnRleHQgKmN0eCwKICAgICBnZW5f
c2V0X2xhYmVsKHNraXApOwogfQogCisvKiBmcmFtZSBePSAoaW50NjRfdClGUkFNRUtFWSA8PCAz
MiAqLworc3RhdGljIHZvaWQgZ2VuX2ZyYW1lX3Vuc2NyYW1ibGUoVENHdl9pNjQgZnJhbWUpCit7
CisgICAgVENHdl9pNjQgZnJhbWVrZXkgPSB0Y2dfdGVtcF9uZXdfaTY0KCk7CisgICAgdGNnX2dl
bl9leHR1X2kzMl9pNjQoZnJhbWVrZXksIGhleF9ncHJbSEVYX1JFR19GUkFNRUtFWV0pOworICAg
IHRjZ19nZW5fc2hsaV9pNjQoZnJhbWVrZXksIGZyYW1la2V5LCAzMik7CisgICAgdGNnX2dlbl94
b3JfaTY0KGZyYW1lLCBmcmFtZSwgZnJhbWVrZXkpOworICAgIHRjZ190ZW1wX2ZyZWVfaTY0KGZy
YW1la2V5KTsKK30KKworc3RhdGljIHZvaWQgZ2VuX2xvYWRfZnJhbWUoRGlzYXNDb250ZXh0ICpj
dHgsIFRDR3ZfaTY0IGZyYW1lLCBUQ0d2IEVBKQoreworICAgIEluc24gKmluc24gPSBjdHgtPmlu
c247ICAvKiBOZWVkZWQgZm9yIENIRUNLX05PU0hVRiAqLworICAgIENIRUNLX05PU0hVRihFQSwg
OCk7CisgICAgdGNnX2dlbl9xZW11X2xkNjQoZnJhbWUsIEVBLCBjdHgtPm1lbV9pZHgpOworfQor
CitzdGF0aWMgdm9pZCBnZW5fcmV0dXJuX2Jhc2UoRGlzYXNDb250ZXh0ICpjdHgsIFRDR3ZfaTY0
IGRzdCwgVENHdiBzcmMsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgVENHdiByMjkpCit7
CisgICAgLyoKKyAgICAgKiBmcmFtZSA9ICpzcmMKKyAgICAgKiBkc3QgPSBmcmFtZV91bnNjcmFt
YmxlKGZyYW1lKQorICAgICAqIFNQID0gc3JjICsgOAorICAgICAqIFBDID0gZHN0LndbMV0KKyAg
ICAgKi8KKyAgICBUQ0d2X2k2NCBmcmFtZSA9IHRjZ190ZW1wX25ld19pNjQoKTsKKyAgICBUQ0d2
IHIzMSA9IHRjZ190ZW1wX25ldygpOworCisgICAgZ2VuX2xvYWRfZnJhbWUoY3R4LCBmcmFtZSwg
c3JjKTsKKyAgICBnZW5fZnJhbWVfdW5zY3JhbWJsZShmcmFtZSk7CisgICAgdGNnX2dlbl9tb3Zf
aTY0KGRzdCwgZnJhbWUpOworICAgIHRjZ19nZW5fYWRkaV90bChyMjksIHNyYywgOCk7CisgICAg
dGNnX2dlbl9leHRyaF9pNjRfaTMyKHIzMSwgZHN0KTsKKyAgICBnZW5fanVtcHIoY3R4LCByMzEp
OworCisgICAgdGNnX3RlbXBfZnJlZV9pNjQoZnJhbWUpOworICAgIHRjZ190ZW1wX2ZyZWUocjMx
KTsKK30KKworc3RhdGljIHZvaWQgZ2VuX3JldHVybihEaXNhc0NvbnRleHQgKmN0eCwgVENHdl9p
NjQgZHN0LCBUQ0d2IHNyYykKK3sKKyAgICBUQ0d2IHIyOSA9IHRjZ190ZW1wX25ldygpOworICAg
IGdlbl9yZXR1cm5fYmFzZShjdHgsIGRzdCwgc3JjLCByMjkpOworICAgIGdlbl9sb2dfcmVnX3dy
aXRlKEhFWF9SRUdfU1AsIHIyOSk7CisgICAgdGNnX3RlbXBfZnJlZShyMjkpOworfQorCisvKiBp
ZiAocHJlZCkgZHN0ID0gZGVhbGxvY19yZXR1cm4oc3JjKTpyYXcgKi8KK3N0YXRpYyB2b2lkIGdl
bl9jb25kX3JldHVybihEaXNhc0NvbnRleHQgKmN0eCwgVENHdl9pNjQgZHN0LCBUQ0d2IHNyYywK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICBUQ0d2IHByZWQsIFRDR0NvbmQgY29uZCkKK3sK
KyAgICBUQ0d2IExTQiA9IHRjZ190ZW1wX25ldygpOworICAgIFRDR3YgbWFzayA9IHRjZ190ZW1w
X25ldygpOworICAgIFRDR3YgcjI5ID0gdGNnX3RlbXBfbG9jYWxfbmV3KCk7CisgICAgVENHTGFi
ZWwgKnNraXAgPSBnZW5fbmV3X2xhYmVsKCk7CisgICAgdGNnX2dlbl9hbmRpX3RsKExTQiwgcHJl
ZCwgMSk7CisKKyAgICAvKiBJbml0aWFsaXplIHRoZSByZXN1bHRzIGluIGNhc2UgdGhlIHByZWRp
Y2F0ZSBpcyBmYWxzZSAqLworICAgIHRjZ19nZW5fbW92aV9pNjQoZHN0LCAwKTsKKyAgICB0Y2df
Z2VuX21vdmlfdGwocjI5LCAwKTsKKworICAgIC8qIFNldCB0aGUgYml0IGluIGhleF9zbG90X2Nh
bmNlbGxlZCBpZiB0aGUgcHJlZGljYXRlIGlzIGZsYXNlICovCisgICAgdGNnX2dlbl9tb3ZpX3Rs
KG1hc2ssIDEgPDwgY3R4LT5pbnNuLT5zbG90KTsKKyAgICB0Y2dfZ2VuX29yX3RsKG1hc2ssIGhl
eF9zbG90X2NhbmNlbGxlZCwgbWFzayk7CisgICAgdGNnX2dlbl9tb3Zjb25kX3RsKGNvbmQsIGhl
eF9zbG90X2NhbmNlbGxlZCwgTFNCLCB0Y2dfY29uc3RhbnRfdGwoMCksCisgICAgICAgICAgICAg
ICAgICAgICAgIG1hc2ssIGhleF9zbG90X2NhbmNlbGxlZCk7CisgICAgdGNnX3RlbXBfZnJlZSht
YXNrKTsKKworICAgIHRjZ19nZW5fYnJjb25kaV90bChjb25kLCBMU0IsIDAsIHNraXApOworICAg
IHRjZ190ZW1wX2ZyZWUoTFNCKTsKKyAgICBnZW5fcmV0dXJuX2Jhc2UoY3R4LCBkc3QsIHNyYywg
cjI5KTsKKyAgICBnZW5fc2V0X2xhYmVsKHNraXApOworICAgIGdlbl9sb2dfcHJlZGljYXRlZF9y
ZWdfd3JpdGUoSEVYX1JFR19TUCwgcjI5LCBjdHgtPmluc24tPnNsb3QpOworICAgIHRjZ190ZW1w
X2ZyZWUocjI5KTsKK30KKworLyogc3ViLWluc3RydWN0aW9uIHZlcnNpb24gKG5vIFJkZFYsIHNv
IGhhbmRsZSBpdCBtYW51YWxseSkgKi8KK3N0YXRpYyB2b2lkIGdlbl9jb25kX3JldHVybl9zdWJp
bnNuKERpc2FzQ29udGV4dCAqY3R4LCBUQ0dDb25kIGNvbmQsIFRDR3YgcHJlZCkKK3sKKyAgICBU
Q0d2X2k2NCBSZGRWID0gdGNnX3RlbXBfbG9jYWxfbmV3X2k2NCgpOworICAgIGdlbl9jb25kX3Jl
dHVybihjdHgsIFJkZFYsIGhleF9ncHJbSEVYX1JFR19GUF0sIHByZWQsIGNvbmQpOworICAgIGdl
bl9sb2dfcHJlZGljYXRlZF9yZWdfd3JpdGVfcGFpcihIRVhfUkVHX0ZQLCBSZGRWLCBjdHgtPmlu
c24tPnNsb3QpOworICAgIHRjZ190ZW1wX2ZyZWVfaTY0KFJkZFYpOworfQorCiBzdGF0aWMgdm9p
ZCBnZW5fZW5kbG9vcDAoRGlzYXNDb250ZXh0ICpjdHgpCiB7CiAgICAgVENHdiBscGNmZyA9IHRj
Z190ZW1wX2xvY2FsX25ldygpOwpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVy
LmMgYi90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYwppbmRleCAzNTQ0OWVmNTI0Li45YWEwZjk2
M2ZhIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYworKysgYi90YXJnZXQv
aGV4YWdvbi9vcF9oZWxwZXIuYwpAQCAtMTA1LDMwICsxMDUsNiBAQCB2b2lkIGxvZ19zdG9yZTY0
KENQVUhleGFnb25TdGF0ZSAqZW52LCB0YXJnZXRfdWxvbmcgYWRkciwKICAgICBlbnYtPm1lbV9s
b2dfc3RvcmVzW3Nsb3RdLmRhdGE2NCA9IHZhbDsKIH0KIAotdm9pZCB3cml0ZV9uZXdfcGMoQ1BV
SGV4YWdvblN0YXRlICplbnYsIGJvb2wgcGt0X2hhc19tdWx0aV9jb2YsCi0gICAgICAgICAgICAg
ICAgICAgICAgICAgdGFyZ2V0X3Vsb25nIGFkZHIpCi17Ci0gICAgSEVYX0RFQlVHX0xPRygid3Jp
dGVfbmV3X3BjKDB4IiBUQVJHRVRfRk1UX2x4ICIpXG4iLCBhZGRyKTsKLQotICAgIGlmIChwa3Rf
aGFzX211bHRpX2NvZikgewotICAgICAgICAvKgotICAgICAgICAgKiBJZiBtb3JlIHRoYW4gb25l
IGJyYW5jaCBpcyB0YWtlbiBpbiBhIHBhY2tldCwgb25seSB0aGUgZmlyc3Qgb25lCi0gICAgICAg
ICAqIGlzIGFjdHVhbGx5IGRvbmUuCi0gICAgICAgICAqLwotICAgICAgICBpZiAoZW52LT5icmFu
Y2hfdGFrZW4pIHsKLSAgICAgICAgICAgIEhFWF9ERUJVR19MT0coIklORk86IG11bHRpcGxlIGJy
YW5jaGVzIHRha2VuIGluIHNhbWUgcGFja2V0LCAiCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICJpZ25vcmluZyB0aGUgc2Vjb25kIG9uZVxuIik7Ci0gICAgICAgIH0gZWxzZSB7Ci0gICAgICAg
ICAgICBmQ0hFQ0tfUENBTElHTihhZGRyKTsKLSAgICAgICAgICAgIGVudi0+Z3ByW0hFWF9SRUdf
UENdID0gYWRkcjsKLSAgICAgICAgICAgIGVudi0+YnJhbmNoX3Rha2VuID0gMTsKLSAgICAgICAg
fQotICAgIH0gZWxzZSB7Ci0gICAgICAgIGZDSEVDS19QQ0FMSUdOKGFkZHIpOwotICAgICAgICBl
bnYtPmdwcltIRVhfUkVHX1BDXSA9IGFkZHI7Ci0gICAgfQotfQotCiAvKiBIYW5keSBwbGFjZSB0
byBzZXQgYSBicmVha3BvaW50ICovCiB2b2lkIEhFTFBFUihkZWJ1Z19zdGFydF9wYWNrZXQpKENQ
VUhleGFnb25TdGF0ZSAqZW52KQogewotLSAKMi4xNy4xCgo=

