Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 3F3A86EEB9C
	for <lists+qemu-devel@lfdr.de>; Wed, 26 Apr 2023 02:44:26 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1prTGT-0002I2-RN; Tue, 25 Apr 2023 20:44:15 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1prTFt-0001OG-IM
 for qemu-devel@nongnu.org; Tue, 25 Apr 2023 20:43:33 -0400
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1prTFG-0006Qw-3V
 for qemu-devel@nongnu.org; Tue, 25 Apr 2023 20:43:33 -0400
Received: from pps.filterd (m0279863.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 33PNgQTc029432; Wed, 26 Apr 2023 00:42:45 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : mime-version : content-type :
 content-transfer-encoding; s=qcppdkim1;
 bh=zBIKckvHGheCDSfylXl0urkvdK1p77A2D5o9eJKBhD8=;
 b=b+mDR1bEwGnN4mfCglmGd0JeZr/qEJyonYUgPDh1qq9JiYHTPG8kgYuc4eUj6BOIzzas
 seyMau7jr1gATZ5AjcHk/zvuQzyCsJCSUo1tIxspb+DUo5yrzCyR8EcpvO/Z79ZtNEos
 wh0Gu9G0dfQ9Du4dhcVQvOKDDjKJNeGtAihr53ld3GxkjazicqoB/bDe165KPX+vNF2S
 7EmInV7X5pKyNN2jrOWlIyi4jkmp3VqDKMy+kficreyt3Oc4QHe+hROUfNoUY6L18AKi
 NN+NDbyF5rkDu6ZgLEeKcr56M6Cmx7RG5nniNo1Yyi40l8D80MqmksRoG24n6yIGjbgp nw== 
Received: from nalasppmta05.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3q6bdra8cw-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 26 Apr 2023 00:42:44 +0000
Received: from pps.filterd (NALASPPMTA05.qualcomm.com [127.0.0.1])
 by NALASPPMTA05.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 33Q0dHMB031029; 
 Wed, 26 Apr 2023 00:42:44 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA05.qualcomm.com (PPS) with ESMTPS id 3q48nmd055-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 26 Apr 2023 00:42:43 +0000
Received: from NALASPPMTA05.qualcomm.com (NALASPPMTA05.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 33Q0ex4B000755;
 Wed, 26 Apr 2023 00:42:43 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA05.qualcomm.com (PPS) with ESMTPS id 33Q0ghFi001974
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 26 Apr 2023 00:42:43 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id 2FF8D532; Tue, 25 Apr 2023 17:42:43 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH 20/21] Hexagon (target/hexagon) Move pkt_has_store_s1 to
 DisasContext
Date: Tue, 25 Apr 2023 17:42:39 -0700
Message-Id: <20230426004240.1319494-1-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: uoG0PCphaMogs4UEaIq4K1dq3EWqTGF8
X-Proofpoint-ORIG-GUID: uoG0PCphaMogs4UEaIq4K1dq3EWqTGF8
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.254,Aquarius:18.0.942,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-04-25_11,2023-04-25_01,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 clxscore=1015
 priorityscore=1501 mlxscore=0 suspectscore=0 phishscore=0
 lowpriorityscore=0 malwarescore=0 bulkscore=0 impostorscore=0
 mlxlogscore=999 spamscore=0 adultscore=0 classifier=spam adjust=0
 reason=mlx scancount=1 engine=8.12.0-2303200000
 definitions=main-2304260004
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 SPF_PASS=-0.001, T_SCC_BODY_TEXT_LINE=-0.01,
 T_SPF_HELO_TEMPERROR=0.01 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlIHBrdF9oYXNfc3RvcmVfczEgZmllbGQgaXMgb25seSB1c2VkIGZvciBib29ra2VlcGluZyBo
ZWxwZXJzIHdpdGgKYSBsb2FkLiAgV2l0aCByZWNlbnQgY2hhbmdlcyB0aGF0IGVsaW1pbmF0ZSB0
aGUgbmVlZCB0byBmcmVlIFRDR3YKdmFyaWFibGVzLCBpdCBtYWtlcyBtb3JlIHNlbnNlIHRvIG1h
a2UgdGhpcyB0cmFuc2llbnQuCgpUaGVzZSBoZWxwZXJzIGFscmVhZHkgdGFrZSB0aGUgaW5zdHJ1
Y3Rpb24gc2xvdCBhcyBhbiBhcmd1bWVudC4gIFdlCmNvbWJpbmUgdGhlIHNsb3QgYW5kIHBrdF9o
YXNfc3RvcmVfczEgaW50byBhIHNpbmdsZSBhcmd1bWVudCBjYWxsZWQKc2xvdHZhbC4KClNpZ25l
ZC1vZmYtYnk6IFRheWxvciBTaW1wc29uIDx0c2ltcHNvbkBxdWljaW5jLmNvbT4KLS0tCiB0YXJn
ZXQvaGV4YWdvbi9jcHUuaCAgICAgICAgICAgICAgICB8ICAxIC0KIHRhcmdldC9oZXhhZ29uL21h
Y3Jvcy5oICAgICAgICAgICAgIHwgMTYgKysrKysrKystLS0tLS0tLQogdGFyZ2V0L2hleGFnb24v
b3BfaGVscGVyLmggICAgICAgICAgfCAxMiArKysrKysrKy0tLS0KIHRhcmdldC9oZXhhZ29uL3Ry
YW5zbGF0ZS5oICAgICAgICAgIHwgIDEgLQogdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMgICAgICAg
ICAgICAgfCAxMCArKysrKysrKysrCiB0YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyAgICAgICAg
ICB8IDI2ICsrKysrKysrKysrKysrKy0tLS0tLS0tLS0tCiB0YXJnZXQvaGV4YWdvbi90cmFuc2xh
dGUuYyAgICAgICAgICB8ICA3IC0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL2dlbl9hbmFseXplX2Z1
bmNzLnB5IHwgIDIgLS0KIHRhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVuY3MucHkgIHwgIDcg
KysrKysrLQogdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSAgICAgfCAgNCArKy0tCiB0
YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5ICAgICAgICB8ICA3ICsrKystLS0KIDExIGZpbGVz
IGNoYW5nZWQsIDUzIGluc2VydGlvbnMoKyksIDQwIGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBh
L3RhcmdldC9oZXhhZ29uL2NwdS5oIGIvdGFyZ2V0L2hleGFnb24vY3B1LmgKaW5kZXggMjY5NTJj
ZGRjYi4uNzJiN2Q3OTI3OSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vY3B1LmgKKysrIGIv
dGFyZ2V0L2hleGFnb24vY3B1LmgKQEAgLTk1LDcgKzk1LDYgQEAgdHlwZWRlZiBzdHJ1Y3QgQ1BV
QXJjaFN0YXRlIHsKICAgICB0YXJnZXRfdWxvbmcgcmVnX3dyaXR0ZW5bVE9UQUxfUEVSX1RIUkVB
RF9SRUdTXTsKIAogICAgIE1lbUxvZyBtZW1fbG9nX3N0b3Jlc1tTVE9SRVNfTUFYXTsKLSAgICB0
YXJnZXRfdWxvbmcgcGt0X2hhc19zdG9yZV9zMTsKICAgICB0YXJnZXRfdWxvbmcgZGN6ZXJvX2Fk
ZHI7CiAKICAgICBmbG9hdF9zdGF0dXMgZnBfc3RhdHVzOwpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hl
eGFnb24vbWFjcm9zLmggYi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAppbmRleCAyNzE3MjE5M2Ew
Li5mNWViYWY3ZjU0IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAorKysgYi90
YXJnZXQvaGV4YWdvbi9tYWNyb3MuaApAQCAtMTczLDE0ICsxNzMsMTQgQEAKICNkZWZpbmUgTUVN
X1NUT1JFOChWQSwgREFUQSwgU0xPVCkgXAogICAgIE1FTV9TVE9SRThfRlVOQyhEQVRBKShjcHVf
ZW52LCBWQSwgREFUQSwgU0xPVCkKICNlbHNlCi0jZGVmaW5lIE1FTV9MT0FEMXMoVkEpICgoaW50
OF90KW1lbV9sb2FkMShlbnYsIHNsb3QsIFZBKSkKLSNkZWZpbmUgTUVNX0xPQUQxdShWQSkgKCh1
aW50OF90KW1lbV9sb2FkMShlbnYsIHNsb3QsIFZBKSkKLSNkZWZpbmUgTUVNX0xPQUQycyhWQSkg
KChpbnQxNl90KW1lbV9sb2FkMihlbnYsIHNsb3QsIFZBKSkKLSNkZWZpbmUgTUVNX0xPQUQydShW
QSkgKCh1aW50MTZfdCltZW1fbG9hZDIoZW52LCBzbG90LCBWQSkpCi0jZGVmaW5lIE1FTV9MT0FE
NHMoVkEpICgoaW50MzJfdCltZW1fbG9hZDQoZW52LCBzbG90LCBWQSkpCi0jZGVmaW5lIE1FTV9M
T0FENHUoVkEpICgodWludDMyX3QpbWVtX2xvYWQ0KGVudiwgc2xvdCwgVkEpKQotI2RlZmluZSBN
RU1fTE9BRDhzKFZBKSAoKGludDY0X3QpbWVtX2xvYWQ4KGVudiwgc2xvdCwgVkEpKQotI2RlZmlu
ZSBNRU1fTE9BRDh1KFZBKSAoKHVpbnQ2NF90KW1lbV9sb2FkOChlbnYsIHNsb3QsIFZBKSkKKyNk
ZWZpbmUgTUVNX0xPQUQxcyhWQSkgKChpbnQ4X3QpbWVtX2xvYWQxKGVudiwgcGt0X2hhc19zdG9y
ZV9zMSwgc2xvdCwgVkEpKQorI2RlZmluZSBNRU1fTE9BRDF1KFZBKSAoKHVpbnQ4X3QpbWVtX2xv
YWQxKGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgVkEpKQorI2RlZmluZSBNRU1fTE9BRDJz
KFZBKSAoKGludDE2X3QpbWVtX2xvYWQyKGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgVkEp
KQorI2RlZmluZSBNRU1fTE9BRDJ1KFZBKSAoKHVpbnQxNl90KW1lbV9sb2FkMihlbnYsIHBrdF9o
YXNfc3RvcmVfczEsIHNsb3QsIFZBKSkKKyNkZWZpbmUgTUVNX0xPQUQ0cyhWQSkgKChpbnQzMl90
KW1lbV9sb2FkNChlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIFZBKSkKKyNkZWZpbmUgTUVN
X0xPQUQ0dShWQSkgKCh1aW50MzJfdCltZW1fbG9hZDQoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBz
bG90LCBWQSkpCisjZGVmaW5lIE1FTV9MT0FEOHMoVkEpICgoaW50NjRfdCltZW1fbG9hZDgoZW52
LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCBWQSkpCisjZGVmaW5lIE1FTV9MT0FEOHUoVkEpICgo
dWludDY0X3QpbWVtX2xvYWQ4KGVudiwgcGt0X2hhc19zdG9yZV9zMSwgc2xvdCwgVkEpKQogCiAj
ZGVmaW5lIE1FTV9TVE9SRTEoVkEsIERBVEEsIFNMT1QpIGxvZ19zdG9yZTMyKGVudiwgVkEsIERB
VEEsIDEsIFNMT1QpCiAjZGVmaW5lIE1FTV9TVE9SRTIoVkEsIERBVEEsIFNMT1QpIGxvZ19zdG9y
ZTMyKGVudiwgVkEsIERBVEEsIDIsIFNMT1QpCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9v
cF9oZWxwZXIuaCBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5oCmluZGV4IDZiZDRiMDc4NDku
LjhmMzc2NGQxNWUgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5oCisrKyBi
L3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5oCkBAIC0xOSwxMCArMTksMTQgQEAKICNkZWZpbmUg
SEVYQUdPTl9PUF9IRUxQRVJfSAogCiAvKiBNaXNjIGZ1bmN0aW9ucyAqLwotdWludDhfdCBtZW1f
bG9hZDEoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2
YWRkcik7Ci11aW50MTZfdCBtZW1fbG9hZDIoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90
IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7Ci11aW50MzJfdCBtZW1fbG9hZDQoQ1BVSGV4YWdv
blN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcik7Ci11aW50NjRf
dCBtZW1fbG9hZDgoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91
bG9uZyB2YWRkcik7Cit1aW50OF90IG1lbV9sb2FkMShDUFVIZXhhZ29uU3RhdGUgKmVudiwgYm9v
bCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgdWludDMyX3Qgc2xvdCwgdGFy
Z2V0X3Vsb25nIHZhZGRyKTsKK3VpbnQxNl90IG1lbV9sb2FkMihDUFVIZXhhZ29uU3RhdGUgKmVu
diwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IHNs
b3QsIHRhcmdldF91bG9uZyB2YWRkcik7Cit1aW50MzJfdCBtZW1fbG9hZDQoQ1BVSGV4YWdvblN0
YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAgICB1aW50
MzJfdCBzbG90LCB0YXJnZXRfdWxvbmcgdmFkZHIpOwordWludDY0X3QgbWVtX2xvYWQ4KENQVUhl
eGFnb25TdGF0ZSAqZW52LCBib29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAgICAgICAgICAg
ICAgdWludDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKTsKIAogdm9pZCBsb2dfc3RvcmU2
NChDUFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vsb25nIGFkZHIsCiAgICAgICAgICAgICAg
ICAgIGludDY0X3QgdmFsLCBpbnQgd2lkdGgsIGludCBzbG90KTsKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL3RyYW5zbGF0ZS5oIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKaW5kZXgg
YTlmMWNjZWUyNC4uOTY5N2I0ZGUwZSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNs
YXRlLmgKKysrIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKQEAgLTY2LDcgKzY2LDYgQEAg
dHlwZWRlZiBzdHJ1Y3QgRGlzYXNDb250ZXh0IHsKICAgICBUQ0dDb25kIGJyYW5jaF9jb25kOwog
ICAgIHRhcmdldF91bG9uZyBicmFuY2hfZGVzdDsKICAgICBib29sIGlzX3RpZ2h0X2xvb3A7Ci0g
ICAgYm9vbCBuZWVkX3BrdF9oYXNfc3RvcmVfczE7CiAgICAgYm9vbCBzaG9ydF9jaXJjdWl0Owog
ICAgIGJvb2wgaGFzX2h2eF9oZWxwZXI7CiAgICAgVENHdiBuZXdfdmFsdWVbVE9UQUxfUEVSX1RI
UkVBRF9SRUdTXTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jIGIvdGFyZ2V0
L2hleGFnb24vZ2VucHRyLmMKaW5kZXggYjJmYTkxYzVhMy4uOGZmM2Q1NWRmNCAxMDA2NDQKLS0t
IGEvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMK
QEAgLTM5OCw2ICszOTgsMTYgQEAgc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9yZV9jb25kaXRp
b25hbDgoRGlzYXNDb250ZXh0ICpjdHgsCiAgICAgdGNnX2dlbl9tb3ZpX3RsKGhleF9sbHNjX2Fk
ZHIsIH4wKTsKIH0KIAorI2lmbmRlZiBDT05GSUdfSEVYQUdPTl9JREVGX1BBUlNFUgorc3RhdGlj
IFRDR3YgZ2VuX3Nsb3R2YWwoRGlzYXNDb250ZXh0ICpjdHgpCit7CisgICAgVENHdiBzbG90dmFs
ID0gdGNnX3RlbXBfbmV3KCk7CisgICAgdGNnX2dlbl9tb3ZpX3RsKHNsb3R2YWwsIGN0eC0+cGt0
LT5wa3RfaGFzX3N0b3JlX3MxICYgMSk7CisgICAgdGNnX2dlbl9vcmlfdGwoc2xvdHZhbCwgc2xv
dHZhbCwgY3R4LT5pbnNuLT5zbG90IDw8IDEpOworICAgIHJldHVybiBzbG90dmFsOworfQorI2Vu
ZGlmCisKIHZvaWQgZ2VuX3N0b3JlMzIoVENHdiB2YWRkciwgVENHdiBzcmMsIGludCB3aWR0aCwg
dWludDMyX3Qgc2xvdCkKIHsKICAgICB0Y2dfZ2VuX21vdl90bChoZXhfc3RvcmVfYWRkcltzbG90
XSwgdmFkZHIpOwpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMgYi90YXJn
ZXQvaGV4YWdvbi9vcF9oZWxwZXIuYwppbmRleCBmOTAyMWVmYzdlLi5kZmFiY2UzMTIzIDEwMDY0
NAotLS0gYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYworKysgYi90YXJnZXQvaGV4YWdvbi9v
cF9oZWxwZXIuYwpAQCAtNTY3LDQxICs1NjcsNDUgQEAgdm9pZCBIRUxQRVIocHJvYmVfcGt0X3Nj
YWxhcl9odnhfc3RvcmVzKShDUFVIZXhhZ29uU3RhdGUgKmVudiwgaW50IG1hc2spCiAgKiBJZiB0
aGUgbG9hZCBpcyBpbiBzbG90IDAgYW5kIHRoZXJlIGlzIGEgc3RvcmUgaW4gc2xvdDEgKHRoYXQK
ICAqIHdhc24ndCBjYW5jZWxsZWQpLCB3ZSBoYXZlIHRvIGRvIHRoZSBzdG9yZSBmaXJzdC4KICAq
Lwotc3RhdGljIHZvaWQgY2hlY2tfbm9zaHVmKENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJf
dCBzbG90LAotICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF91bG9uZyB2YWRkciwgaW50
IHNpemUpCitzdGF0aWMgdm9pZCBjaGVja19ub3NodWYoQ1BVSGV4YWdvblN0YXRlICplbnYsIGJv
b2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBz
bG90LCB0YXJnZXRfdWxvbmcgdmFkZHIsIGludCBzaXplKQogewotICAgIGlmIChzbG90ID09IDAg
JiYgZW52LT5wa3RfaGFzX3N0b3JlX3MxICYmCisgICAgaWYgKHNsb3QgPT0gMCAmJiBwa3RfaGFz
X3N0b3JlX3MxICYmCiAgICAgICAgICgoZW52LT5zbG90X2NhbmNlbGxlZCAmICgxIDw8IDEpKSA9
PSAwKSkgewogICAgICAgICBIRUxQRVIocHJvYmVfbm9zaHVmX2xvYWQpKGVudiwgdmFkZHIsIHNp
emUsIE1NVV9VU0VSX0lEWCk7CiAgICAgICAgIEhFTFBFUihjb21taXRfc3RvcmUpKGVudiwgMSk7
CiAgICAgfQogfQogCi11aW50OF90IG1lbV9sb2FkMShDUFVIZXhhZ29uU3RhdGUgKmVudiwgdWlu
dDMyX3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKQordWludDhfdCBtZW1fbG9hZDEoQ1BVSGV4
YWdvblN0YXRlICplbnYsIGJvb2wgcGt0X2hhc19zdG9yZV9zMSwKKyAgICAgICAgICAgICAgICAg
IHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcikKIHsKICAgICB1aW50cHRyX3QgcmEg
PSBHRVRQQygpOwotICAgIGNoZWNrX25vc2h1ZihlbnYsIHNsb3QsIHZhZGRyLCAxKTsKKyAgICBj
aGVja19ub3NodWYoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCB2YWRkciwgMSk7CiAgICAg
cmV0dXJuIGNwdV9sZHViX2RhdGFfcmEoZW52LCB2YWRkciwgcmEpOwogfQogCi11aW50MTZfdCBt
ZW1fbG9hZDIoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9u
ZyB2YWRkcikKK3VpbnQxNl90IG1lbV9sb2FkMihDUFVIZXhhZ29uU3RhdGUgKmVudiwgYm9vbCBw
a3RfaGFzX3N0b3JlX3MxLAorICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IHNsb3QsIHRhcmdl
dF91bG9uZyB2YWRkcikKIHsKICAgICB1aW50cHRyX3QgcmEgPSBHRVRQQygpOwotICAgIGNoZWNr
X25vc2h1ZihlbnYsIHNsb3QsIHZhZGRyLCAyKTsKKyAgICBjaGVja19ub3NodWYoZW52LCBwa3Rf
aGFzX3N0b3JlX3MxLCBzbG90LCB2YWRkciwgMik7CiAgICAgcmV0dXJuIGNwdV9sZHV3X2RhdGFf
cmEoZW52LCB2YWRkciwgcmEpOwogfQogCi11aW50MzJfdCBtZW1fbG9hZDQoQ1BVSGV4YWdvblN0
YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcikKK3VpbnQzMl90IG1l
bV9sb2FkNChDUFVIZXhhZ29uU3RhdGUgKmVudiwgYm9vbCBwa3RfaGFzX3N0b3JlX3MxLAorICAg
ICAgICAgICAgICAgICAgIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9uZyB2YWRkcikKIHsKICAg
ICB1aW50cHRyX3QgcmEgPSBHRVRQQygpOwotICAgIGNoZWNrX25vc2h1ZihlbnYsIHNsb3QsIHZh
ZGRyLCA0KTsKKyAgICBjaGVja19ub3NodWYoZW52LCBwa3RfaGFzX3N0b3JlX3MxLCBzbG90LCB2
YWRkciwgNCk7CiAgICAgcmV0dXJuIGNwdV9sZGxfZGF0YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9
CiAKLXVpbnQ2NF90IG1lbV9sb2FkOChDUFVIZXhhZ29uU3RhdGUgKmVudiwgdWludDMyX3Qgc2xv
dCwgdGFyZ2V0X3Vsb25nIHZhZGRyKQordWludDY0X3QgbWVtX2xvYWQ4KENQVUhleGFnb25TdGF0
ZSAqZW52LCBib29sIHBrdF9oYXNfc3RvcmVfczEsCisgICAgICAgICAgICAgICAgICAgdWludDMy
X3Qgc2xvdCwgdGFyZ2V0X3Vsb25nIHZhZGRyKQogewogICAgIHVpbnRwdHJfdCByYSA9IEdFVFBD
KCk7Ci0gICAgY2hlY2tfbm9zaHVmKGVudiwgc2xvdCwgdmFkZHIsIDgpOworICAgIGNoZWNrX25v
c2h1ZihlbnYsIHBrdF9oYXNfc3RvcmVfczEsIHNsb3QsIHZhZGRyLCA4KTsKICAgICByZXR1cm4g
Y3B1X2xkcV9kYXRhX3JhKGVudiwgdmFkZHIsIHJhKTsKIH0KIApkaWZmIC0tZ2l0IGEvdGFyZ2V0
L2hleGFnb24vdHJhbnNsYXRlLmMgYi90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYwppbmRleCA3
NjM2YzYwNGM5Li4xNmU4NzllNTk1IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi90cmFuc2xh
dGUuYworKysgYi90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYwpAQCAtNDYzLDcgKzQ2Myw2IEBA
IHN0YXRpYyB2b2lkIG1hcmtfaW1wbGljaXRfcHJlZF9yZWFkcyhEaXNhc0NvbnRleHQgKmN0eCkK
IHN0YXRpYyB2b2lkIGFuYWx5emVfcGFja2V0KERpc2FzQ29udGV4dCAqY3R4KQogewogICAgIFBh
Y2tldCAqcGt0ID0gY3R4LT5wa3Q7Ci0gICAgY3R4LT5uZWVkX3BrdF9oYXNfc3RvcmVfczEgPSBm
YWxzZTsKICAgICBjdHgtPmhhc19odnhfaGVscGVyID0gZmFsc2U7CiAgICAgZm9yIChpbnQgaSA9
IDA7IGkgPCBwa3QtPm51bV9pbnNuczsgaSsrKSB7CiAgICAgICAgIEluc24gKmluc24gPSAmcGt0
LT5pbnNuW2ldOwpAQCAtNTE5LDEwICs1MTgsNiBAQCBzdGF0aWMgdm9pZCBnZW5fc3RhcnRfcGFj
a2V0KERpc2FzQ29udGV4dCAqY3R4KQogCiAgICAgYW5hbHl6ZV9wYWNrZXQoY3R4KTsKIAotICAg
IGlmIChjdHgtPm5lZWRfcGt0X2hhc19zdG9yZV9zMSkgewotICAgICAgICB0Y2dfZ2VuX21vdmlf
dGwoaGV4X3BrdF9oYXNfc3RvcmVfczEsIHBrdC0+cGt0X2hhc19zdG9yZV9zMSk7Ci0gICAgfQot
CiAgICAgLyoKICAgICAgKiBwcmVnc193cml0dGVuIGlzIHVzZWQgYm90aCBpbiB0aGUgYW5hbHl6
ZSBwaGFzZSBhcyB3ZWxsIGFzIHRoZSBjb2RlCiAgICAgICogZ2VuIHBoYXNlLCBzbyBjbGVhciBp
dCBhZ2Fpbi4KQEAgLTEyMDQsOCArMTE5OSw2IEBAIHZvaWQgaGV4YWdvbl90cmFuc2xhdGVfaW5p
dCh2b2lkKQogICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIHNsb3RfY2FuY2VsbGVk
KSwgInNsb3RfY2FuY2VsbGVkIik7CiAgICAgaGV4X2JyYW5jaF90YWtlbiA9IHRjZ19nbG9iYWxf
bWVtX25ldyhjcHVfZW52LAogICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIGJyYW5j
aF90YWtlbiksICJicmFuY2hfdGFrZW4iKTsKLSAgICBoZXhfcGt0X2hhc19zdG9yZV9zMSA9IHRj
Z19nbG9iYWxfbWVtX25ldyhjcHVfZW52LAotICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3Rh
dGUsIHBrdF9oYXNfc3RvcmVfczEpLCAicGt0X2hhc19zdG9yZV9zMSIpOwogICAgIGhleF9kY3pl
cm9fYWRkciA9IHRjZ19nbG9iYWxfbWVtX25ldyhjcHVfZW52LAogICAgICAgICBvZmZzZXRvZihD
UFVIZXhhZ29uU3RhdGUsIGRjemVyb19hZGRyKSwgImRjemVyb19hZGRyIik7CiAgICAgaGV4X2xs
c2NfYWRkciA9IHRjZ19nbG9iYWxfbWVtX25ldyhjcHVfZW52LApkaWZmIC0tZ2l0IGEvdGFyZ2V0
L2hleGFnb24vZ2VuX2FuYWx5emVfZnVuY3MucHkgYi90YXJnZXQvaGV4YWdvbi9nZW5fYW5hbHl6
ZV9mdW5jcy5weQppbmRleCAzNmRhNjY5NDUwLi5kMDQwZjY3MDAxIDEwMDc1NQotLS0gYS90YXJn
ZXQvaGV4YWdvbi9nZW5fYW5hbHl6ZV9mdW5jcy5weQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5f
YW5hbHl6ZV9mdW5jcy5weQpAQCAtMjA5LDggKzIwOSw2IEBAIGRlZiBnZW5fYW5hbHl6ZV9mdW5j
KGYsIHRhZywgcmVncywgaW1tcyk6CiAgICAgaGFzX2dlbmVyYXRlZF9oZWxwZXIgPSBub3QgaGV4
X2NvbW1vbi5za2lwX3FlbXVfaGVscGVyKAogICAgICAgICB0YWcKICAgICApIGFuZCBub3QgaGV4
X2NvbW1vbi5pc19pZGVmX3BhcnNlcl9lbmFibGVkKHRhZykKLSAgICBpZiBoYXNfZ2VuZXJhdGVk
X2hlbHBlciBhbmQgIkFfU0NBTEFSX0xPQUQiIGluIGhleF9jb21tb24uYXR0cmliZGljdFt0YWdd
OgotICAgICAgICBmLndyaXRlKCIgICAgY3R4LT5uZWVkX3BrdF9oYXNfc3RvcmVfczEgPSB0cnVl
O1xuIikKIAogICAgICMjIE1hcmsgSFZYIGluc3RydWN0aW9ucyB3aXRoIGdlbmVyYXRlZCBoZWxw
ZXJzCiAgICAgaWYgKGhhc19nZW5lcmF0ZWRfaGVscGVyIGFuZApkaWZmIC0tZ2l0IGEvdGFyZ2V0
L2hleGFnb24vZ2VuX2hlbHBlcl9mdW5jcy5weSBiL3RhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJf
ZnVuY3MucHkKaW5kZXggZTI1OWVhM2QwMy4uMzk3NTFhNDgzYyAxMDA3NTUKLS0tIGEvdGFyZ2V0
L2hleGFnb24vZ2VuX2hlbHBlcl9mdW5jcy5weQorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVs
cGVyX2Z1bmNzLnB5CkBAIC0zMDMsNyArMzAzLDcgQEAgZGVmIGdlbl9oZWxwZXJfZnVuY3Rpb24o
ZiwgdGFnLCB0YWdyZWdzLCB0YWdpbW1zKToKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Ns
b3QodGFnKToKICAgICAgICAgICAgIGlmIGkgPiAwOgogICAgICAgICAgICAgICAgIGYud3JpdGUo
IiwgIikKLSAgICAgICAgICAgIGYud3JpdGUoInVpbnQzMl90IHNsb3QiKQorICAgICAgICAgICAg
Zi53cml0ZSgidWludDMyX3Qgc2xvdHZhbCIpCiAgICAgICAgICAgICBpICs9IDEKICAgICAgICAg
aWYgaGV4X2NvbW1vbi5uZWVkX3BhcnQxKHRhZyk6CiAgICAgICAgICAgICBpZiBpID4gMDoKQEAg
LTMzMSw2ICszMzEsMTEgQEAgZGVmIGdlbl9oZWxwZXJfZnVuY3Rpb24oZiwgdGFnLCB0YWdyZWdz
LCB0YWdpbW1zKToKICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICBw
cmludCgiQmFkIHJlZ2lzdGVyIHBhcnNlOiAiLCByZWd0eXBlLCByZWdpZCwgdG9zcywgbnVtcmVn
cykKIAorICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcpOgorICAgICAgICAgICAg
aWYgIkFfTE9BRCIgaW4gaGV4X2NvbW1vbi5hdHRyaWJkaWN0W3RhZ106CisgICAgICAgICAgICAg
ICAgZi53cml0ZSgiICAgIGJvb2wgcGt0X2hhc19zdG9yZV9zMSA9IHNsb3R2YWwgJiAweDE7XG4i
KQorICAgICAgICAgICAgZi53cml0ZSgiICAgIHVpbnQzMl90IHNsb3QgPSBzbG90dmFsID4+IDE7
XG4iKQorCiAgICAgICAgIGlmICJBX0ZQT1AiIGluIGhleF9jb21tb24uYXR0cmliZGljdFt0YWdd
OgogICAgICAgICAgICAgZi53cml0ZSgiICAgIGFyY2hfZnBvcF9zdGFydChlbnYpO1xuIikKIApk
aWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSBiL3RhcmdldC9oZXhh
Z29uL2dlbl90Y2dfZnVuY3MucHkKaW5kZXggMDQwMzU0NzM4Ny4uODg3YjFjZDM2OSAxMDA3NTUK
LS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQorKysgYi90YXJnZXQvaGV4YWdv
bi9nZW5fdGNnX2Z1bmNzLnB5CkBAIC01NTYsNyArNTU2LDcgQEAgZGVmIGdlbl90Y2dfZnVuYyhm
LCB0YWcsIHJlZ3MsIGltbXMpOgogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGFydDEodGFn
KToKICAgICAgICAgICAgIGYud3JpdGUoIiAgICBUQ0d2IHBhcnQxID0gdGNnX2NvbnN0YW50X3Rs
KGluc24tPnBhcnQxKTtcbiIpCiAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9zbG90KHRhZyk6
Ci0gICAgICAgICAgICBmLndyaXRlKCIgICAgVENHdiBzbG90ID0gdGNnX2NvbnN0YW50X3RsKGlu
c24tPnNsb3QpO1xuIikKKyAgICAgICAgICAgIGYud3JpdGUoIiAgICBUQ0d2IHNsb3R2YWwgPSBn
ZW5fc2xvdHZhbChjdHgpO1xuIikKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX1BDKHRhZyk6
CiAgICAgICAgICAgICBmLndyaXRlKCIgICAgVENHdiBQQyA9IHRjZ19jb25zdGFudF90bChjdHgt
PnBrdC0+cGMpO1xuIikKICAgICAgICAgaWYgaGV4X2NvbW1vbi5oZWxwZXJfbmVlZHNfbmV4dF9Q
Qyh0YWcpOgpAQCAtNjA2LDcgKzYwNiw3IEBAIGRlZiBnZW5fdGNnX2Z1bmMoZiwgdGFnLCByZWdz
LCBpbW1zKToKICAgICAgICAgaWYgaGV4X2NvbW1vbi5oZWxwZXJfbmVlZHNfbmV4dF9QQyh0YWcp
OgogICAgICAgICAgICAgZi53cml0ZSgiLCBuZXh0X1BDIikKICAgICAgICAgaWYgaGV4X2NvbW1v
bi5uZWVkX3Nsb3QodGFnKToKLSAgICAgICAgICAgIGYud3JpdGUoIiwgc2xvdCIpCisgICAgICAg
ICAgICBmLndyaXRlKCIsIHNsb3R2YWwiKQogICAgICAgICBpZiBoZXhfY29tbW9uLm5lZWRfcGFy
dDEodGFnKToKICAgICAgICAgICAgIGYud3JpdGUoIiwgcGFydDEiKQogICAgICAgICBmLndyaXRl
KCIpO1xuIikKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkgYi90YXJn
ZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5CmluZGV4IDI5YzA1MDhmNjYuLjAxMWNjZTFhNjggMTAw
NzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2hleF9jb21tb24ucHkKKysrIGIvdGFyZ2V0L2hleGFn
b24vaGV4X2NvbW1vbi5weQpAQCAtMjQ3LDkgKzI0NywxMCBAQCBkZWYgaXNfbmV3X3ZhbChyZWd0
eXBlLCByZWdpZCwgdGFnKToKIAogZGVmIG5lZWRfc2xvdCh0YWcpOgogICAgIGlmICgKLSAgICAg
ICAgKCJBX0NPTkRFWEVDIiBpbiBhdHRyaWJkaWN0W3RhZ10gYW5kICJBX0pVTVAiIG5vdCBpbiBh
dHRyaWJkaWN0W3RhZ10pCi0gICAgICAgIG9yICJBX1NUT1JFIiBpbiBhdHRyaWJkaWN0W3RhZ10K
LSAgICAgICAgb3IgIkFfTE9BRCIgaW4gYXR0cmliZGljdFt0YWddCisgICAgICAgICJBX0NWSV9T
Q0FUVEVSIiBub3QgaW4gYXR0cmliZGljdFt0YWddCisgICAgICAgIGFuZCAiQV9DVklfR0FUSEVS
IiBub3QgaW4gYXR0cmliZGljdFt0YWddCisgICAgICAgIGFuZCAoIkFfU1RPUkUiIGluIGF0dHJp
YmRpY3RbdGFnXQorICAgICAgICAgICAgIG9yICJBX0xPQUQiIGluIGF0dHJpYmRpY3RbdGFnXSkK
ICAgICApOgogICAgICAgICByZXR1cm4gMQogICAgIGVsc2U6Ci0tIAoyLjI1LjEKCg==

