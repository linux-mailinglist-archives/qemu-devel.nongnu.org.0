Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 2CD1F67A8F0
	for <lists+qemu-devel@lfdr.de>; Wed, 25 Jan 2023 03:44:09 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1pKVkK-0006n6-0k; Tue, 24 Jan 2023 21:42:44 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pKVkD-0006kw-70
 for qemu-devel@nongnu.org; Tue, 24 Jan 2023 21:42:37 -0500
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pKVk8-00079T-HE
 for qemu-devel@nongnu.org; Tue, 24 Jan 2023 21:42:36 -0500
Received: from pps.filterd (m0279864.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 30P2MRS9004470; Wed, 25 Jan 2023 02:42:18 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=33waTz+NxR8jiiDhemk6fVVjCrbgK2Q0fTeClZUOOrE=;
 b=nMAxd4zj4SDcLFQGy3wPuo7XjEZGXERDUBOSE/LNGyCI5iOzbROlmgMhs9HglGWv6QAK
 K8NCG1gmZEMncNKiQnYpmaFM2UtR1vJgrLFGDGm7DCLppEhDRrFFK8YLGwAkPlDkStC4
 ABgnc6TlXwwGQhg0VSiQklGQBAfKyfEHgJM/aHtm07TRNjRM6fbdP/vN170bs6uS6l0U
 mPidl9/qCNf2Rpssme/EkoUMe8W3LDUOyPL3b9BocgVZ4DLheF1svbsLlWu+APXRAZwX
 S1nKLJLl0WSRkEUaQzwOALyfhMYprkaOs5+J1HoVGdjEBP/7AvhtrOEAUgnKzM8ExQKf gw== 
Received: from nalasppmta01.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3n89dr69ru-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 25 Jan 2023 02:42:18 +0000
Received: from pps.filterd (NALASPPMTA01.qualcomm.com [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 30P2gHO8017556; 
 Wed, 25 Jan 2023 02:42:17 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTP id 3n894kg76r-1;
 Wed, 25 Jan 2023 02:42:17 +0000
Received: from NALASPPMTA01.qualcomm.com (NALASPPMTA01.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 30P2gH5w017542;
 Wed, 25 Jan 2023 02:42:17 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTP id 30P2gHDe017536;
 Wed, 25 Jan 2023 02:42:17 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id 90044500118; Tue, 24 Jan 2023 18:42:16 -0800 (PST)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v4 11/13] Hexagon (target/hexagon) Remove
 gen_log_predicated_reg_write[_pair]
Date: Tue, 24 Jan 2023 18:42:13 -0800
Message-Id: <20230125024215.10430-12-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20230125024215.10430-1-tsimpson@quicinc.com>
References: <20230125024215.10430-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: Y-p4ggGlZ6BZ7bIAQsk3g6OBurFui5fy
X-Proofpoint-ORIG-GUID: Y-p4ggGlZ6BZ7bIAQsk3g6OBurFui5fy
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.219,Aquarius:18.0.930,Hydra:6.0.562,FMLib:17.11.122.1
 definitions=2023-01-24_17,2023-01-24_01,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 mlxscore=0 clxscore=1015
 priorityscore=1501 impostorscore=0 suspectscore=0 spamscore=0 adultscore=0
 bulkscore=0 mlxlogscore=962 phishscore=0 malwarescore=0 lowpriorityscore=0
 classifier=spam adjust=0 reason=mlx scancount=1 engine=8.12.0-2212070000
 definitions=main-2301250020
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.248,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

V2UgYXNzaWduIHRoZSBpbnN0cnVjdGlvbiBkZXN0aW5hdGlvbiByZWdpc3RlciB0byBoZXhfbmV3
X3ZhbHVlW251bV0KaW5zdGVhZCBvZiBhIFRDRyB0ZW1wIHRoYXQgZ2V0cyBjb3BpZWQgYmFjayB0
byBoZXhfbmV3X3ZhbHVlW251bV0uCgpTaW5jZSB3ZSBwcmVsb2FkIGhleF9uZXdfdmFsdWUgZm9y
IHByZWRpY2F0ZWQgaW5zdHJ1Y3Rpb25zLCB3ZSBkb24ndApuZWVkIHRoZSBjaGVjayBmb3Igc2xv
dF9jYW5jZWxsZWQuICBTbywgd2UgY2FsbCBnZW5fbG9nX3JlZ193cml0ZSBpbnN0ZWFkLgoKSGVy
ZSBpcyBhIHNpbXBsZSBleGFtcGxlIG9mIHRoZSBkaWZmZXJlbmNlcyBpbiB0aGUgVENHIGNvZGUg
Z2VuZXJhdGVkOgoKSU46CjB4MDA0MDAwOTQ6ICAweGY5MDBjMTAyIHsgICAgICAgaWYgKFAwKSBS
MiA9IGFuZChSMCxSMSkgfQoKQkVGT1JFCiAtLS0tIDAwNDAwMDk0CiBtb3ZfaTMyIHBrdF9oYXNf
c3RvcmVfczEsJDB4MAogbW92X2kzMiBzbG90X2NhbmNlbGxlZCwkMHgwCiBtb3ZfaTMyIG5ld19y
MixyMgogbW92X2kzMiBsb2MyLCQweDAKIGFuZF9pMzIgdG1wMCxwMCwkMHgxCiBicmNvbmRfaTMy
IHRtcDAsJDB4MCxlcSwkTDEKIGFuZF9pMzIgdG1wMCxyMCxyMQogbW92X2kzMiBsb2MyLHRtcDAK
IGJyICRMMgogc2V0X2xhYmVsICRMMQogb3JfaTMyIHNsb3RfY2FuY2VsbGVkLHNsb3RfY2FuY2Vs
bGVkLCQweDgKIHNldF9sYWJlbCAkTDIKIGFuZF9pMzIgdG1wMCxzbG90X2NhbmNlbGxlZCwkMHg4
CiBtb3Zjb25kX2kzMiBuZXdfcjIsdG1wMCwkMHgwLGxvYzIsbmV3X3IyLGVxCiBtb3ZfaTMyIHIy
LG5ld19yMgoKQUZURVIKIC0tLS0gMDA0MDAwOTQKIG1vdl9pMzIgc2xvdF9jYW5jZWxsZWQsJDB4
MAogbW92X2kzMiBuZXdfcjIscjIKIGFuZF9pMzIgdG1wMCxwMCwkMHgxCiBicmNvbmRfaTMyIHRt
cDAsJDB4MCxlcSwkTDEKIGFuZF9pMzIgdG1wMCxyMCxyMQogbW92X2kzMiBuZXdfcjIsdG1wMAog
YnIgJEwyCiBzZXRfbGFiZWwgJEwxCiBvcl9pMzIgc2xvdF9jYW5jZWxsZWQsc2xvdF9jYW5jZWxs
ZWQsJDB4OAogc2V0X2xhYmVsICRMMgogbW92X2kzMiByMixuZXdfcjIKCldlJ2xsIHJlbW92ZSB0
aGUgdW5uZWNlc3NhcnkgbWFuaXB1bGF0aW9uIG9mIHNsb3RfY2FuY2VsbGVkIGluIGEKc3Vic2Vx
dWVudCBwYXRjaC4KClNpZ25lZC1vZmYtYnk6IFRheWxvciBTaW1wc29uIDx0c2ltcHNvbkBxdWlj
aW5jLmNvbT4KLS0tCiB0YXJnZXQvaGV4YWdvbi9nZW5fdGNnLmggICAgICAgICAgICAgICAgICAg
IHwgICAzICstCiB0YXJnZXQvaGV4YWdvbi9nZW5wdHIuYyAgICAgICAgICAgICAgICAgICAgIHwg
MTIwICsrKystLS0tLS0tLS0tLS0tLS0tCiB0YXJnZXQvaGV4YWdvbi9pZGVmLXBhcnNlci9wYXJz
ZXItaGVscGVycy5jIHwgICA0ICstCiB0YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5ICAg
ICAgICAgICAgIHwgIDU1ICsrKysrLS0tLQogNCBmaWxlcyBjaGFuZ2VkLCA1MiBpbnNlcnRpb25z
KCspLCAxMzAgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX3Rj
Zy5oIGIvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZy5oCmluZGV4IDgyODJmZjNmYzUuLjYzZGY3OWUw
MDYgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl90Y2cuaAorKysgYi90YXJnZXQvaGV4
YWdvbi9nZW5fdGNnLmgKQEAgLTUyMSwxMCArNTIxLDkgQEAKICAqLwogI2RlZmluZSBmR0VOX1RD
R19TTDJfcmV0dXJuKFNIT1JUQ09ERSkgXAogICAgIGRvIHsgXAotICAgICAgICBUQ0d2X2k2NCBS
ZGRWID0gdGNnX3RlbXBfbmV3X2k2NCgpOyBcCisgICAgICAgIFRDR3ZfaTY0IFJkZFYgPSBnZXRf
cmVzdWx0X2dwcl9wYWlyKGN0eCwgSEVYX1JFR19GUCk7IFwKICAgICAgICAgZ2VuX3JldHVybihj
dHgsIFJkZFYsIGhleF9ncHJbSEVYX1JFR19GUF0pOyBcCiAgICAgICAgIGdlbl9sb2dfcmVnX3dy
aXRlX3BhaXIoSEVYX1JFR19GUCwgUmRkVik7IFwKLSAgICAgICAgdGNnX3RlbXBfZnJlZV9pNjQo
UmRkVik7IFwKICAgICB9IHdoaWxlICgwKQogCiAvKgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFn
b24vZ2VucHRyLmMgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwppbmRleCA2N2VjM2FjNTUxLi5m
OTM3YTE3YjI0IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYworKysgYi90YXJn
ZXQvaGV4YWdvbi9nZW5wdHIuYwpAQCAtNzAsMjggKzcwLDE3IEBAIHN0YXRpYyBpbmxpbmUgdm9p
ZCBnZW5fbWFza2VkX3JlZ193cml0ZShUQ0d2IG5ld192YWwsIFRDR3YgY3VyX3ZhbCwKICAgICB9
CiB9CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5fbG9nX3ByZWRpY2F0ZWRfcmVnX3dyaXRlKGlu
dCBybnVtLCBUQ0d2IHZhbCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVpbnQzMl90IHNsb3QpCitzdGF0aWMgVENHdiBnZXRfcmVzdWx0X2dwcihEaXNh
c0NvbnRleHQgKmN0eCwgaW50IHJudW0pCiB7Ci0gICAgVENHdiB6ZXJvID0gdGNnX2NvbnN0YW50
X3RsKDApOwotICAgIFRDR3Ygc2xvdF9tYXNrID0gdGNnX3RlbXBfbmV3KCk7Ci0KLSAgICB0Y2df
Z2VuX2FuZGlfdGwoc2xvdF9tYXNrLCBoZXhfc2xvdF9jYW5jZWxsZWQsIDEgPDwgc2xvdCk7Ci0g
ICAgdGNnX2dlbl9tb3Zjb25kX3RsKFRDR19DT05EX0VRLCBoZXhfbmV3X3ZhbHVlW3JudW1dLCBz
bG90X21hc2ssIHplcm8sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwsIGhleF9uZXdf
dmFsdWVbcm51bV0pOwotICAgIGlmIChIRVhfREVCVUcpIHsKLSAgICAgICAgLyoKLSAgICAgICAg
ICogRG8gdGhpcyBzbyBIRUxQRVIoZGVidWdfY29tbWl0X2VuZCkgd2lsbCBrbm93Ci0gICAgICAg
ICAqCi0gICAgICAgICAqIE5vdGUgdGhhdCBzbG90X21hc2sgaW5kaWNhdGVzIHRoZSB2YWx1ZSBp
cyBub3Qgd3JpdHRlbgotICAgICAgICAgKiAoaS5lLiwgc2xvdCB3YXMgY2FuY2VsbGVkKSwgc28g
d2UgY3JlYXRlIGEgdHJ1ZS9mYWxzZSB2YWx1ZSBiZWZvcmUKLSAgICAgICAgICogb3InaW5nIHdp
dGggaGV4X3JlZ193cml0dGVuW3JudW1dLgotICAgICAgICAgKi8KLSAgICAgICAgdGNnX2dlbl9z
ZXRjb25kX3RsKFRDR19DT05EX0VRLCBzbG90X21hc2ssIHNsb3RfbWFzaywgemVybyk7Ci0gICAg
ICAgIHRjZ19nZW5fb3JfdGwoaGV4X3JlZ193cml0dGVuW3JudW1dLCBoZXhfcmVnX3dyaXR0ZW5b
cm51bV0sIHNsb3RfbWFzayk7Ci0gICAgfQorICAgIHJldHVybiBoZXhfbmV3X3ZhbHVlW3JudW1d
OworfQogCi0gICAgdGNnX3RlbXBfZnJlZShzbG90X21hc2spOworc3RhdGljIFRDR3ZfaTY0IGdl
dF9yZXN1bHRfZ3ByX3BhaXIoRGlzYXNDb250ZXh0ICpjdHgsIGludCBybnVtKQoreworICAgIFRD
R3ZfaTY0IHJlc3VsdCA9IHRjZ190ZW1wX2xvY2FsX25ld19pNjQoKTsKKyAgICB0Y2dfZ2VuX2Nv
bmNhdF9pMzJfaTY0KHJlc3VsdCwgaGV4X25ld192YWx1ZVtybnVtXSwKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgaGV4X25ld192YWx1ZVtybnVtICsgMV0pOworICAgIHJldHVy
biByZXN1bHQ7CiB9CiAKIHZvaWQgZ2VuX2xvZ19yZWdfd3JpdGUoaW50IHJudW0sIFRDR3YgdmFs
KQpAQCAtMTA2LDQyICs5NSw2IEBAIHZvaWQgZ2VuX2xvZ19yZWdfd3JpdGUoaW50IHJudW0sIFRD
R3YgdmFsKQogICAgIH0KIH0KIAotc3RhdGljIHZvaWQgZ2VuX2xvZ19wcmVkaWNhdGVkX3JlZ193
cml0ZV9wYWlyKGludCBybnVtLCBUQ0d2X2k2NCB2YWwsCi0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgdWludDMyX3Qgc2xvdCkKLXsKLSAgICBUQ0d2IHZhbDMy
ID0gdGNnX3RlbXBfbmV3KCk7Ci0gICAgVENHdiB6ZXJvID0gdGNnX2NvbnN0YW50X3RsKDApOwot
ICAgIFRDR3Ygc2xvdF9tYXNrID0gdGNnX3RlbXBfbmV3KCk7Ci0KLSAgICB0Y2dfZ2VuX2FuZGlf
dGwoc2xvdF9tYXNrLCBoZXhfc2xvdF9jYW5jZWxsZWQsIDEgPDwgc2xvdCk7Ci0gICAgLyogTG93
IHdvcmQgKi8KLSAgICB0Y2dfZ2VuX2V4dHJsX2k2NF9pMzIodmFsMzIsIHZhbCk7Ci0gICAgdGNn
X2dlbl9tb3Zjb25kX3RsKFRDR19DT05EX0VRLCBoZXhfbmV3X3ZhbHVlW3JudW1dLAotICAgICAg
ICAgICAgICAgICAgICAgICBzbG90X21hc2ssIHplcm8sCi0gICAgICAgICAgICAgICAgICAgICAg
IHZhbDMyLCBoZXhfbmV3X3ZhbHVlW3JudW1dKTsKLSAgICAvKiBIaWdoIHdvcmQgKi8KLSAgICB0
Y2dfZ2VuX2V4dHJoX2k2NF9pMzIodmFsMzIsIHZhbCk7Ci0gICAgdGNnX2dlbl9tb3Zjb25kX3Rs
KFRDR19DT05EX0VRLCBoZXhfbmV3X3ZhbHVlW3JudW0gKyAxXSwKLSAgICAgICAgICAgICAgICAg
ICAgICAgc2xvdF9tYXNrLCB6ZXJvLAotICAgICAgICAgICAgICAgICAgICAgICB2YWwzMiwgaGV4
X25ld192YWx1ZVtybnVtICsgMV0pOwotICAgIGlmIChIRVhfREVCVUcpIHsKLSAgICAgICAgLyoK
LSAgICAgICAgICogRG8gdGhpcyBzbyBIRUxQRVIoZGVidWdfY29tbWl0X2VuZCkgd2lsbCBrbm93
Ci0gICAgICAgICAqCi0gICAgICAgICAqIE5vdGUgdGhhdCBzbG90X21hc2sgaW5kaWNhdGVzIHRo
ZSB2YWx1ZSBpcyBub3Qgd3JpdHRlbgotICAgICAgICAgKiAoaS5lLiwgc2xvdCB3YXMgY2FuY2Vs
bGVkKSwgc28gd2UgY3JlYXRlIGEgdHJ1ZS9mYWxzZSB2YWx1ZSBiZWZvcmUKLSAgICAgICAgICog
b3InaW5nIHdpdGggaGV4X3JlZ193cml0dGVuW3JudW1dLgotICAgICAgICAgKi8KLSAgICAgICAg
dGNnX2dlbl9zZXRjb25kX3RsKFRDR19DT05EX0VRLCBzbG90X21hc2ssIHNsb3RfbWFzaywgemVy
byk7Ci0gICAgICAgIHRjZ19nZW5fb3JfdGwoaGV4X3JlZ193cml0dGVuW3JudW1dLCBoZXhfcmVn
X3dyaXR0ZW5bcm51bV0sIHNsb3RfbWFzayk7Ci0gICAgICAgIHRjZ19nZW5fb3JfdGwoaGV4X3Jl
Z193cml0dGVuW3JudW0gKyAxXSwgaGV4X3JlZ193cml0dGVuW3JudW0gKyAxXSwKLSAgICAgICAg
ICAgICAgICAgICAgICBzbG90X21hc2spOwotICAgIH0KLQotICAgIHRjZ190ZW1wX2ZyZWUodmFs
MzIpOwotICAgIHRjZ190ZW1wX2ZyZWUoc2xvdF9tYXNrKTsKLX0KLQogc3RhdGljIHZvaWQgZ2Vu
X2xvZ19yZWdfd3JpdGVfcGFpcihpbnQgcm51bSwgVENHdl9pNjQgdmFsKQogewogICAgIGNvbnN0
IHRhcmdldF91bG9uZyByZWdfbWFza19sb3cgPSByZWdfaW1tdXRfbWFza3Nbcm51bV07CkBAIC0x
NjcsNiArMTIwLDcgQEAgc3RhdGljIHZvaWQgZ2VuX2xvZ19yZWdfd3JpdGVfcGFpcihpbnQgcm51
bSwgVENHdl9pNjQgdmFsKQogICAgIH0KIAogICAgIHRjZ190ZW1wX2ZyZWUodmFsMzIpOworICAg
IHRjZ190ZW1wX2ZyZWVfaTY0KHZhbCk7CiB9CiAKIHZvaWQgZ2VuX2xvZ19wcmVkX3dyaXRlKERp
c2FzQ29udGV4dCAqY3R4LCBpbnQgcG51bSwgVENHdiB2YWwpCkBAIC0zMDYsMTIgKzI2MCwxNCBA
QCBzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3dyaXRlX2N0cmxfcmVnX3BhaXIoRGlzYXNDb250ZXh0
ICpjdHgsIGludCByZWdfbnVtLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFRDR3ZfaTY0IHZhbCkKIHsKICAgICBpZiAocmVnX251bSA9PSBIRVhfUkVHX1AzXzBf
QUxJQVNFRCkgeworICAgICAgICBUQ0d2IHJlc3VsdCA9IGdldF9yZXN1bHRfZ3ByKGN0eCwgcmVn
X251bSArIDEpOwogICAgICAgICBUQ0d2IHZhbDMyID0gdGNnX3RlbXBfbmV3KCk7CiAgICAgICAg
IHRjZ19nZW5fZXh0cmxfaTY0X2kzMih2YWwzMiwgdmFsKTsKICAgICAgICAgZ2VuX3dyaXRlX3Az
XzAoY3R4LCB2YWwzMik7CiAgICAgICAgIHRjZ19nZW5fZXh0cmhfaTY0X2kzMih2YWwzMiwgdmFs
KTsKLSAgICAgICAgZ2VuX2xvZ19yZWdfd3JpdGUocmVnX251bSArIDEsIHZhbDMyKTsKKyAgICAg
ICAgdGNnX2dlbl9tb3ZfdGwocmVzdWx0LCB2YWwzMik7CiAgICAgICAgIHRjZ190ZW1wX2ZyZWUo
dmFsMzIpOworICAgICAgICB0Y2dfdGVtcF9mcmVlX2k2NCh2YWwpOwogICAgIH0gZWxzZSB7CiAg
ICAgICAgIGdlbl9sb2dfcmVnX3dyaXRlX3BhaXIocmVnX251bSwgdmFsKTsKICAgICAgICAgaWYg
KHJlZ19udW0gPT0gSEVYX1JFR19RRU1VX1BLVF9DTlQpIHsKQEAgLTcwMSwzMyArNjU3LDI5IEBA
IHN0YXRpYyB2b2lkIGdlbl9qdW1wcihEaXNhc0NvbnRleHQgKmN0eCwgVENHdiBuZXdfcGMpCiAK
IHN0YXRpYyB2b2lkIGdlbl9jYWxsKERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcGNfb2ZmKQogewot
ICAgIFRDR3YgbmV4dF9QQyA9Ci0gICAgICAgIHRjZ19jb25zdGFudF90bChjdHgtPnBrdC0+cGMg
KyBjdHgtPnBrdC0+ZW5jb2RfcGt0X3NpemVfaW5fYnl0ZXMpOwotICAgIGdlbl9sb2dfcmVnX3dy
aXRlKEhFWF9SRUdfTFIsIG5leHRfUEMpOworICAgIFRDR3YgbHIgPSBnZXRfcmVzdWx0X2dwcihj
dHgsIEhFWF9SRUdfTFIpOworICAgIHRjZ19nZW5fbW92aV90bChsciwgY3R4LT5uZXh0X1BDKTsK
ICAgICBnZW5fd3JpdGVfbmV3X3BjX3BjcmVsKGN0eCwgcGNfb2ZmLCBUQ0dfQ09ORF9BTFdBWVMs
IE5VTEwpOwogfQogCiBzdGF0aWMgdm9pZCBnZW5fY2FsbHIoRGlzYXNDb250ZXh0ICpjdHgsIFRD
R3YgbmV3X3BjKQogewotICAgIFRDR3YgbmV4dF9QQyA9Ci0gICAgICAgIHRjZ19jb25zdGFudF90
bChjdHgtPnBrdC0+cGMgKyBjdHgtPnBrdC0+ZW5jb2RfcGt0X3NpemVfaW5fYnl0ZXMpOwotICAg
IGdlbl9sb2dfcmVnX3dyaXRlKEhFWF9SRUdfTFIsIG5leHRfUEMpOworICAgIFRDR3YgbHIgPSBn
ZXRfcmVzdWx0X2dwcihjdHgsIEhFWF9SRUdfTFIpOworICAgIHRjZ19nZW5fbW92aV90bChsciwg
Y3R4LT5uZXh0X1BDKTsKICAgICBnZW5fd3JpdGVfbmV3X3BjX2FkZHIoY3R4LCBuZXdfcGMsIFRD
R19DT05EX0FMV0FZUywgTlVMTCk7CiB9CiAKIHN0YXRpYyB2b2lkIGdlbl9jb25kX2NhbGwoRGlz
YXNDb250ZXh0ICpjdHgsIFRDR3YgcHJlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgVENH
Q29uZCBjb25kLCBpbnQgcGNfb2ZmKQogewotICAgIFRDR3YgbmV4dF9QQzsKKyAgICBUQ0d2IGxy
ID0gZ2V0X3Jlc3VsdF9ncHIoY3R4LCBIRVhfUkVHX0xSKTsKICAgICBUQ0d2IGxzYiA9IHRjZ190
ZW1wX2xvY2FsX25ldygpOwogICAgIFRDR0xhYmVsICpza2lwID0gZ2VuX25ld19sYWJlbCgpOwog
ICAgIHRjZ19nZW5fYW5kaV90bChsc2IsIHByZWQsIDEpOwogICAgIGdlbl93cml0ZV9uZXdfcGNf
cGNyZWwoY3R4LCBwY19vZmYsIGNvbmQsIGxzYik7CiAgICAgdGNnX2dlbl9icmNvbmRpX3RsKGNv
bmQsIGxzYiwgMCwgc2tpcCk7CiAgICAgdGNnX3RlbXBfZnJlZShsc2IpOwotICAgIG5leHRfUEMg
PQotICAgICAgICB0Y2dfY29uc3RhbnRfdGwoY3R4LT5wa3QtPnBjICsgY3R4LT5wa3QtPmVuY29k
X3BrdF9zaXplX2luX2J5dGVzKTsKLSAgICBnZW5fbG9nX3JlZ193cml0ZShIRVhfUkVHX0xSLCBu
ZXh0X1BDKTsKKyAgICB0Y2dfZ2VuX21vdmlfdGwobHIsIGN0eC0+bmV4dF9QQyk7CiAgICAgZ2Vu
X3NldF9sYWJlbChza2lwKTsKIH0KIApAQCAtNzYwLDggKzcxMiw3IEBAIHN0YXRpYyB2b2lkIGdl
bl9sb2FkX2ZyYW1lKERpc2FzQ29udGV4dCAqY3R4LCBUQ0d2X2k2NCBmcmFtZSwgVENHdiBFQSkK
ICAgICB0Y2dfZ2VuX3FlbXVfbGQ2NChmcmFtZSwgRUEsIGN0eC0+bWVtX2lkeCk7CiB9CiAKLXN0
YXRpYyB2b2lkIGdlbl9yZXR1cm5fYmFzZShEaXNhc0NvbnRleHQgKmN0eCwgVENHdl9pNjQgZHN0
LCBUQ0d2IHNyYywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICBUQ0d2IHIyOSkKK3N0YXRp
YyB2b2lkIGdlbl9yZXR1cm4oRGlzYXNDb250ZXh0ICpjdHgsIFRDR3ZfaTY0IGRzdCwgVENHdiBz
cmMpCiB7CiAgICAgLyoKICAgICAgKiBmcmFtZSA9ICpzcmMKQEAgLTc3MSw2ICs3MjIsNyBAQCBz
dGF0aWMgdm9pZCBnZW5fcmV0dXJuX2Jhc2UoRGlzYXNDb250ZXh0ICpjdHgsIFRDR3ZfaTY0IGRz
dCwgVENHdiBzcmMsCiAgICAgICovCiAgICAgVENHdl9pNjQgZnJhbWUgPSB0Y2dfdGVtcF9uZXdf
aTY0KCk7CiAgICAgVENHdiByMzEgPSB0Y2dfdGVtcF9uZXcoKTsKKyAgICBUQ0d2IHIyOSA9IGdl
dF9yZXN1bHRfZ3ByKGN0eCwgSEVYX1JFR19TUCk7CiAKICAgICBnZW5fbG9hZF9mcmFtZShjdHgs
IGZyYW1lLCBzcmMpOwogICAgIGdlbl9mcmFtZV91bnNjcmFtYmxlKGZyYW1lKTsKQEAgLTc4Myw1
MCArNzM1LDI2IEBAIHN0YXRpYyB2b2lkIGdlbl9yZXR1cm5fYmFzZShEaXNhc0NvbnRleHQgKmN0
eCwgVENHdl9pNjQgZHN0LCBUQ0d2IHNyYywKICAgICB0Y2dfdGVtcF9mcmVlKHIzMSk7CiB9CiAK
LXN0YXRpYyB2b2lkIGdlbl9yZXR1cm4oRGlzYXNDb250ZXh0ICpjdHgsIFRDR3ZfaTY0IGRzdCwg
VENHdiBzcmMpCi17Ci0gICAgVENHdiByMjkgPSB0Y2dfdGVtcF9uZXcoKTsKLSAgICBnZW5fcmV0
dXJuX2Jhc2UoY3R4LCBkc3QsIHNyYywgcjI5KTsKLSAgICBnZW5fbG9nX3JlZ193cml0ZShIRVhf
UkVHX1NQLCByMjkpOwotICAgIHRjZ190ZW1wX2ZyZWUocjI5KTsKLX0KLQogLyogaWYgKHByZWQp
IGRzdCA9IGRlYWxsb2NfcmV0dXJuKHNyYyk6cmF3ICovCiBzdGF0aWMgdm9pZCBnZW5fY29uZF9y
ZXR1cm4oRGlzYXNDb250ZXh0ICpjdHgsIFRDR3ZfaTY0IGRzdCwgVENHdiBzcmMsCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgVENHdiBwcmVkLCBUQ0dDb25kIGNvbmQpCiB7CiAgICAgVENH
diBMU0IgPSB0Y2dfdGVtcF9uZXcoKTsKLSAgICBUQ0d2IG1hc2sgPSB0Y2dfdGVtcF9uZXcoKTsK
LSAgICBUQ0d2IHIyOSA9IHRjZ190ZW1wX2xvY2FsX25ldygpOwogICAgIFRDR0xhYmVsICpza2lw
ID0gZ2VuX25ld19sYWJlbCgpOwogICAgIHRjZ19nZW5fYW5kaV90bChMU0IsIHByZWQsIDEpOwog
Ci0gICAgLyogSW5pdGlhbGl6ZSB0aGUgcmVzdWx0cyBpbiBjYXNlIHRoZSBwcmVkaWNhdGUgaXMg
ZmFsc2UgKi8KLSAgICB0Y2dfZ2VuX21vdmlfaTY0KGRzdCwgMCk7Ci0gICAgdGNnX2dlbl9tb3Zp
X3RsKHIyOSwgMCk7Ci0KLSAgICAvKiBTZXQgdGhlIGJpdCBpbiBoZXhfc2xvdF9jYW5jZWxsZWQg
aWYgdGhlIHByZWRpY2F0ZSBpcyBmbGFzZSAqLwotICAgIHRjZ19nZW5fbW92aV90bChtYXNrLCAx
IDw8IGN0eC0+aW5zbi0+c2xvdCk7Ci0gICAgdGNnX2dlbl9vcl90bChtYXNrLCBoZXhfc2xvdF9j
YW5jZWxsZWQsIG1hc2spOwotICAgIHRjZ19nZW5fbW92Y29uZF90bChjb25kLCBoZXhfc2xvdF9j
YW5jZWxsZWQsIExTQiwgdGNnX2NvbnN0YW50X3RsKDApLAotICAgICAgICAgICAgICAgICAgICAg
ICBtYXNrLCBoZXhfc2xvdF9jYW5jZWxsZWQpOwotICAgIHRjZ190ZW1wX2ZyZWUobWFzayk7Ci0K
ICAgICB0Y2dfZ2VuX2JyY29uZGlfdGwoY29uZCwgTFNCLCAwLCBza2lwKTsKICAgICB0Y2dfdGVt
cF9mcmVlKExTQik7Ci0gICAgZ2VuX3JldHVybl9iYXNlKGN0eCwgZHN0LCBzcmMsIHIyOSk7Cisg
ICAgZ2VuX3JldHVybihjdHgsIGRzdCwgc3JjKTsKICAgICBnZW5fc2V0X2xhYmVsKHNraXApOwot
ICAgIGdlbl9sb2dfcHJlZGljYXRlZF9yZWdfd3JpdGUoSEVYX1JFR19TUCwgcjI5LCBjdHgtPmlu
c24tPnNsb3QpOwotICAgIHRjZ190ZW1wX2ZyZWUocjI5KTsKIH0KIAogLyogc3ViLWluc3RydWN0
aW9uIHZlcnNpb24gKG5vIFJkZFYsIHNvIGhhbmRsZSBpdCBtYW51YWxseSkgKi8KIHN0YXRpYyB2
b2lkIGdlbl9jb25kX3JldHVybl9zdWJpbnNuKERpc2FzQ29udGV4dCAqY3R4LCBUQ0dDb25kIGNv
bmQsIFRDR3YgcHJlZCkKIHsKLSAgICBUQ0d2X2k2NCBSZGRWID0gdGNnX3RlbXBfbG9jYWxfbmV3
X2k2NCgpOworICAgIFRDR3ZfaTY0IFJkZFYgPSBnZXRfcmVzdWx0X2dwcl9wYWlyKGN0eCwgSEVY
X1JFR19GUCk7CiAgICAgZ2VuX2NvbmRfcmV0dXJuKGN0eCwgUmRkViwgaGV4X2dwcltIRVhfUkVH
X0ZQXSwgcHJlZCwgY29uZCk7Ci0gICAgZ2VuX2xvZ19wcmVkaWNhdGVkX3JlZ193cml0ZV9wYWly
KEhFWF9SRUdfRlAsIFJkZFYsIGN0eC0+aW5zbi0+c2xvdCk7Ci0gICAgdGNnX3RlbXBfZnJlZV9p
NjQoUmRkVik7CisgICAgZ2VuX2xvZ19yZWdfd3JpdGVfcGFpcihIRVhfUkVHX0ZQLCBSZGRWKTsK
IH0KIAogc3RhdGljIHZvaWQgZ2VuX2VuZGxvb3AwKERpc2FzQ29udGV4dCAqY3R4KQpkaWZmIC0t
Z2l0IGEvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvcGFyc2VyLWhlbHBlcnMuYyBiL3Rhcmdl
dC9oZXhhZ29uL2lkZWYtcGFyc2VyL3BhcnNlci1oZWxwZXJzLmMKaW5kZXggZGU5ODM4ODA2Yi4u
ZWI2NTJkNmE3YSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvcGFyc2Vy
LWhlbHBlcnMuYworKysgYi90YXJnZXQvaGV4YWdvbi9pZGVmLXBhcnNlci9wYXJzZXItaGVscGVy
cy5jCkBAIC0xODM2LDkgKzE4MzYsNyBAQCB2b2lkIGdlbl9pbnN0X2luaXRfYXJncyhDb250ZXh0
ICpjLCBZWUxUWVBFICpsb2NwKQogICAgIGZvciAodW5zaWduZWQgaSA9IDA7IGkgPCBjLT5pbnN0
LmluaXRfbGlzdC0+bGVuOyBpKyspIHsKICAgICAgICAgSGV4VmFsdWUgKnZhbCA9ICZnX2FycmF5
X2luZGV4KGMtPmluc3QuaW5pdF9saXN0LCBIZXhWYWx1ZSwgaSk7CiAgICAgICAgIGlmICh2YWwt
PnR5cGUgPT0gUkVHSVNURVJfQVJHKSB7Ci0gICAgICAgICAgICBjaGFyIHJlZ19pZFs1XTsKLSAg
ICAgICAgICAgIHJlZ19jb21wb3NlKGMsIGxvY3AsICZ2YWwtPnJlZywgcmVnX2lkKTsKLSAgICAg
ICAgICAgIEVNSVRfSEVBRChjLCAidGNnX2dlbl9tb3ZpX2kldSglcywgMCk7XG4iLCB2YWwtPmJp
dF93aWR0aCwgcmVnX2lkKTsKKyAgICAgICAgICAgIC8qIE5vdGhpbmcgdG8gZG8gaGVyZSAqLwog
ICAgICAgICB9IGVsc2UgaWYgKHZhbC0+dHlwZSA9PSBQUkVESUNBVEUpIHsKICAgICAgICAgICAg
IGNoYXIgc3VmZml4ID0gdmFsLT5pc19kb3RuZXcgPyAnTicgOiAnVic7CiAgICAgICAgICAgICBF
TUlUX0hFQUQoYywgInRjZ19nZW5fbW92aV9pJXUoUCVjJWMsIDApO1xuIiwgdmFsLT5iaXRfd2lk
dGgsCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5IGIvdGFyZ2V0
L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQppbmRleCAzNzg2ZWRlNDRjLi4xNDhlNjQwMWZmIDEw
MDc1NQotLS0gYS90YXJnZXQvaGV4YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CisrKyBiL3RhcmdldC9o
ZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKQEAgLTM3LDIzICszNywzMyBAQCBkZWYgZ2VuX2ZyZWVf
ZWFfdGNnKGYpOgogCiBkZWYgZ2VucHRyX2RlY2xfcGFpcl93cml0YWJsZShmLCB0YWcsIHJlZ3R5
cGUsIHJlZ2lkLCByZWdubyk6CiAgICAgcmVnTj0iJXMlc04iICUgKHJlZ3R5cGUscmVnaWQpCi0g
ICAgZi53cml0ZSgiICAgIFRDR3ZfaTY0ICVzJXNWID0gdGNnX3RlbXBfbG9jYWxfbmV3X2k2NCgp
O1xuIiAlIFwKLSAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkKSkKLSAgICBpZiAocmVndHlwZSA9PSAi
QyIpOgorICAgIGlmIChyZWd0eXBlID09ICJSIik6CisgICAgICAgIGYud3JpdGUoIiAgICBjb25z
dCBpbnQgJXMgPSBpbnNuLT5yZWdub1slZF07XG4iICUgKHJlZ04sIHJlZ25vKSkKKyAgICBlbGlm
IChyZWd0eXBlID09ICJDIik6CiAgICAgICAgIGYud3JpdGUoIiAgICBjb25zdCBpbnQgJXMgPSBp
bnNuLT5yZWdub1slZF0gKyBIRVhfUkVHX1NBMDtcbiIgJSBcCiAgICAgICAgICAgICAocmVnTiwg
cmVnbm8pKQogICAgIGVsc2U6Ci0gICAgICAgIGYud3JpdGUoIiAgICBjb25zdCBpbnQgJXMgPSBp
bnNuLT5yZWdub1slZF07XG4iICUgKHJlZ04sIHJlZ25vKSkKKyAgICAgICAgcHJpbnQoIkJhZCBy
ZWdpc3RlciBwYXJzZTogIiwgcmVndHlwZSwgcmVnaWQpCisgICAgZi53cml0ZSgiICAgIFRDR3Zf
aTY0ICVzJXNWID0gZ2V0X3Jlc3VsdF9ncHJfcGFpcihjdHgsICVzKTtcbiIgJSBcCisgICAgICAg
IChyZWd0eXBlLCByZWdpZCwgcmVnTikpCiAKIGRlZiBnZW5wdHJfZGVjbF93cml0YWJsZShmLCB0
YWcsIHJlZ3R5cGUsIHJlZ2lkLCByZWdubyk6CiAgICAgcmVnTj0iJXMlc04iICUgKHJlZ3R5cGUs
cmVnaWQpCi0gICAgZi53cml0ZSgiICAgIFRDR3YgJXMlc1YgPSB0Y2dfdGVtcF9sb2NhbF9uZXco
KTtcbiIgJSBcCi0gICAgICAgIChyZWd0eXBlLCByZWdpZCkpCi0gICAgaWYgKHJlZ3R5cGUgPT0g
IkMiKToKKyAgICBpZiAocmVndHlwZSA9PSAiUiIpOgorICAgICAgICBmLndyaXRlKCIgICAgY29u
c3QgaW50ICVzID0gaW5zbi0+cmVnbm9bJWRdO1xuIiAlIChyZWdOLCByZWdubykpCisgICAgICAg
IGYud3JpdGUoIiAgICBUQ0d2ICVzJXNWID0gZ2V0X3Jlc3VsdF9ncHIoY3R4LCAlcyk7XG4iICUg
XAorICAgICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkLCByZWdOKSkKKyAgICBlbGlmIChyZWd0eXBl
ID09ICJDIik6CiAgICAgICAgIGYud3JpdGUoIiAgICBjb25zdCBpbnQgJXMgPSBpbnNuLT5yZWdu
b1slZF0gKyBIRVhfUkVHX1NBMDtcbiIgJSBcCiAgICAgICAgICAgICAocmVnTiwgcmVnbm8pKQot
ICAgIGVsc2U6CisgICAgICAgIGYud3JpdGUoIiAgICBUQ0d2ICVzJXNWID0gZ2V0X3Jlc3VsdF9n
cHIoY3R4LCAlcyk7XG4iICUgXAorICAgICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkLCByZWdOKSkK
KyAgICBlbGlmIChyZWd0eXBlID09ICJQIik6CiAgICAgICAgIGYud3JpdGUoIiAgICBjb25zdCBp
bnQgJXMgPSBpbnNuLT5yZWdub1slZF07XG4iICUgKHJlZ04sIHJlZ25vKSkKKyAgICAgICAgZi53
cml0ZSgiICAgIFRDR3YgJXMlc1YgPSB0Y2dfdGVtcF9sb2NhbF9uZXcoKTtcbiIgJSBcCisgICAg
ICAgICAgICAocmVndHlwZSwgcmVnaWQpKQorICAgIGVsc2U6CisgICAgICAgIHByaW50KCJCYWQg
cmVnaXN0ZXIgcGFyc2U6ICIsIHJlZ3R5cGUsIHJlZ2lkKQogCiBkZWYgZ2VucHRyX2RlY2woZiwg
dGFnLCByZWd0eXBlLCByZWdpZCwgcmVnbm8pOgogICAgIHJlZ049IiVzJXNOIiAlIChyZWd0eXBl
LHJlZ2lkKQpAQCAtMjUwLDExICsyNjAsOSBAQCBkZWYgZ2VucHRyX2RlY2xfaW1tKGYsaW1tbGV0
dCk6CiAKIGRlZiBnZW5wdHJfZnJlZShmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkLCByZWdubyk6CiAg
ICAgaWYgKHJlZ3R5cGUgPT0gIlIiKToKLSAgICAgICAgaWYgKHJlZ2lkIGluIHsiZGQiLCAic3Mi
LCAidHQiLCAieHgiLCAieXkifSk6CisgICAgICAgIGlmIChyZWdpZCBpbiB7InNzIiwgInR0In0p
OgogICAgICAgICAgICAgZi53cml0ZSgiICAgIHRjZ190ZW1wX2ZyZWVfaTY0KCVzJXNWKTtcbiIg
JSAocmVndHlwZSwgcmVnaWQpKQotICAgICAgICBlbGlmIChyZWdpZCBpbiB7ImQiLCAiZSIsICJ4
IiwgInkifSk6Ci0gICAgICAgICAgICBmLndyaXRlKCIgICAgdGNnX3RlbXBfZnJlZSglcyVzVik7
XG4iICUgKHJlZ3R5cGUsIHJlZ2lkKSkKLSAgICAgICAgZWxpZiAocmVnaWQgbm90IGluIHsicyIs
ICJ0IiwgInUiLCAidiJ9KToKKyAgICAgICAgZWxpZiAocmVnaWQgbm90IGluIHsiZGQiLCAieHgi
LCAieXkiLCAiZCIsICJlIiwgIngiLCAieSIsICJzIiwgInQiLCAidSIsICJ2In0pOgogICAgICAg
ICAgICAgcHJpbnQoIkJhZCByZWdpc3RlciBwYXJzZTogIixyZWd0eXBlLHJlZ2lkKQogICAgIGVs
aWYgKHJlZ3R5cGUgPT0gIlAiKToKICAgICAgICAgaWYgKHJlZ2lkIGluIHsiZCIsICJlIiwgIngi
fSk6CkBAIC0yNjIsMTEgKzI3MCw5IEBAIGRlZiBnZW5wdHJfZnJlZShmLCB0YWcsIHJlZ3R5cGUs
IHJlZ2lkLCByZWdubyk6CiAgICAgICAgIGVsaWYgKHJlZ2lkIG5vdCBpbiB7InMiLCAidCIsICJ1
IiwgInYifSk6CiAgICAgICAgICAgICBwcmludCgiQmFkIHJlZ2lzdGVyIHBhcnNlOiAiLHJlZ3R5
cGUscmVnaWQpCiAgICAgZWxpZiAocmVndHlwZSA9PSAiQyIpOgotICAgICAgICBpZiAocmVnaWQg
aW4geyJkZCIsICJzcyJ9KToKKyAgICAgICAgaWYgKHJlZ2lkIGluIHsic3MifSk6CiAgICAgICAg
ICAgICBmLndyaXRlKCIgICAgdGNnX3RlbXBfZnJlZV9pNjQoJXMlc1YpO1xuIiAlIChyZWd0eXBl
LCByZWdpZCkpCi0gICAgICAgIGVsaWYgKHJlZ2lkIGluIHsiZCIsICJzIn0pOgotICAgICAgICAg
ICAgZi53cml0ZSgiICAgIHRjZ190ZW1wX2ZyZWUoJXMlc1YpO1xuIiAlIChyZWd0eXBlLCByZWdp
ZCkpCi0gICAgICAgIGVsc2U6CisgICAgICAgIGVsaWYgKHJlZ2lkIG5vdCBpbiB7ImRkIiwgImQi
LCAicyJ9KToKICAgICAgICAgICAgIHByaW50KCJCYWQgcmVnaXN0ZXIgcGFyc2U6ICIscmVndHlw
ZSxyZWdpZCkKICAgICBlbGlmIChyZWd0eXBlID09ICJNIik6CiAgICAgICAgIGlmIChyZWdpZCAh
PSAidSIpOgpAQCAtNDM0LDI1ICs0NDAsMTYgQEAgZGVmIGdlbl9oZWxwZXJfY2FsbF9pbW0oZixp
bW1sZXR0KToKICAgICBmLndyaXRlKCIsIHRjZ3ZfJXMiICUgaGV4X2NvbW1vbi5pbW1fbmFtZShp
bW1sZXR0KSkKIAogZGVmIGdlbnB0cl9kc3Rfd3JpdGVfcGFpcihmLCB0YWcsIHJlZ3R5cGUsIHJl
Z2lkKToKLSAgICBpZiAoJ0FfQ09OREVYRUMnIGluIGhleF9jb21tb24uYXR0cmliZGljdFt0YWdd
KToKLSAgICAgICAgZi53cml0ZSgiICAgIGdlbl9sb2dfcHJlZGljYXRlZF9yZWdfd3JpdGVfcGFp
ciglcyVzTiwgJXMlc1YsIGluc24tPnNsb3QpO1xuIiAlIFwKLSAgICAgICAgICAgIChyZWd0eXBl
LCByZWdpZCwgcmVndHlwZSwgcmVnaWQpKQotICAgIGVsc2U6Ci0gICAgICAgIGYud3JpdGUoIiAg
ICBnZW5fbG9nX3JlZ193cml0ZV9wYWlyKCVzJXNOLCAlcyVzVik7XG4iICUgXAotICAgICAgICAg
ICAgKHJlZ3R5cGUsIHJlZ2lkLCByZWd0eXBlLCByZWdpZCkpCisgICAgZi53cml0ZSgiICAgIGdl
bl9sb2dfcmVnX3dyaXRlX3BhaXIoJXMlc04sICVzJXNWKTtcbiIgJSBcCisgICAgICAgIChyZWd0
eXBlLCByZWdpZCwgcmVndHlwZSwgcmVnaWQpKQogCiBkZWYgZ2VucHRyX2RzdF93cml0ZShmLCB0
YWcsIHJlZ3R5cGUsIHJlZ2lkKToKICAgICBpZiAocmVndHlwZSA9PSAiUiIpOgogICAgICAgICBp
ZiAocmVnaWQgaW4geyJkZCIsICJ4eCIsICJ5eSJ9KToKICAgICAgICAgICAgIGdlbnB0cl9kc3Rf
d3JpdGVfcGFpcihmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkKQogICAgICAgICBlbGlmIChyZWdpZCBp
biB7ImQiLCAiZSIsICJ4IiwgInkifSk6Ci0gICAgICAgICAgICBpZiAoJ0FfQ09OREVYRUMnIGlu
IGhleF9jb21tb24uYXR0cmliZGljdFt0YWddKToKLSAgICAgICAgICAgICAgICBmLndyaXRlKCIg
ICAgZ2VuX2xvZ19wcmVkaWNhdGVkX3JlZ193cml0ZSglcyVzTiwgJXMlc1YsXG4iICUgXAotICAg
ICAgICAgICAgICAgICAgICAocmVndHlwZSwgcmVnaWQsIHJlZ3R5cGUsIHJlZ2lkKSkKLSAgICAg
ICAgICAgICAgICBmLndyaXRlKCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNu
LT5zbG90KTtcbiIpCi0gICAgICAgICAgICBlbHNlOgotICAgICAgICAgICAgICAgIGYud3JpdGUo
IiAgICBnZW5fbG9nX3JlZ193cml0ZSglcyVzTiwgJXMlc1YpO1xuIiAlIFwKLSAgICAgICAgICAg
ICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkLCByZWd0eXBlLCByZWdpZCkpCisgICAgICAgICAgICBm
LndyaXRlKCIgICAgZ2VuX2xvZ19yZWdfd3JpdGUoJXMlc04sICVzJXNWKTtcbiIgJSBcCisgICAg
ICAgICAgICAgICAgKHJlZ3R5cGUsIHJlZ2lkLCByZWd0eXBlLCByZWdpZCkpCiAgICAgICAgIGVs
c2U6CiAgICAgICAgICAgICBwcmludCgiQmFkIHJlZ2lzdGVyIHBhcnNlOiAiLCByZWd0eXBlLCBy
ZWdpZCkKICAgICBlbGlmIChyZWd0eXBlID09ICJQIik6Ci0tIAoyLjE3LjEKCg==

