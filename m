Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 1F45D6F0EB6
	for <lists+qemu-devel@lfdr.de>; Fri, 28 Apr 2023 01:07:02 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1psAbV-0001qX-Vn; Thu, 27 Apr 2023 19:00:46 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1psAbN-0001no-E9
 for qemu-devel@nongnu.org; Thu, 27 Apr 2023 19:00:38 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1psAbG-0001NR-M0
 for qemu-devel@nongnu.org; Thu, 27 Apr 2023 19:00:37 -0400
Received: from pps.filterd (m0279873.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 33RMTW53020368; Thu, 27 Apr 2023 23:00:18 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=9KG0cRQ16nIuL5Mgs8KwgBj8Xx/uFZAPhTVOt21m0lc=;
 b=d8POFF75FtkPbHz4GOG33CztQaXIWz7+FQdaTYuvioiuXxpW4t9l0ebekXGVZYcOtJad
 Vzo/DKHIlRAnl3LL9F/Mb7f3uB3yHz7OJDY44alFNcGNKLUqgtN5gOVcokYIINxxY+b+
 W/Z6kci/1zz2ZCCQSjT5RXzp2vFeUwUEZnDrVvGPTEgeIx4iFE+YSYFJGP7nc/4TyuBD
 /ZF+1JmuKvRS/UpMZ7ljNLaxMP9+RY3YfL0JTUXkuUwSS2rOI0Wk4o7y4RRQL5WfSS4Z
 rvHapy8OmoqQNXUqy3piXCnejM2hRXZ9w+t7u6qo/wxLbs5i58EEH2q8eyjQ9QnntwwV kg== 
Received: from nalasppmta01.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3q7q9ahpqe-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:18 +0000
Received: from pps.filterd (NALASPPMTA01.qualcomm.com [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 33RMx7Ts024631; 
 Thu, 27 Apr 2023 23:00:17 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTPS id 3q48nmt3yd-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:17 +0000
Received: from NALASPPMTA01.qualcomm.com (NALASPPMTA01.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 33RMx666024626;
 Thu, 27 Apr 2023 23:00:16 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTPS id 33RN0EPY026457
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:16 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id E14C36CC; Thu, 27 Apr 2023 16:00:13 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v2 18/21] Hexagon (target/hexagon) Move new_pred_value to
 DisasContext
Date: Thu, 27 Apr 2023 16:00:09 -0700
Message-Id: <20230427230012.3800327-19-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20230427230012.3800327-1-tsimpson@quicinc.com>
References: <20230427230012.3800327-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: HH3oTYz5oXo6X194xZbEGjB82t4blYmC
X-Proofpoint-ORIG-GUID: HH3oTYz5oXo6X194xZbEGjB82t4blYmC
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.254,Aquarius:18.0.942,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-04-27_09,2023-04-27_01,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 impostorscore=0 adultscore=0
 mlxscore=0 clxscore=1015 priorityscore=1501 mlxlogscore=999
 lowpriorityscore=0 bulkscore=0 malwarescore=0 spamscore=0 suspectscore=0
 phishscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2303200000 definitions=main-2304270202
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlIG5ld19wcmVkX3ZhbHVlIGFycmF5IGluIHRoZSBDUFVIZXhhZ29uU3RhdGUgaXMgb25seSB1
c2VkIGZvcgpib29ra2VlcGluZyB3aXRoaW4gdGhlIHRyYW5zbGF0aW9uIG9mIGEgcGFja2V0LiAg
V2l0aCByZWNlbnQgY2hhbmdlcwp0aGF0IGVsaW1pbmF0ZSB0aGUgbmVlZCB0byBmcmVlIFRDR3Yg
dmFyaWFibGVzLCB0aGVzZSBtYWtlIG1vcmUgc2Vuc2UKdG8gYmUgdHJhbnNpZW50IGFuZCBrZXB0
IGluIERpc2FzQ29udGV4dC4KClN1Z2dlc3RlZC1ieTogUmljaGFyZCBIZW5kZXJzb24gPHJpY2hh
cmQuaGVuZGVyc29uQGxpbmFyby5vcmc+ClNpZ25lZC1vZmYtYnk6IFRheWxvciBTaW1wc29uIDx0
c2ltcHNvbkBxdWljaW5jLmNvbT4KUmV2aWV3ZWQtYnk6IFJpY2hhcmQgSGVuZGVyc29uIDxyaWNo
YXJkLmhlbmRlcnNvbkBsaW5hcm8ub3JnPgotLS0KIHRhcmdldC9oZXhhZ29uL2NwdS5oICAgICAg
ICAgICAgICAgICAgICAgICAgfCAgMSAtCiB0YXJnZXQvaGV4YWdvbi9nZW5fdGNnLmggICAgICAg
ICAgICAgICAgICAgIHwgMTIgKysrKysrLS0tLS0tCiB0YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUu
aCAgICAgICAgICAgICAgICAgIHwgIDIgKy0KIHRhcmdldC9oZXhhZ29uL2dlbnB0ci5jICAgICAg
ICAgICAgICAgICAgICAgfCAxMCArKysrKysrLS0tCiB0YXJnZXQvaGV4YWdvbi9pZGVmLXBhcnNl
ci9wYXJzZXItaGVscGVycy5jIHwgIDIgKy0KIHRhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jICAg
ICAgICAgICAgICAgICAgfCAgMiArLQogdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMgICAgICAg
ICAgICAgICAgICB8IDE2ICsrKysrKy0tLS0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL2dlbl90Y2df
ZnVuY3MucHkgICAgICAgICAgICAgfCAgMiArLQogOCBmaWxlcyBjaGFuZ2VkLCAyMyBpbnNlcnRp
b25zKCspLCAyNCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9jcHUu
aCBiL3RhcmdldC9oZXhhZ29uL2NwdS5oCmluZGV4IDIyYWJhMjBiZTIuLjhjZTJjZWVlZTQgMTAw
NjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2NwdS5oCisrKyBiL3RhcmdldC9oZXhhZ29uL2NwdS5o
CkBAIC05NCw3ICs5NCw2IEBAIHR5cGVkZWYgc3RydWN0IENQVUFyY2hTdGF0ZSB7CiAgICAgdGFy
Z2V0X3Vsb25nIHRoaXNfUEM7CiAgICAgdGFyZ2V0X3Vsb25nIHJlZ193cml0dGVuW1RPVEFMX1BF
Ul9USFJFQURfUkVHU107CiAKLSAgICB0YXJnZXRfdWxvbmcgbmV3X3ByZWRfdmFsdWVbTlVNX1BS
RUdTXTsKICAgICB0YXJnZXRfdWxvbmcgcHJlZF93cml0dGVuOwogCiAgICAgTWVtTG9nIG1lbV9s
b2dfc3RvcmVzW1NUT1JFU19NQVhdOwpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX3Rj
Zy5oIGIvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZy5oCmluZGV4IGZhYmMxZWI2MjMuLjk3ZGZkY2Iz
MjYgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl90Y2cuaAorKysgYi90YXJnZXQvaGV4
YWdvbi9nZW5fdGNnLmgKQEAgLTU4MSw5ICs1ODEsOSBAQAogI2RlZmluZSBmR0VOX1RDR19TTDJf
cmV0dXJuX2YoU0hPUlRDT0RFKSBcCiAgICAgZ2VuX2NvbmRfcmV0dXJuX3N1Ymluc24oY3R4LCBU
Q0dfQ09ORF9ORSwgaGV4X3ByZWRbMF0pCiAjZGVmaW5lIGZHRU5fVENHX1NMMl9yZXR1cm5fdG5l
dyhTSE9SVENPREUpIFwKLSAgICBnZW5fY29uZF9yZXR1cm5fc3ViaW5zbihjdHgsIFRDR19DT05E
X0VRLCBoZXhfbmV3X3ByZWRfdmFsdWVbMF0pCisgICAgZ2VuX2NvbmRfcmV0dXJuX3N1Ymluc24o
Y3R4LCBUQ0dfQ09ORF9FUSwgY3R4LT5uZXdfcHJlZF92YWx1ZVswXSkKICNkZWZpbmUgZkdFTl9U
Q0dfU0wyX3JldHVybl9mbmV3KFNIT1JUQ09ERSkgXAotICAgIGdlbl9jb25kX3JldHVybl9zdWJp
bnNuKGN0eCwgVENHX0NPTkRfTkUsIGhleF9uZXdfcHJlZF92YWx1ZVswXSkKKyAgICBnZW5fY29u
ZF9yZXR1cm5fc3ViaW5zbihjdHgsIFRDR19DT05EX05FLCBjdHgtPm5ld19wcmVkX3ZhbHVlWzBd
KQogCiAvKgogICogTWF0aGVtYXRpY2FsIG9wZXJhdGlvbnMgd2l0aCBtb3JlIHRoYW4gb25lIGRl
ZmluaXRpb24gcmVxdWlyZQpAQCAtMTExOCw3ICsxMTE4LDcgQEAKICNkZWZpbmUgZkdFTl9UQ0df
U0ExX2NscnRuZXcoU0hPUlRDT0RFKSBcCiAgICAgZG8geyBcCiAgICAgICAgIHRjZ19nZW5fbW92
Y29uZF90bChUQ0dfQ09ORF9FUSwgUmRWLCBcCi0gICAgICAgICAgICAgICAgICAgICAgICAgICBo
ZXhfbmV3X3ByZWRfdmFsdWVbMF0sIHRjZ19jb25zdGFudF90bCgwKSwgXAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgY3R4LT5uZXdfcHJlZF92YWx1ZVswXSwgdGNnX2NvbnN0YW50X3RsKDAp
LCBcCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZFYsIHRjZ19jb25zdGFudF90bCgwKSk7
IFwKICAgICB9IHdoaWxlICgwKQogCkBAIC0xMTI2LDcgKzExMjYsNyBAQAogI2RlZmluZSBmR0VO
X1RDR19TQTFfY2xyZm5ldyhTSE9SVENPREUpIFwKICAgICBkbyB7IFwKICAgICAgICAgdGNnX2dl
bl9tb3Zjb25kX3RsKFRDR19DT05EX05FLCBSZFYsIFwKLSAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGhleF9uZXdfcHJlZF92YWx1ZVswXSwgdGNnX2NvbnN0YW50X3RsKDApLCBcCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICBjdHgtPm5ld19wcmVkX3ZhbHVlWzBdLCB0Y2dfY29uc3RhbnRf
dGwoMCksIFwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJkViwgdGNnX2NvbnN0YW50X3Rs
KDApKTsgXAogICAgIH0gd2hpbGUgKDApCiAKQEAgLTExNTMsOSArMTE1Myw5IEBACiAgICAgZ2Vu
X2NvbmRfanVtcHIzMShjdHgsIFRDR19DT05EX05FLCBoZXhfcHJlZFswXSkKIAogI2RlZmluZSBm
R0VOX1RDR19TTDJfanVtcHIzMV90bmV3KFNIT1JUQ09ERSkgXAotICAgIGdlbl9jb25kX2p1bXBy
MzEoY3R4LCBUQ0dfQ09ORF9FUSwgaGV4X25ld19wcmVkX3ZhbHVlWzBdKQorICAgIGdlbl9jb25k
X2p1bXByMzEoY3R4LCBUQ0dfQ09ORF9FUSwgY3R4LT5uZXdfcHJlZF92YWx1ZVswXSkKICNkZWZp
bmUgZkdFTl9UQ0dfU0wyX2p1bXByMzFfZm5ldyhTSE9SVENPREUpIFwKLSAgICBnZW5fY29uZF9q
dW1wcjMxKGN0eCwgVENHX0NPTkRfTkUsIGhleF9uZXdfcHJlZF92YWx1ZVswXSkKKyAgICBnZW5f
Y29uZF9qdW1wcjMxKGN0eCwgVENHX0NPTkRfTkUsIGN0eC0+bmV3X3ByZWRfdmFsdWVbMF0pCiAK
IC8qIENvdW50IHRyYWlsaW5nIHplcm9zL29uZXMgKi8KICNkZWZpbmUgZkdFTl9UQ0dfUzJfY3Qw
KFNIT1JUQ09ERSkgXApkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmggYi90
YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuaAppbmRleCA2ZGRlNDg3NTY2Li5mZGZhMWI2ZmUzIDEw
MDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuaAorKysgYi90YXJnZXQvaGV4YWdv
bi90cmFuc2xhdGUuaApAQCAtNzAsNiArNzAsNyBAQCB0eXBlZGVmIHN0cnVjdCBEaXNhc0NvbnRl
eHQgewogICAgIGJvb2wgc2hvcnRfY2lyY3VpdDsKICAgICBib29sIGhhc19odnhfaGVscGVyOwog
ICAgIFRDR3YgbmV3X3ZhbHVlW1RPVEFMX1BFUl9USFJFQURfUkVHU107CisgICAgVENHdiBuZXdf
cHJlZF92YWx1ZVtOVU1fUFJFR1NdOwogfSBEaXNhc0NvbnRleHQ7CiAKIHN0YXRpYyBpbmxpbmUg
dm9pZCBjdHhfbG9nX3ByZWRfd3JpdGUoRGlzYXNDb250ZXh0ICpjdHgsIGludCBwbnVtKQpAQCAt
MTkzLDcgKzE5NCw2IEBAIGV4dGVybiBUQ0d2IGhleF9zbG90X2NhbmNlbGxlZDsKIGV4dGVybiBU
Q0d2IGhleF9icmFuY2hfdGFrZW47CiBleHRlcm4gVENHdiBoZXhfbmV3X3ZhbHVlX3VzcjsKIGV4
dGVybiBUQ0d2IGhleF9yZWdfd3JpdHRlbltUT1RBTF9QRVJfVEhSRUFEX1JFR1NdOwotZXh0ZXJu
IFRDR3YgaGV4X25ld19wcmVkX3ZhbHVlW05VTV9QUkVHU107CiBleHRlcm4gVENHdiBoZXhfcHJl
ZF93cml0dGVuOwogZXh0ZXJuIFRDR3YgaGV4X3N0b3JlX2FkZHJbU1RPUkVTX01BWF07CiBleHRl
cm4gVENHdiBoZXhfc3RvcmVfd2lkdGhbU1RPUkVTX01BWF07CmRpZmYgLS1naXQgYS90YXJnZXQv
aGV4YWdvbi9nZW5wdHIuYyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCmluZGV4IGM3YThlMmNl
NTUuLmM3MWJlYTA1MzAgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCisrKyBi
L3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCkBAIC0xMjEsNyArMTIxLDExIEBAIHN0YXRpYyB2b2lk
IGdlbl9sb2dfcmVnX3dyaXRlX3BhaXIoRGlzYXNDb250ZXh0ICpjdHgsIGludCBybnVtLCBUQ0d2
X2k2NCB2YWwpCiBUQ0d2IGdldF9yZXN1bHRfcHJlZChEaXNhc0NvbnRleHQgKmN0eCwgaW50IHBu
dW0pCiB7CiAgICAgaWYgKGN0eC0+bmVlZF9jb21taXQpIHsKLSAgICAgICAgcmV0dXJuIGhleF9u
ZXdfcHJlZF92YWx1ZVtwbnVtXTsKKyAgICAgICAgaWYgKGN0eC0+bmV3X3ByZWRfdmFsdWVbcG51
bV0gPT0gTlVMTCkgeworICAgICAgICAgICAgY3R4LT5uZXdfcHJlZF92YWx1ZVtwbnVtXSA9IHRj
Z190ZW1wX25ldygpOworICAgICAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKGN0eC0+bmV3X3ByZWRf
dmFsdWVbcG51bV0sIDApOworICAgICAgICB9CisgICAgICAgIHJldHVybiBjdHgtPm5ld19wcmVk
X3ZhbHVlW3BudW1dOwogICAgIH0gZWxzZSB7CiAgICAgICAgIHJldHVybiBoZXhfcHJlZFtwbnVt
XTsKICAgICB9CkBAIC02MDcsNyArNjExLDcgQEAgc3RhdGljIHZvaWQgZ2VuX2NtcG5kX2NtcF9q
bXAoRGlzYXNDb250ZXh0ICpjdHgsCiAgICAgICAgIGdlbl9sb2dfcHJlZF93cml0ZShjdHgsIHBu
dW0sIHByZWQpOwogICAgIH0gZWxzZSB7CiAgICAgICAgIFRDR3YgcHJlZCA9IHRjZ190ZW1wX25l
dygpOwotICAgICAgICB0Y2dfZ2VuX21vdl90bChwcmVkLCBoZXhfbmV3X3ByZWRfdmFsdWVbcG51
bV0pOworICAgICAgICB0Y2dfZ2VuX21vdl90bChwcmVkLCBjdHgtPm5ld19wcmVkX3ZhbHVlW3Bu
dW1dKTsKICAgICAgICAgZ2VuX2NvbmRfanVtcChjdHgsIGNvbmQyLCBwcmVkLCBwY19vZmYpOwog
ICAgIH0KIH0KQEAgLTY2NCw3ICs2NjgsNyBAQCBzdGF0aWMgdm9pZCBnZW5fY21wbmRfdHN0Yml0
MF9qbXAoRGlzYXNDb250ZXh0ICpjdHgsCiAgICAgICAgIGdlbl9sb2dfcHJlZF93cml0ZShjdHgs
IHBudW0sIHByZWQpOwogICAgIH0gZWxzZSB7CiAgICAgICAgIFRDR3YgcHJlZCA9IHRjZ190ZW1w
X25ldygpOwotICAgICAgICB0Y2dfZ2VuX21vdl90bChwcmVkLCBoZXhfbmV3X3ByZWRfdmFsdWVb
cG51bV0pOworICAgICAgICB0Y2dfZ2VuX21vdl90bChwcmVkLCBjdHgtPm5ld19wcmVkX3ZhbHVl
W3BudW1dKTsKICAgICAgICAgZ2VuX2NvbmRfanVtcChjdHgsIGNvbmQsIHByZWQsIHBjX29mZik7
CiAgICAgfQogfQpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvcGFyc2Vy
LWhlbHBlcnMuYyBiL3RhcmdldC9oZXhhZ29uL2lkZWYtcGFyc2VyL3BhcnNlci1oZWxwZXJzLmMK
aW5kZXggYWUwZjYwYWRhNC4uNzVjM2IzZWZlZCAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24v
aWRlZi1wYXJzZXIvcGFyc2VyLWhlbHBlcnMuYworKysgYi90YXJnZXQvaGV4YWdvbi9pZGVmLXBh
cnNlci9wYXJzZXItaGVscGVycy5jCkBAIC0xODU2LDcgKzE4NTYsNyBAQCBIZXhWYWx1ZSBnZW5f
cnZhbHVlX3ByZWQoQ29udGV4dCAqYywgWVlMVFlQRSAqbG9jcCwgSGV4VmFsdWUgKnByZWQpCiAg
ICAgICAgICpwcmVkID0gZ2VuX3RtcChjLCBsb2NwLCAzMiwgVU5TSUdORUQpOwogICAgICAgICBp
ZiAoaXNfZG90bmV3KSB7CiAgICAgICAgICAgICBPVVQoYywgbG9jcCwgInRjZ19nZW5fbW92X2kz
MigiLCBwcmVkLAotICAgICAgICAgICAgICAgICIsIGhleF9uZXdfcHJlZF92YWx1ZVsiKTsKKyAg
ICAgICAgICAgICAgICAiLCBjdHgtPm5ld19wcmVkX3ZhbHVlWyIpOwogICAgICAgICAgICAgT1VU
KGMsIGxvY3AsIHByZWRfc3RyLCAiXSk7XG4iKTsKICAgICAgICAgfSBlbHNlIHsKICAgICAgICAg
ICAgIE9VVChjLCBsb2NwLCAiZ2VuX3JlYWRfcHJlZygiLCBwcmVkLCAiLCAiLCBwcmVkX3N0ciwg
Iik7XG4iKTsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jIGIvdGFyZ2V0
L2hleGFnb24vb3BfaGVscGVyLmMKaW5kZXggZmM1YzMwYTE0MS4uMjZmYmE5ZjVkNiAxMDA2NDQK
LS0tIGEvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vb3Bf
aGVscGVyLmMKQEAgLTIzMSw3ICsyMzEsNyBAQCB2b2lkIEhFTFBFUihkZWJ1Z19jb21taXRfZW5k
KShDUFVIZXhhZ29uU3RhdGUgKmVudiwgaW50IGhhc19zdDAsIGludCBoYXNfc3QxKQogICAgICAg
ICAgICAgICAgIHByZWRfcHJpbnRlZCA9IHRydWU7CiAgICAgICAgICAgICB9CiAgICAgICAgICAg
ICBIRVhfREVCVUdfTE9HKCJcdHAlZCA9IDB4IiBUQVJHRVRfRk1UX2x4ICJcbiIsCi0gICAgICAg
ICAgICAgICAgICAgICAgICAgIGksIGVudi0+bmV3X3ByZWRfdmFsdWVbaV0pOworICAgICAgICAg
ICAgICAgICAgICAgICAgICBpLCBlbnYtPnByZWRbaV0pOwogICAgICAgICB9CiAgICAgfQogCmRp
ZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYyBiL3RhcmdldC9oZXhhZ29uL3Ry
YW5zbGF0ZS5jCmluZGV4IDVmMzViYjIwZTcuLjg5MGJhZGFjMTAgMTAwNjQ0Ci0tLSBhL3Rhcmdl
dC9oZXhhZ29uL3RyYW5zbGF0ZS5jCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCkBA
IC00Niw3ICs0Niw2IEBAIFRDR3YgaGV4X3Nsb3RfY2FuY2VsbGVkOwogVENHdiBoZXhfYnJhbmNo
X3Rha2VuOwogVENHdiBoZXhfbmV3X3ZhbHVlX3VzcjsKIFRDR3YgaGV4X3JlZ193cml0dGVuW1RP
VEFMX1BFUl9USFJFQURfUkVHU107Ci1UQ0d2IGhleF9uZXdfcHJlZF92YWx1ZVtOVU1fUFJFR1Nd
OwogVENHdiBoZXhfcHJlZF93cml0dGVuOwogVENHdiBoZXhfc3RvcmVfYWRkcltTVE9SRVNfTUFY
XTsKIFRDR3YgaGV4X3N0b3JlX3dpZHRoW1NUT1JFU19NQVhdOwpAQCAtNTE1LDYgKzUxNCw5IEBA
IHN0YXRpYyB2b2lkIGdlbl9zdGFydF9wYWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiAgICAgZm9y
IChpID0gMDsgaSA8IFRPVEFMX1BFUl9USFJFQURfUkVHUzsgaSsrKSB7CiAgICAgICAgIGN0eC0+
bmV3X3ZhbHVlW2ldID0gTlVMTDsKICAgICB9CisgICAgZm9yIChpID0gMDsgaSA8IE5VTV9QUkVH
UzsgaSsrKSB7CisgICAgICAgIGN0eC0+bmV3X3ByZWRfdmFsdWVbaV0gPSBOVUxMOworICAgIH0K
IAogICAgIGFuYWx5emVfcGFja2V0KGN0eCk7CiAKQEAgLTU2OCw3ICs1NzAsOCBAQCBzdGF0aWMg
dm9pZCBnZW5fc3RhcnRfcGFja2V0KERpc2FzQ29udGV4dCAqY3R4KQogICAgIGlmIChjdHgtPm5l
ZWRfY29tbWl0ICYmIHBrdC0+cGt0X2hhc19lbmRsb29wKSB7CiAgICAgICAgIGZvciAoaW50IGkg
PSAwOyBpIDwgY3R4LT5wcmVnX2xvZ19pZHg7IGkrKykgewogICAgICAgICAgICAgaW50IHByZWRf
bnVtID0gY3R4LT5wcmVnX2xvZ1tpXTsKLSAgICAgICAgICAgIHRjZ19nZW5fbW92X3RsKGhleF9u
ZXdfcHJlZF92YWx1ZVtwcmVkX251bV0sIGhleF9wcmVkW3ByZWRfbnVtXSk7CisgICAgICAgICAg
ICBjdHgtPm5ld19wcmVkX3ZhbHVlW3ByZWRfbnVtXSA9IHRjZ190ZW1wX25ldygpOworICAgICAg
ICAgICAgdGNnX2dlbl9tb3ZfdGwoY3R4LT5uZXdfcHJlZF92YWx1ZVtwcmVkX251bV0sIGhleF9w
cmVkW3ByZWRfbnVtXSk7CiAgICAgICAgIH0KICAgICB9CiAKQEAgLTY4OCw3ICs2OTEsNyBAQCBz
dGF0aWMgdm9pZCBnZW5fcHJlZF93cml0ZXMoRGlzYXNDb250ZXh0ICpjdHgpCiAKICAgICBmb3Ig
KGludCBpID0gMDsgaSA8IGN0eC0+cHJlZ19sb2dfaWR4OyBpKyspIHsKICAgICAgICAgaW50IHBy
ZWRfbnVtID0gY3R4LT5wcmVnX2xvZ1tpXTsKLSAgICAgICAgdGNnX2dlbl9tb3ZfdGwoaGV4X3By
ZWRbcHJlZF9udW1dLCBoZXhfbmV3X3ByZWRfdmFsdWVbcHJlZF9udW1dKTsKKyAgICAgICAgdGNn
X2dlbl9tb3ZfdGwoaGV4X3ByZWRbcHJlZF9udW1dLCBjdHgtPm5ld19wcmVkX3ZhbHVlW3ByZWRf
bnVtXSk7CiAgICAgfQogfQogCkBAIC0xMTU5LDcgKzExNjIsNiBAQCB2b2lkIGdlbl9pbnRlcm1l
ZGlhdGVfY29kZShDUFVTdGF0ZSAqY3MsIFRyYW5zbGF0aW9uQmxvY2sgKnRiLCBpbnQgKm1heF9p
bnNucywKIAogI2RlZmluZSBOQU1FX0xFTiAgICAgICAgICAgICAgIDY0CiBzdGF0aWMgY2hhciBy
ZWdfd3JpdHRlbl9uYW1lc1tUT1RBTF9QRVJfVEhSRUFEX1JFR1NdW05BTUVfTEVOXTsKLXN0YXRp
YyBjaGFyIG5ld19wcmVkX3ZhbHVlX25hbWVzW05VTV9QUkVHU11bTkFNRV9MRU5dOwogc3RhdGlj
IGNoYXIgc3RvcmVfYWRkcl9uYW1lc1tTVE9SRVNfTUFYXVtOQU1FX0xFTl07CiBzdGF0aWMgY2hh
ciBzdG9yZV93aWR0aF9uYW1lc1tTVE9SRVNfTUFYXVtOQU1FX0xFTl07CiBzdGF0aWMgY2hhciBz
dG9yZV92YWwzMl9uYW1lc1tTVE9SRVNfTUFYXVtOQU1FX0xFTl07CkBAIC0xMTk0LDEyICsxMTk2
LDYgQEAgdm9pZCBoZXhhZ29uX3RyYW5zbGF0ZV9pbml0KHZvaWQpCiAgICAgICAgIGhleF9wcmVk
W2ldID0gdGNnX2dsb2JhbF9tZW1fbmV3KGNwdV9lbnYsCiAgICAgICAgICAgICBvZmZzZXRvZihD
UFVIZXhhZ29uU3RhdGUsIHByZWRbaV0pLAogICAgICAgICAgICAgaGV4YWdvbl9wcmVkbmFtZXNb
aV0pOwotCi0gICAgICAgIHNucHJpbnRmKG5ld19wcmVkX3ZhbHVlX25hbWVzW2ldLCBOQU1FX0xF
TiwgIm5ld19wcmVkXyVzIiwKLSAgICAgICAgICAgICAgICAgaGV4YWdvbl9wcmVkbmFtZXNbaV0p
OwotICAgICAgICBoZXhfbmV3X3ByZWRfdmFsdWVbaV0gPSB0Y2dfZ2xvYmFsX21lbV9uZXcoY3B1
X2VudiwKLSAgICAgICAgICAgIG9mZnNldG9mKENQVUhleGFnb25TdGF0ZSwgbmV3X3ByZWRfdmFs
dWVbaV0pLAotICAgICAgICAgICAgbmV3X3ByZWRfdmFsdWVfbmFtZXNbaV0pOwogICAgIH0KICAg
ICBoZXhfcHJlZF93cml0dGVuID0gdGNnX2dsb2JhbF9tZW1fbmV3KGNwdV9lbnYsCiAgICAgICAg
IG9mZnNldG9mKENQVUhleGFnb25TdGF0ZSwgcHJlZF93cml0dGVuKSwgInByZWRfd3JpdHRlbiIp
OwpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSBiL3RhcmdldC9o
ZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKaW5kZXggYTM2MTE3ZDU3Zi4uMDQwMzU0NzM4NyAxMDA3
NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQorKysgYi90YXJnZXQvaGV4
YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CkBAIC0xOTgsNyArMTk4LDcgQEAgZGVmIGdlbnB0cl9kZWNs
X25ldyhmLCB0YWcsIHJlZ3R5cGUsIHJlZ2lkLCByZWdubyk6CiAgICAgICAgIGlmIHJlZ2lkIGlu
IHsidCIsICJ1IiwgInYifToKICAgICAgICAgICAgIGYud3JpdGUoCiAgICAgICAgICAgICAgICAg
ZiIgICAgVENHdiB7cmVndHlwZX17cmVnaWR9TiA9ICIKLSAgICAgICAgICAgICAgICBmImhleF9u
ZXdfcHJlZF92YWx1ZVtpbnNuLT5yZWdub1t7cmVnbm99XV07XG4iCisgICAgICAgICAgICAgICAg
ZiJjdHgtPm5ld19wcmVkX3ZhbHVlW2luc24tPnJlZ25vW3tyZWdub31dXTtcbiIKICAgICAgICAg
ICAgICkKICAgICAgICAgZWxzZToKICAgICAgICAgICAgIHByaW50KCJCYWQgcmVnaXN0ZXIgcGFy
c2U6ICIsIHJlZ3R5cGUsIHJlZ2lkKQotLSAKMi4yNS4xCgo=

