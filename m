Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 8E8DDAC046
	for <lists+qemu-devel@lfdr.de>; Fri,  6 Sep 2019 21:14:31 +0200 (CEST)
Received: from localhost ([::1]:59534 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1i6Jgk-0003kF-8N
	for lists+qemu-devel@lfdr.de; Fri, 06 Sep 2019 15:14:30 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:42192)
 by lists.gnu.org with esmtp (Exim 4.90_1)
 (envelope-from <Babu.Moger@amd.com>) id 1i6JeF-0001qA-5v
 for qemu-devel@nongnu.org; Fri, 06 Sep 2019 15:11:56 -0400
Received: from Debian-exim by eggs.gnu.org with spam-scanned (Exim 4.71)
 (envelope-from <Babu.Moger@amd.com>) id 1i6JeD-00044S-CT
 for qemu-devel@nongnu.org; Fri, 06 Sep 2019 15:11:55 -0400
Received: from mail-eopbgr750049.outbound.protection.outlook.com
 ([40.107.75.49]:47363 helo=NAM02-BL2-obe.outbound.protection.outlook.com)
 by eggs.gnu.org with esmtps (TLS1.0:RSA_AES_256_CBC_SHA1:32)
 (Exim 4.71) (envelope-from <Babu.Moger@amd.com>) id 1i6JeD-00044K-7H
 for qemu-devel@nongnu.org; Fri, 06 Sep 2019 15:11:53 -0400
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=kbtq7JWpH5+BWyKp1fQC384U/iQxEH8lmS43BHEPG10AmHP2OSDMCJRSOSpznep5WukrtV8X88QS7yGs+GgcyqsuGpLUdIFFvpAPFd3Zls3ehFqv/W09Fxbuac9CWjqyt+JO0qI/4o0YGN91//JVqo7EJiY49wxlR4u3sFUVc9cg8aCPOTJ/L2omXkh1FPpDQUb1sCf+vDmaFtFufVcRKnWwgJ061swh75CJd2kSvRxluMxPsR0sZStecwnKzxxgwgWE6kf0lgXKE/wNzb9dzkg5zgrecCWxTeSvdeHRrwoFltnTzSk4dhoOAROxTBjRFB8bRinSP93JGpI9SJSnUA==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=WqCA+qQof2c3Fn1Wn3IMwoEa2tcgURsJ0J51h8wRr1s=;
 b=H/vJUHri7IqnPLacrpu6ry8nQO3Sz09W3inUNts0F67Sehe/2AtFMa9uV4Y79v7vw+M3QNI/Bcm0OPt7XYQniJHzza0NBDfVQHG+6yYo6Z1IpmRBnlS8L+0Q3tBotnDECw6LqPGFaXhicFOupwAPiNOH0UFJBeza7kgl67YIYYav+XRdhClmcqPsGWzzAQsG+Ptfc9FtxvOE3eHR3j6XB/jYKpe1PFXFkkIeaTIapTbT+JtD7nC/ba4j/ZgiSvenhYgc0OlhQF5CIpbPyEbrWtEldGziuGXr1fOlfRmLmQ1D08eW/7gR8MTiohs+iroAVFPBVeDrxtxU/Hyx71JDLA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=amd.com; dmarc=pass action=none header.from=amd.com; dkim=pass
 header.d=amd.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=amdcloud.onmicrosoft.com; s=selector2-amdcloud-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=WqCA+qQof2c3Fn1Wn3IMwoEa2tcgURsJ0J51h8wRr1s=;
 b=gmNcApggWr0pFFauTmd5vyZn5J1bl2b7O8hNF1J2q60W0jUl8wsKpx3XSdPa3Ty37H66HIMN8GJi39d3swwXkO4LJwcfETzjyZbUAfT/WNeZob+w5I/VVlEmiRW58LZKBIt8vxEFbNhn8gmuqSytA9uHN52f7cKx/uL0IxtXwDw=
Received: from DM5PR12MB2471.namprd12.prod.outlook.com (52.132.141.138) by
 DM5PR12MB1145.namprd12.prod.outlook.com (10.168.238.141) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.2241.14; Fri, 6 Sep 2019 19:11:50 +0000
Received: from DM5PR12MB2471.namprd12.prod.outlook.com
 ([fe80::6c7c:4b6d:f136:1bf8]) by DM5PR12MB2471.namprd12.prod.outlook.com
 ([fe80::6c7c:4b6d:f136:1bf8%3]) with mapi id 15.20.2220.022; Fri, 6 Sep 2019
 19:11:50 +0000
From: "Moger, Babu" <Babu.Moger@amd.com>
To: ssg.sos.staff <ssg.sos.staff@amd.com>, "ehabkost@redhat.com"
 <ehabkost@redhat.com>, "marcel.apfelbaum@gmail.com"
 <marcel.apfelbaum@gmail.com>, "mst@redhat.com" <mst@redhat.com>,
 "pbonzini@redhat.com" <pbonzini@redhat.com>, "rth@twiddle.net"
 <rth@twiddle.net>, "eblake@redhat.com" <eblake@redhat.com>,
 "armbru@redhat.com" <armbru@redhat.com>, "imammedo@redhat.com"
 <imammedo@redhat.com>
Thread-Topic: [RFC 2 PATCH 02/16] hw/i386: Rename X86CPUTopoInfo structure to
 X86CPUTopoIDs
Thread-Index: AQHVZObvrlEVZxaTa0i09SKpSAN3jw==
Date: Fri, 6 Sep 2019 19:11:50 +0000
Message-ID: <156779710892.21957.12320825183231112713.stgit@localhost.localdomain>
References: <156779689013.21957.1631551572950676212.stgit@localhost.localdomain>
In-Reply-To: <156779689013.21957.1631551572950676212.stgit@localhost.localdomain>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: SN6PR06CA0010.namprd06.prod.outlook.com
 (2603:10b6:805:8e::23) To DM5PR12MB2471.namprd12.prod.outlook.com
 (2603:10b6:4:b5::10)
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=Babu.Moger@amd.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [165.204.78.1]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 10270f50-ba88-4771-0275-08d732fe121c
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0; PCL:0;
 RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600166)(711020)(4605104)(1401327)(4618075)(2017052603328)(7193020);
 SRVR:DM5PR12MB1145; 
x-ms-traffictypediagnostic: DM5PR12MB1145:
x-ld-processed: 3dd8961f-e488-4e60-8e11-a82d994e183d,ExtAddr
x-ms-exchange-transport-forked: True
x-microsoft-antispam-prvs: <DM5PR12MB1145EB875920AD77D224777495BA0@DM5PR12MB1145.namprd12.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:3513;
x-forefront-prvs: 0152EBA40F
x-forefront-antispam-report: SFV:NSPM;
 SFS:(10009020)(4636009)(376002)(396003)(366004)(39860400002)(136003)(346002)(199004)(189003)(2201001)(71190400001)(305945005)(7736002)(9686003)(52116002)(86362001)(71200400001)(6116002)(8936002)(6512007)(3846002)(6436002)(11346002)(103116003)(99286004)(6506007)(6486002)(26005)(4326008)(14454004)(5660300002)(386003)(476003)(102836004)(2906002)(25786009)(76176011)(2501003)(53936002)(8676002)(66446008)(446003)(186003)(66556008)(486006)(66946007)(66476007)(64756008)(110136005)(81166006)(81156014)(478600001)(66066001)(256004)(316002);
 DIR:OUT; SFP:1101; SCL:1; SRVR:DM5PR12MB1145;
 H:DM5PR12MB2471.namprd12.prod.outlook.com; FPR:; SPF:None; LANG:en;
 PTR:InfoNoRecords; A:1; MX:1; 
received-spf: None (protection.outlook.com: amd.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: rwEaJr/bcyusb3I3cbdFUQJ4AFTuvbBMrDUCloKZsUstEIxx04dwu7Z6KPUaFvRaGSjhwU2CnjDUVb7LFf/6s9RR8CWNrh9KPxR/I1G4MYi4oLNz+jMp98hK29t5qnu2KYTI+dWvtAW32fmNNOnVXI5BsLd8zgnY3buTft43QuVt54zrjhs7QHWlI1Uv4LdLRTXCAxWSwm4t8t0VgXAnOKScJK+3dEFDSLCj6lmcnXn/6Tf3eEIOUcLLa2c4vdEjSpcpUwyiWR3HcvfTcYevJy5fqhM3ubPa6M4jyXonBfoMZ9dqcQEjlhDCU3L3iiLHj5DtW3TE6hmGn8EfZ83RtcdQh2072jvr4cSFN+ktFAcpFMwZuBS0VIbEBK/ZjvWTUCRfJx8LhymEaiVuusJxNFktu++0hw1uQR47ZsrryDo=
Content-Type: text/plain; charset="utf-8"
Content-ID: <AD9B2FCF39D1D943885DDD7F2A4E0C20@namprd12.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: amd.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 10270f50-ba88-4771-0275-08d732fe121c
X-MS-Exchange-CrossTenant-originalarrivaltime: 06 Sep 2019 19:11:50.5280 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 3dd8961f-e488-4e60-8e11-a82d994e183d
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: yOHgIKtZY32lisAnrUznQDzIxjaAjfH+WY4EBlY2Gg8eRSXIxSmHE23W6oeON913
X-MS-Exchange-Transport-CrossTenantHeadersStamped: DM5PR12MB1145
X-detected-operating-system: by eggs.gnu.org: Windows 7 or 8 [fuzzy]
X-Received-From: 40.107.75.49
Subject: [Qemu-devel] [RFC 2 PATCH 02/16] hw/i386: Rename X86CPUTopoInfo
 structure to X86CPUTopoIDs
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

UmVuYW1lIGZldyBkYXRhIHN0cnVjdHVyZXMgcmVsYXRlZCB0byBYODYgdG9wb2xvZ3kuDQpYODZD
UFVUb3BvSURzIHdpbGwgaGF2ZSBpbmRpdmlkdWFsIGFyY2ggaWRzLiBOZXh0DQpwYXRjaCBpbnRy
b2R1Y2VzIFg4NkNQVVRvcG9JbmZvIHdoaWNoIHdpbGwgaGF2ZSBhbGwNCnRvcG9sb2d5IGluZm9y
bWF0aW9uKGxpa2UgY29yZXMsIHRocmVhZHMgZXRjLi4pLg0KDQpBZGRzIG5vZGVfaWQgYW5kIGNj
eF9pZC4gVGhpcyB3aWxsIGJlIHJlcXVpcmVkIHRvIHN1cHBvcnQNCm5ldyBlcHljIG1vZGUgbW9k
ZS4gVGhlcmUgaXMgbm8gZnVuY3Rpb25hbCBjaGFuZ2UuDQoNClNpZ25lZC1vZmYtYnk6IEJhYnUg
TW9nZXIgPGJhYnUubW9nZXJAYW1kLmNvbT4NCi0tLQ0KIGh3L2kzODYvcGMuYyAgICAgICAgICAg
ICAgIHwgICA2MCArKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0K
IGluY2x1ZGUvaHcvaTM4Ni90b3BvbG9neS5oIHwgICA0MiArKysrKysrKysrKysrKysrLS0tLS0t
LS0tLS0tLS0tDQogMiBmaWxlcyBjaGFuZ2VkLCA1MiBpbnNlcnRpb25zKCspLCA1MCBkZWxldGlv
bnMoLSkNCg0KZGlmZiAtLWdpdCBhL2h3L2kzODYvcGMuYyBiL2h3L2kzODYvcGMuYw0KaW5kZXgg
NTQ5YzQzNzA1MC4uYWRhNDQ1ZjhmMyAxMDA2NDQNCi0tLSBhL2h3L2kzODYvcGMuYw0KKysrIGIv
aHcvaTM4Ni9wYy5jDQpAQCAtMjM3OSw3ICsyMzc5LDcgQEAgc3RhdGljIHZvaWQgcGNfY3B1X3By
ZV9wbHVnKEhvdHBsdWdIYW5kbGVyICpob3RwbHVnX2RldiwNCiAgICAgaW50IGlkeDsNCiAgICAg
Q1BVU3RhdGUgKmNzOw0KICAgICBDUFVBcmNoSWQgKmNwdV9zbG90Ow0KLSAgICBYODZDUFVUb3Bv
SW5mbyB0b3BvOw0KKyAgICBYODZDUFVUb3BvSURzIHRvcG9faWRzOw0KICAgICBYODZDUFUgKmNw
dSA9IFg4Nl9DUFUoZGV2KTsNCiAgICAgQ1BVWDg2U3RhdGUgKmVudiA9ICZjcHUtPmVudjsNCiAg
ICAgTWFjaGluZVN0YXRlICptcyA9IE1BQ0hJTkUoaG90cGx1Z19kZXYpOw0KQEAgLTI0MzIsMTIg
KzI0MzIsMTIgQEAgc3RhdGljIHZvaWQgcGNfY3B1X3ByZV9wbHVnKEhvdHBsdWdIYW5kbGVyICpo
b3RwbHVnX2RldiwNCiAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICB9DQogDQotICAgICAg
ICB0b3BvLnBrZ19pZCA9IGNwdS0+c29ja2V0X2lkOw0KLSAgICAgICAgdG9wby5kaWVfaWQgPSBj
cHUtPmRpZV9pZDsNCi0gICAgICAgIHRvcG8uY29yZV9pZCA9IGNwdS0+Y29yZV9pZDsNCi0gICAg
ICAgIHRvcG8uc210X2lkID0gY3B1LT50aHJlYWRfaWQ7DQorICAgICAgICB0b3BvX2lkcy5wa2df
aWQgPSBjcHUtPnNvY2tldF9pZDsNCisgICAgICAgIHRvcG9faWRzLmRpZV9pZCA9IGNwdS0+ZGll
X2lkOw0KKyAgICAgICAgdG9wb19pZHMuY29yZV9pZCA9IGNwdS0+Y29yZV9pZDsNCisgICAgICAg
IHRvcG9faWRzLnNtdF9pZCA9IGNwdS0+dGhyZWFkX2lkOw0KICAgICAgICAgY3B1LT5hcGljX2lk
ID0gYXBpY2lkX2Zyb21fdG9wb19pZHMocGNtcy0+c21wX2RpZXMsIHNtcF9jb3JlcywNCi0gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtcF90aHJlYWRzLCAmdG9w
byk7DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXBfdGhy
ZWFkcywgJnRvcG9faWRzKTsNCiAgICAgfQ0KIA0KICAgICBjcHVfc2xvdCA9IHBjX2ZpbmRfY3B1
X3Nsb3QoTUFDSElORShwY21zKSwgY3B1LT5hcGljX2lkLCAmaWR4KTsNCkBAIC0yNDQ1LDExICsy
NDQ1LDExIEBAIHN0YXRpYyB2b2lkIHBjX2NwdV9wcmVfcGx1ZyhIb3RwbHVnSGFuZGxlciAqaG90
cGx1Z19kZXYsDQogICAgICAgICBNYWNoaW5lU3RhdGUgKm1zID0gTUFDSElORShwY21zKTsNCiAN
CiAgICAgICAgIHg4Nl90b3BvX2lkc19mcm9tX2FwaWNpZChjcHUtPmFwaWNfaWQsIHBjbXMtPnNt
cF9kaWVzLA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtcF9jb3Jlcywgc21w
X3RocmVhZHMsICZ0b3BvKTsNCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXBf
Y29yZXMsIHNtcF90aHJlYWRzLCAmdG9wb19pZHMpOw0KICAgICAgICAgZXJyb3Jfc2V0ZyhlcnJw
LA0KICAgICAgICAgICAgICJJbnZhbGlkIENQVSBbc29ja2V0OiAldSwgZGllOiAldSwgY29yZTog
JXUsIHRocmVhZDogJXVdIHdpdGgiDQogICAgICAgICAgICAgIiBBUElDIElEICUiIFBSSXUzMiAi
LCB2YWxpZCBpbmRleCByYW5nZSAwOiVkIiwNCi0gICAgICAgICAgICB0b3BvLnBrZ19pZCwgdG9w
by5kaWVfaWQsIHRvcG8uY29yZV9pZCwgdG9wby5zbXRfaWQsDQorICAgICAgICAgICAgdG9wb19p
ZHMucGtnX2lkLCB0b3BvX2lkcy5kaWVfaWQsIHRvcG9faWRzLmNvcmVfaWQsIHRvcG9faWRzLnNt
dF9pZCwNCiAgICAgICAgICAgICBjcHUtPmFwaWNfaWQsIG1zLT5wb3NzaWJsZV9jcHVzLT5sZW4g
LSAxKTsNCiAgICAgICAgIHJldHVybjsNCiAgICAgfQ0KQEAgLTI0NjcsMzQgKzI0NjcsMzQgQEAg
c3RhdGljIHZvaWQgcGNfY3B1X3ByZV9wbHVnKEhvdHBsdWdIYW5kbGVyICpob3RwbHVnX2RldiwN
CiAgICAgICogb25jZSAtc21wIHJlZmFjdG9yaW5nIGlzIGNvbXBsZXRlIGFuZCB0aGVyZSB3aWxs
IGJlIENQVSBwcml2YXRlDQogICAgICAqIENQVVN0YXRlOjpucl9jb3JlcyBhbmQgQ1BVU3RhdGU6
Om5yX3RocmVhZHMgZmllbGRzIGluc3RlYWQgb2YgZ2xvYmFscyAqLw0KICAgICB4ODZfdG9wb19p
ZHNfZnJvbV9hcGljaWQoY3B1LT5hcGljX2lkLCBwY21zLT5zbXBfZGllcywNCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIHNtcF9jb3Jlcywgc21wX3RocmVhZHMsICZ0b3BvKTsNCi0gICAg
aWYgKGNwdS0+c29ja2V0X2lkICE9IC0xICYmIGNwdS0+c29ja2V0X2lkICE9IHRvcG8ucGtnX2lk
KSB7DQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbXBfY29yZXMsIHNtcF90aHJlYWRz
LCAmdG9wb19pZHMpOw0KKyAgICBpZiAoY3B1LT5zb2NrZXRfaWQgIT0gLTEgJiYgY3B1LT5zb2Nr
ZXRfaWQgIT0gdG9wb19pZHMucGtnX2lkKSB7DQogICAgICAgICBlcnJvcl9zZXRnKGVycnAsICJw
cm9wZXJ0eSBzb2NrZXQtaWQ6ICV1IGRvZXNuJ3QgbWF0Y2ggc2V0IGFwaWMtaWQ6Ig0KLSAgICAg
ICAgICAgICIgMHgleCAoc29ja2V0LWlkOiAldSkiLCBjcHUtPnNvY2tldF9pZCwgY3B1LT5hcGlj
X2lkLCB0b3BvLnBrZ19pZCk7DQorICAgICAgICAgICAgIiAweCV4IChzb2NrZXQtaWQ6ICV1KSIs
IGNwdS0+c29ja2V0X2lkLCBjcHUtPmFwaWNfaWQsIHRvcG9faWRzLnBrZ19pZCk7DQogICAgICAg
ICByZXR1cm47DQogICAgIH0NCi0gICAgY3B1LT5zb2NrZXRfaWQgPSB0b3BvLnBrZ19pZDsNCisg
ICAgY3B1LT5zb2NrZXRfaWQgPSB0b3BvX2lkcy5wa2dfaWQ7DQogDQotICAgIGlmIChjcHUtPmRp
ZV9pZCAhPSAtMSAmJiBjcHUtPmRpZV9pZCAhPSB0b3BvLmRpZV9pZCkgew0KKyAgICBpZiAoY3B1
LT5kaWVfaWQgIT0gLTEgJiYgY3B1LT5kaWVfaWQgIT0gdG9wb19pZHMuZGllX2lkKSB7DQogICAg
ICAgICBlcnJvcl9zZXRnKGVycnAsICJwcm9wZXJ0eSBkaWUtaWQ6ICV1IGRvZXNuJ3QgbWF0Y2gg
c2V0IGFwaWMtaWQ6Ig0KLSAgICAgICAgICAgICIgMHgleCAoZGllLWlkOiAldSkiLCBjcHUtPmRp
ZV9pZCwgY3B1LT5hcGljX2lkLCB0b3BvLmRpZV9pZCk7DQorICAgICAgICAgICAgIiAweCV4IChk
aWUtaWQ6ICV1KSIsIGNwdS0+ZGllX2lkLCBjcHUtPmFwaWNfaWQsIHRvcG9faWRzLmRpZV9pZCk7
DQogICAgICAgICByZXR1cm47DQogICAgIH0NCi0gICAgY3B1LT5kaWVfaWQgPSB0b3BvLmRpZV9p
ZDsNCisgICAgY3B1LT5kaWVfaWQgPSB0b3BvX2lkcy5kaWVfaWQ7DQogDQotICAgIGlmIChjcHUt
PmNvcmVfaWQgIT0gLTEgJiYgY3B1LT5jb3JlX2lkICE9IHRvcG8uY29yZV9pZCkgew0KKyAgICBp
ZiAoY3B1LT5jb3JlX2lkICE9IC0xICYmIGNwdS0+Y29yZV9pZCAhPSB0b3BvX2lkcy5jb3JlX2lk
KSB7DQogICAgICAgICBlcnJvcl9zZXRnKGVycnAsICJwcm9wZXJ0eSBjb3JlLWlkOiAldSBkb2Vz
bid0IG1hdGNoIHNldCBhcGljLWlkOiINCi0gICAgICAgICAgICAiIDB4JXggKGNvcmUtaWQ6ICV1
KSIsIGNwdS0+Y29yZV9pZCwgY3B1LT5hcGljX2lkLCB0b3BvLmNvcmVfaWQpOw0KKyAgICAgICAg
ICAgICIgMHgleCAoY29yZS1pZDogJXUpIiwgY3B1LT5jb3JlX2lkLCBjcHUtPmFwaWNfaWQsIHRv
cG9faWRzLmNvcmVfaWQpOw0KICAgICAgICAgcmV0dXJuOw0KICAgICB9DQotICAgIGNwdS0+Y29y
ZV9pZCA9IHRvcG8uY29yZV9pZDsNCisgICAgY3B1LT5jb3JlX2lkID0gdG9wb19pZHMuY29yZV9p
ZDsNCiANCi0gICAgaWYgKGNwdS0+dGhyZWFkX2lkICE9IC0xICYmIGNwdS0+dGhyZWFkX2lkICE9
IHRvcG8uc210X2lkKSB7DQorICAgIGlmIChjcHUtPnRocmVhZF9pZCAhPSAtMSAmJiBjcHUtPnRo
cmVhZF9pZCAhPSB0b3BvX2lkcy5zbXRfaWQpIHsNCiAgICAgICAgIGVycm9yX3NldGcoZXJycCwg
InByb3BlcnR5IHRocmVhZC1pZDogJXUgZG9lc24ndCBtYXRjaCBzZXQgYXBpYy1pZDoiDQotICAg
ICAgICAgICAgIiAweCV4ICh0aHJlYWQtaWQ6ICV1KSIsIGNwdS0+dGhyZWFkX2lkLCBjcHUtPmFw
aWNfaWQsIHRvcG8uc210X2lkKTsNCisgICAgICAgICAgICAiIDB4JXggKHRocmVhZC1pZDogJXUp
IiwgY3B1LT50aHJlYWRfaWQsIGNwdS0+YXBpY19pZCwgdG9wb19pZHMuc210X2lkKTsNCiAgICAg
ICAgIHJldHVybjsNCiAgICAgfQ0KLSAgICBjcHUtPnRocmVhZF9pZCA9IHRvcG8uc210X2lkOw0K
KyAgICBjcHUtPnRocmVhZF9pZCA9IHRvcG9faWRzLnNtdF9pZDsNCiANCiAgICAgaWYgKGh5cGVy
dl9mZWF0X2VuYWJsZWQoY3B1LCBIWVBFUlZfRkVBVF9WUElOREVYKSAmJg0KICAgICAgICAgIWt2
bV9odl92cGluZGV4X3NldHRhYmxlKCkpIHsNCkBAIC0yODQwLDE0ICsyODQwLDE0IEBAIHBjX2Nw
dV9pbmRleF90b19wcm9wcyhNYWNoaW5lU3RhdGUgKm1zLCB1bnNpZ25lZCBjcHVfaW5kZXgpDQog
DQogc3RhdGljIGludDY0X3QgcGNfZ2V0X2RlZmF1bHRfY3B1X25vZGVfaWQoY29uc3QgTWFjaGlu
ZVN0YXRlICptcywgaW50IGlkeCkNCiB7DQotICAgWDg2Q1BVVG9wb0luZm8gdG9wbzsNCisgICBY
ODZDUFVUb3BvSURzIHRvcG9faWRzOw0KICAgIFBDTWFjaGluZVN0YXRlICpwY21zID0gUENfTUFD
SElORShtcyk7DQogDQogICAgYXNzZXJ0KGlkeCA8IG1zLT5wb3NzaWJsZV9jcHVzLT5sZW4pOw0K
ICAgIHg4Nl90b3BvX2lkc19mcm9tX2FwaWNpZChtcy0+cG9zc2libGVfY3B1cy0+Y3B1c1tpZHhd
LmFyY2hfaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBjbXMtPnNtcF9kaWVzLCBt
cy0+c21wLmNvcmVzLA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcy0+c21wLnRocmVh
ZHMsICZ0b3BvKTsNCi0gICByZXR1cm4gdG9wby5wa2dfaWQgJSBuYl9udW1hX25vZGVzOw0KKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBtcy0+c21wLnRocmVhZHMsICZ0b3BvX2lkcyk7DQor
ICAgcmV0dXJuIHRvcG9faWRzLnBrZ19pZCAlIG5iX251bWFfbm9kZXM7DQogfQ0KIA0KIHN0YXRp
YyBjb25zdCBDUFVBcmNoSWRMaXN0ICpwY19wb3NzaWJsZV9jcHVfYXJjaF9pZHMoTWFjaGluZVN0
YXRlICptcykNCkBAIC0yODY5LDIyICsyODY5LDIyIEBAIHN0YXRpYyBjb25zdCBDUFVBcmNoSWRM
aXN0ICpwY19wb3NzaWJsZV9jcHVfYXJjaF9pZHMoTWFjaGluZVN0YXRlICptcykNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZW9mKENQVUFyY2hJZCkgKiBtYXhfY3B1cyk7
DQogICAgIG1zLT5wb3NzaWJsZV9jcHVzLT5sZW4gPSBtYXhfY3B1czsNCiAgICAgZm9yIChpID0g
MDsgaSA8IG1zLT5wb3NzaWJsZV9jcHVzLT5sZW47IGkrKykgew0KLSAgICAgICAgWDg2Q1BVVG9w
b0luZm8gdG9wbzsNCisgICAgICAgIFg4NkNQVVRvcG9JRHMgdG9wb19pZHM7DQogDQogICAgICAg
ICBtcy0+cG9zc2libGVfY3B1cy0+Y3B1c1tpXS50eXBlID0gbXMtPmNwdV90eXBlOw0KICAgICAg
ICAgbXMtPnBvc3NpYmxlX2NwdXMtPmNwdXNbaV0udmNwdXNfY291bnQgPSAxOw0KICAgICAgICAg
bXMtPnBvc3NpYmxlX2NwdXMtPmNwdXNbaV0uYXJjaF9pZCA9IHg4Nl9jcHVfYXBpY19pZF9mcm9t
X2luZGV4KHBjbXMsIGkpOw0KICAgICAgICAgeDg2X3RvcG9faWRzX2Zyb21fYXBpY2lkKG1zLT5w
b3NzaWJsZV9jcHVzLT5jcHVzW2ldLmFyY2hfaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcGNtcy0+c21wX2RpZXMsIG1zLT5zbXAuY29yZXMsDQotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgbXMtPnNtcC50aHJlYWRzLCAmdG9wbyk7DQorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgbXMtPnNtcC50aHJlYWRzLCAmdG9wb19pZHMpOw0KICAgICAg
ICAgbXMtPnBvc3NpYmxlX2NwdXMtPmNwdXNbaV0ucHJvcHMuaGFzX3NvY2tldF9pZCA9IHRydWU7
DQotICAgICAgICBtcy0+cG9zc2libGVfY3B1cy0+Y3B1c1tpXS5wcm9wcy5zb2NrZXRfaWQgPSB0
b3BvLnBrZ19pZDsNCisgICAgICAgIG1zLT5wb3NzaWJsZV9jcHVzLT5jcHVzW2ldLnByb3BzLnNv
Y2tldF9pZCA9IHRvcG9faWRzLnBrZ19pZDsNCiAgICAgICAgIG1zLT5wb3NzaWJsZV9jcHVzLT5j
cHVzW2ldLnByb3BzLmhhc19kaWVfaWQgPSB0cnVlOw0KLSAgICAgICAgbXMtPnBvc3NpYmxlX2Nw
dXMtPmNwdXNbaV0ucHJvcHMuZGllX2lkID0gdG9wby5kaWVfaWQ7DQorICAgICAgICBtcy0+cG9z
c2libGVfY3B1cy0+Y3B1c1tpXS5wcm9wcy5kaWVfaWQgPSB0b3BvX2lkcy5kaWVfaWQ7DQogICAg
ICAgICBtcy0+cG9zc2libGVfY3B1cy0+Y3B1c1tpXS5wcm9wcy5oYXNfY29yZV9pZCA9IHRydWU7
DQotICAgICAgICBtcy0+cG9zc2libGVfY3B1cy0+Y3B1c1tpXS5wcm9wcy5jb3JlX2lkID0gdG9w
by5jb3JlX2lkOw0KKyAgICAgICAgbXMtPnBvc3NpYmxlX2NwdXMtPmNwdXNbaV0ucHJvcHMuY29y
ZV9pZCA9IHRvcG9faWRzLmNvcmVfaWQ7DQogICAgICAgICBtcy0+cG9zc2libGVfY3B1cy0+Y3B1
c1tpXS5wcm9wcy5oYXNfdGhyZWFkX2lkID0gdHJ1ZTsNCi0gICAgICAgIG1zLT5wb3NzaWJsZV9j
cHVzLT5jcHVzW2ldLnByb3BzLnRocmVhZF9pZCA9IHRvcG8uc210X2lkOw0KKyAgICAgICAgbXMt
PnBvc3NpYmxlX2NwdXMtPmNwdXNbaV0ucHJvcHMudGhyZWFkX2lkID0gdG9wb19pZHMuc210X2lk
Ow0KICAgICB9DQogICAgIHJldHVybiBtcy0+cG9zc2libGVfY3B1czsNCiB9DQpkaWZmIC0tZ2l0
IGEvaW5jbHVkZS9ody9pMzg2L3RvcG9sb2d5LmggYi9pbmNsdWRlL2h3L2kzODYvdG9wb2xvZ3ku
aA0KaW5kZXggNGZmNWIyZGE2Yy4uMDYzNzc0M2NkZiAxMDA2NDQNCi0tLSBhL2luY2x1ZGUvaHcv
aTM4Ni90b3BvbG9neS5oDQorKysgYi9pbmNsdWRlL2h3L2kzODYvdG9wb2xvZ3kuaA0KQEAgLTQ1
LDEyICs0NSwxNCBAQA0KICAqLw0KIHR5cGVkZWYgdWludDMyX3QgYXBpY19pZF90Ow0KIA0KLXR5
cGVkZWYgc3RydWN0IFg4NkNQVVRvcG9JbmZvIHsNCit0eXBlZGVmIHN0cnVjdCBYODZDUFVUb3Bv
SURzIHsNCiAgICAgdW5zaWduZWQgcGtnX2lkOw0KICAgICB1bnNpZ25lZCBkaWVfaWQ7DQogICAg
IHVuc2lnbmVkIGNvcmVfaWQ7DQogICAgIHVuc2lnbmVkIHNtdF9pZDsNCi19IFg4NkNQVVRvcG9J
bmZvOw0KKyAgICB1bnNpZ25lZCBub2RlX2lkOw0KKyAgICB1bnNpZ25lZCBjY3hfaWQ7DQorfSBY
ODZDUFVUb3BvSURzOw0KIA0KIC8qIFJldHVybiB0aGUgYml0IHdpZHRoIG5lZWRlZCBmb3IgJ2Nv
dW50JyBJRHMNCiAgKi8NCkBAIC0xMjIsMTIgKzEyNCwxMiBAQCBzdGF0aWMgaW5saW5lIHVuc2ln
bmVkIGFwaWNpZF9wa2dfb2Zmc2V0KHVuc2lnbmVkIG5yX2RpZXMsDQogc3RhdGljIGlubGluZSBh
cGljX2lkX3QgYXBpY2lkX2Zyb21fdG9wb19pZHModW5zaWduZWQgbnJfZGllcywNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBucl9jb3JlcywN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBu
cl90aHJlYWRzLA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGNvbnN0IFg4NkNQVVRvcG9JbmZvICp0b3BvKQ0KKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvbnN0IFg4NkNQVVRvcG9JRHMgKnRvcG9faWRzKQ0KIHsNCi0g
ICAgcmV0dXJuICh0b3BvLT5wa2dfaWQgIDw8IGFwaWNpZF9wa2dfb2Zmc2V0KG5yX2RpZXMsIG5y
X2NvcmVzLCBucl90aHJlYWRzKSkgfA0KLSAgICAgICAgICAgKHRvcG8tPmRpZV9pZCAgPDwgYXBp
Y2lkX2RpZV9vZmZzZXQobnJfZGllcywgbnJfY29yZXMsIG5yX3RocmVhZHMpKSB8DQotICAgICAg
ICAgICh0b3BvLT5jb3JlX2lkIDw8IGFwaWNpZF9jb3JlX29mZnNldChucl9kaWVzLCBucl9jb3Jl
cywgbnJfdGhyZWFkcykpIHwNCi0gICAgICAgICAgIHRvcG8tPnNtdF9pZDsNCisgICAgcmV0dXJu
ICh0b3BvX2lkcy0+cGtnX2lkICA8PCBhcGljaWRfcGtnX29mZnNldChucl9kaWVzLCBucl9jb3Jl
cywgbnJfdGhyZWFkcykpIHwNCisgICAgICAgICAgICh0b3BvX2lkcy0+ZGllX2lkICA8PCBhcGlj
aWRfZGllX29mZnNldChucl9kaWVzLCBucl9jb3JlcywgbnJfdGhyZWFkcykpIHwNCisgICAgICAg
ICAgICh0b3BvX2lkcy0+Y29yZV9pZCA8PCBhcGljaWRfY29yZV9vZmZzZXQobnJfZGllcywgbnJf
Y29yZXMsIG5yX3RocmVhZHMpKSB8DQorICAgICAgICAgICB0b3BvX2lkcy0+c210X2lkOw0KIH0N
CiANCiAvKiBDYWxjdWxhdGUgdGhyZWFkL2NvcmUvcGFja2FnZSBJRHMgZm9yIGEgc3BlY2lmaWMg
dG9wb2xvZ3ksDQpAQCAtMTM3LDEyICsxMzksMTIgQEAgc3RhdGljIGlubGluZSB2b2lkIHg4Nl90
b3BvX2lkc19mcm9tX2lkeCh1bnNpZ25lZCBucl9kaWVzLA0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbnJfY29yZXMsDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBucl90aHJlYWRzLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgY3B1X2luZGV4LA0KLSAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWDg2Q1BVVG9wb0luZm8gKnRv
cG8pDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYODZDUFVUb3Bv
SURzICp0b3BvX2lkcykNCiB7DQotICAgIHRvcG8tPnBrZ19pZCA9IGNwdV9pbmRleCAvIChucl9k
aWVzICogbnJfY29yZXMgKiBucl90aHJlYWRzKTsNCi0gICAgdG9wby0+ZGllX2lkID0gY3B1X2lu
ZGV4IC8gKG5yX2NvcmVzICogbnJfdGhyZWFkcykgJSBucl9kaWVzOw0KLSAgICB0b3BvLT5jb3Jl
X2lkID0gY3B1X2luZGV4IC8gbnJfdGhyZWFkcyAlIG5yX2NvcmVzOw0KLSAgICB0b3BvLT5zbXRf
aWQgPSBjcHVfaW5kZXggJSBucl90aHJlYWRzOw0KKyAgICB0b3BvX2lkcy0+cGtnX2lkID0gY3B1
X2luZGV4IC8gKG5yX2RpZXMgKiBucl9jb3JlcyAqIG5yX3RocmVhZHMpOw0KKyAgICB0b3BvX2lk
cy0+ZGllX2lkID0gY3B1X2luZGV4IC8gKG5yX2NvcmVzICogbnJfdGhyZWFkcykgJSBucl9kaWVz
Ow0KKyAgICB0b3BvX2lkcy0+Y29yZV9pZCA9IGNwdV9pbmRleCAvIG5yX3RocmVhZHMgJSBucl9j
b3JlczsNCisgICAgdG9wb19pZHMtPnNtdF9pZCA9IGNwdV9pbmRleCAlIG5yX3RocmVhZHM7DQog
fQ0KIA0KIC8qIENhbGN1bGF0ZSB0aHJlYWQvY29yZS9wYWNrYWdlIElEcyBmb3IgYSBzcGVjaWZp
YyB0b3BvbG9neSwNCkBAIC0xNTIsMTcgKzE1NCwxNyBAQCBzdGF0aWMgaW5saW5lIHZvaWQgeDg2
X3RvcG9faWRzX2Zyb21fYXBpY2lkKGFwaWNfaWRfdCBhcGljaWQsDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBucl9kaWVzLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWduZWQgbnJfY29yZXMsDQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bnNpZ25lZCBucl90
aHJlYWRzLA0KLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWDg2
Q1BVVG9wb0luZm8gKnRvcG8pDQorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBYODZDUFVUb3BvSURzICp0b3BvX2lkcykNCiB7DQotICAgIHRvcG8tPnNtdF9pZCA9
IGFwaWNpZCAmDQorICAgIHRvcG9faWRzLT5zbXRfaWQgPSBhcGljaWQgJg0KICAgICAgICAgICAg
IH4oMHhGRkZGRkZGRlVMIDw8IGFwaWNpZF9zbXRfd2lkdGgobnJfZGllcywgbnJfY29yZXMsIG5y
X3RocmVhZHMpKTsNCi0gICAgdG9wby0+Y29yZV9pZCA9DQorICAgIHRvcG9faWRzLT5jb3JlX2lk
ID0NCiAgICAgICAgICAgICAoYXBpY2lkID4+IGFwaWNpZF9jb3JlX29mZnNldChucl9kaWVzLCBu
cl9jb3JlcywgbnJfdGhyZWFkcykpICYNCiAgICAgICAgICAgICB+KDB4RkZGRkZGRkZVTCA8PCBh
cGljaWRfY29yZV93aWR0aChucl9kaWVzLCBucl9jb3JlcywgbnJfdGhyZWFkcykpOw0KLSAgICB0
b3BvLT5kaWVfaWQgPQ0KKyAgICB0b3BvX2lkcy0+ZGllX2lkID0NCiAgICAgICAgICAgICAoYXBp
Y2lkID4+IGFwaWNpZF9kaWVfb2Zmc2V0KG5yX2RpZXMsIG5yX2NvcmVzLCBucl90aHJlYWRzKSkg
Jg0KICAgICAgICAgICAgIH4oMHhGRkZGRkZGRlVMIDw8IGFwaWNpZF9kaWVfd2lkdGgobnJfZGll
cywgbnJfY29yZXMsIG5yX3RocmVhZHMpKTsNCi0gICAgdG9wby0+cGtnX2lkID0gYXBpY2lkID4+
IGFwaWNpZF9wa2dfb2Zmc2V0KG5yX2RpZXMsIG5yX2NvcmVzLCBucl90aHJlYWRzKTsNCisgICAg
dG9wb19pZHMtPnBrZ19pZCA9IGFwaWNpZCA+PiBhcGljaWRfcGtnX29mZnNldChucl9kaWVzLCBu
cl9jb3JlcywgbnJfdGhyZWFkcyk7DQogfQ0KIA0KIC8qIE1ha2UgQVBJQyBJRCBmb3IgdGhlIENQ
VSAnY3B1X2luZGV4Jw0KQEAgLTE3NCw5ICsxNzYsOSBAQCBzdGF0aWMgaW5saW5lIGFwaWNfaWRf
dCB4ODZfYXBpY2lkX2Zyb21fY3B1X2lkeCh1bnNpZ25lZCBucl9kaWVzLA0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuc2lnbmVkIG5yX3RocmVhZHMs
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5zaWdu
ZWQgY3B1X2luZGV4KQ0KIHsNCi0gICAgWDg2Q1BVVG9wb0luZm8gdG9wbzsNCi0gICAgeDg2X3Rv
cG9faWRzX2Zyb21faWR4KG5yX2RpZXMsIG5yX2NvcmVzLCBucl90aHJlYWRzLCBjcHVfaW5kZXgs
ICZ0b3BvKTsNCi0gICAgcmV0dXJuIGFwaWNpZF9mcm9tX3RvcG9faWRzKG5yX2RpZXMsIG5yX2Nv
cmVzLCBucl90aHJlYWRzLCAmdG9wbyk7DQorICAgIFg4NkNQVVRvcG9JRHMgdG9wb19pZHM7DQor
ICAgIHg4Nl90b3BvX2lkc19mcm9tX2lkeChucl9kaWVzLCBucl9jb3JlcywgbnJfdGhyZWFkcywg
Y3B1X2luZGV4LCAmdG9wb19pZHMpOw0KKyAgICByZXR1cm4gYXBpY2lkX2Zyb21fdG9wb19pZHMo
bnJfZGllcywgbnJfY29yZXMsIG5yX3RocmVhZHMsICZ0b3BvX2lkcyk7DQogfQ0KIA0KICNlbmRp
ZiAvKiBIV19JMzg2X1RPUE9MT0dZX0ggKi8NCg0K

