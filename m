Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id A5DFB67A8F7
	for <lists+qemu-devel@lfdr.de>; Wed, 25 Jan 2023 03:44:31 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1pKVkH-0006lS-SC; Tue, 24 Jan 2023 21:42:41 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pKVk9-0006ib-OF
 for qemu-devel@nongnu.org; Tue, 24 Jan 2023 21:42:34 -0500
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1pKVk5-00079R-SU
 for qemu-devel@nongnu.org; Tue, 24 Jan 2023 21:42:32 -0500
Received: from pps.filterd (m0279863.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 30P2UYe1008252; Wed, 25 Jan 2023 02:42:18 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=jahqJiDENgEiuz1F2j6oC5Ypcwa+zcZxY8SE/hZvPs8=;
 b=Q6daxx/SH3cc3xLknNlJESAN4ijpXgiheiLD9xZWDSs6T2sn+gBS+YjLesIkIJyEIm9i
 ZYQwqQO9eCFkypMXw4eyMediDzI+CVoVQKdmpDm3TYqR4hntku8QSl/eg5SIy9Q5IT9O
 CsPNo2YdKWXLpdIkGzvxkjkyvBleHnEkGiHg3wb5aDmDKKxrci+78XEJhgp1jHbrRtZp
 kcaL8aTl5RLBDtnYQoJ4Q+ypmwT3z4W4E1jwiK13fK+c6f6WYOiF3N1/e7qGoQLfR7Vn
 ov+GioEWWBhedq2BJO4/X7h66mj9LReeIMoHS+MXRSwYcav49/aZAmhpplkcsAmvaCUY hg== 
Received: from nalasppmta04.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3nasr0g54j-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Wed, 25 Jan 2023 02:42:18 +0000
Received: from pps.filterd (NALASPPMTA04.qualcomm.com [127.0.0.1])
 by NALASPPMTA04.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 30P2gH6V026524; 
 Wed, 25 Jan 2023 02:42:17 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA04.qualcomm.com (PPS) with ESMTP id 3n894kr76x-1;
 Wed, 25 Jan 2023 02:42:17 +0000
Received: from NALASPPMTA04.qualcomm.com (NALASPPMTA04.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 30P2gHHJ026514;
 Wed, 25 Jan 2023 02:42:17 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA04.qualcomm.com (PPS) with ESMTP id 30P2gHSX026505;
 Wed, 25 Jan 2023 02:42:17 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id 92946500119; Tue, 24 Jan 2023 18:42:16 -0800 (PST)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v4 12/13] Hexagon (target/hexagon) Reduce manipulation of
 slot_cancelled
Date: Tue, 24 Jan 2023 18:42:14 -0800
Message-Id: <20230125024215.10430-13-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20230125024215.10430-1-tsimpson@quicinc.com>
References: <20230125024215.10430-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: D7PPu69_8nPBpTSf1ohY0tsro_jptxE3
X-Proofpoint-ORIG-GUID: D7PPu69_8nPBpTSf1ohY0tsro_jptxE3
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.219,Aquarius:18.0.930,Hydra:6.0.562,FMLib:17.11.122.1
 definitions=2023-01-24_17,2023-01-24_01,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 spamscore=0 suspectscore=0
 mlxlogscore=625 clxscore=1015 phishscore=0 lowpriorityscore=0 adultscore=0
 priorityscore=1501 mlxscore=0 malwarescore=0 impostorscore=0 bulkscore=0
 classifier=spam adjust=0 reason=mlx scancount=1 engine=8.12.0-2212070000
 definitions=main-2301250020
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.248,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

V2Ugb25seSBuZWVkIHRvIHRyYWNrIHNsb3QgZm9yIHByZWRpY2F0ZWQgc3RvcmVzIGFuZCBwcmVk
aWNhdGVkIEhWWAppbnN0cnVjdGlvbnMuCgpBZGQgYXJndW1lbnRzIHRvIHRoZSBwcm9iZSBoZWxw
ZXIgZnVuY3Rpb25zIHRvIGluZGljYXRlIGlmIHRoZSBzbG90CmlzIHByZWRpY2F0ZWQuCgpTaWdu
ZWQtb2ZmLWJ5OiBUYXlsb3IgU2ltcHNvbiA8dHNpbXBzb25AcXVpY2luYy5jb20+Ci0tLQogdGFy
Z2V0L2hleGFnb24vbWFjcm9zLmggICAgICAgICAgICAgICAgICAgICB8ICAyICstCiB0YXJnZXQv
aGV4YWdvbi9vcF9oZWxwZXIuaCAgICAgICAgICAgICAgICAgIHwgIDEgLQogdGFyZ2V0L2hleGFn
b24vaWRlZi1wYXJzZXIvcGFyc2VyLWhlbHBlcnMuYyB8ICAxIC0KIHRhcmdldC9oZXhhZ29uL29w
X2hlbHBlci5jICAgICAgICAgICAgICAgICAgfCAyMyArKysrKysrKystLS0tLS0tLS0tCiB0YXJn
ZXQvaGV4YWdvbi90cmFuc2xhdGUuYyAgICAgICAgICAgICAgICAgIHwgMjUgKysrKysrKysrKysr
KysrKysrLS0tCiB0YXJnZXQvaGV4YWdvbi9pZGVmLXBhcnNlci9pZGVmLXBhcnNlci5sZXggIHwg
IDQgKystLQogdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvaWRlZi1wYXJzZXIueSAgICB8ICA3
ICsrKy0tLQogNyBmaWxlcyBjaGFuZ2VkLCA0MCBpbnNlcnRpb25zKCspLCAyMyBkZWxldGlvbnMo
LSkKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaCBiL3RhcmdldC9oZXhhZ29u
L21hY3Jvcy5oCmluZGV4IDhmMWY4MmY4ZGEuLmUzYjJlYTJkNDIgMTAwNjQ0Ci0tLSBhL3Rhcmdl
dC9oZXhhZ29uL21hY3Jvcy5oCisrKyBiL3RhcmdldC9oZXhhZ29uL21hY3Jvcy5oCkBAIC0yMDUs
NyArMjA1LDcgQEAgc3RhdGljIGlubGluZSB2b2lkIGdlbl9jYW5jZWwodWludDMyX3Qgc2xvdCkK
IAogI2RlZmluZSBDQU5DRUwgZ2VuX2NhbmNlbChzbG90KTsKICNlbHNlCi0jZGVmaW5lIENBTkNF
TCBjYW5jZWxfc2xvdChlbnYsIHNsb3QpCisjZGVmaW5lIENBTkNFTCBkbyB7IH0gd2hpbGUgKDAp
CiAjZW5kaWYKIAogI2RlZmluZSBMT0FEX0NBTkNFTChFQSkgZG8geyBDQU5DRUw7IH0gd2hpbGUg
KDApCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuaCBiL3RhcmdldC9oZXhh
Z29uL29wX2hlbHBlci5oCmluZGV4IDAyMzQ3ZWRlZTguLjkwNjQyMGU1YTAgMTAwNjQ0Ci0tLSBh
L3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5oCisrKyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBl
ci5oCkBAIC0xOSw3ICsxOSw2IEBACiAjZGVmaW5lIEhFWEFHT05fT1BfSEVMUEVSX0gKIAogLyog
TWlzYyBmdW5jdGlvbnMgKi8KLXZvaWQgY2FuY2VsX3Nsb3QoQ1BVSGV4YWdvblN0YXRlICplbnYs
IHVpbnQzMl90IHNsb3QpOwogdm9pZCB3cml0ZV9uZXdfcGMoQ1BVSGV4YWdvblN0YXRlICplbnYs
IGJvb2wgcGt0X2hhc19tdWx0aV9jb2YsIHRhcmdldF91bG9uZyBhZGRyKTsKIAogdWludDhfdCBt
ZW1fbG9hZDEoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsIHRhcmdldF91bG9u
ZyB2YWRkcik7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9pZGVmLXBhcnNlci9wYXJzZXIt
aGVscGVycy5jIGIvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvcGFyc2VyLWhlbHBlcnMuYwpp
bmRleCBlYjY1MmQ2YTdhLi5jNDRkM2EyMzhmIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9p
ZGVmLXBhcnNlci9wYXJzZXItaGVscGVycy5jCisrKyBiL3RhcmdldC9oZXhhZ29uL2lkZWYtcGFy
c2VyL3BhcnNlci1oZWxwZXJzLmMKQEAgLTE5MDEsNyArMTkwMSw2IEBAIHZvaWQgZ2VuX2NhbmNl
bChDb250ZXh0ICpjLCBZWUxUWVBFICpsb2NwKQogCiB2b2lkIGdlbl9sb2FkX2NhbmNlbChDb250
ZXh0ICpjLCBZWUxUWVBFICpsb2NwKQogewotICAgIGdlbl9jYW5jZWwoYywgbG9jcCk7CiAgICAg
T1VUKGMsIGxvY3AsICJpZiAoaW5zbi0+c2xvdCA9PSAwICYmIHBrdC0+cGt0X2hhc19zdG9yZV9z
MSkge1xuIik7CiAgICAgT1VUKGMsIGxvY3AsICJjdHgtPnMxX3N0b3JlX3Byb2Nlc3NlZCA9IGZh
bHNlO1xuIik7CiAgICAgT1VUKGMsIGxvY3AsICJwcm9jZXNzX3N0b3JlKGN0eCwgMSk7XG4iKTsK
ZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jIGIvdGFyZ2V0L2hleGFnb24v
b3BfaGVscGVyLmMKaW5kZXggOGRkYWQzNWRlNy4uMTU2MTlhNjQyYyAxMDA2NDQKLS0tIGEvdGFy
Z2V0L2hleGFnb24vb3BfaGVscGVyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMK
QEAgLTQxNSw5ICs0MTUsMTAgQEAgaW50MzJfdCBIRUxQRVIodmFjc2hfcHJlZCkoQ1BVSGV4YWdv
blN0YXRlICplbnYsCiAgICAgcmV0dXJuIFBlVjsKIH0KIAotc3RhdGljIHZvaWQgcHJvYmVfc3Rv
cmUoQ1BVSGV4YWdvblN0YXRlICplbnYsIGludCBzbG90LCBpbnQgbW11X2lkeCkKK3N0YXRpYyB2
b2lkIHByb2JlX3N0b3JlKENQVUhleGFnb25TdGF0ZSAqZW52LCBpbnQgc2xvdCwgaW50IG1tdV9p
ZHgsCisgICAgICAgICAgICAgICAgICAgICAgICBib29sIGlzX3ByZWRpY2F0ZWQpCiB7Ci0gICAg
aWYgKCEoZW52LT5zbG90X2NhbmNlbGxlZCAmICgxIDw8IHNsb3QpKSkgeworICAgIGlmICghaXNf
cHJlZGljYXRlZCB8fCAhKGVudi0+c2xvdF9jYW5jZWxsZWQgJiAoMSA8PCBzbG90KSkpIHsKICAg
ICAgICAgc2l6ZTF1X3Qgd2lkdGggPSBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLndpZHRoOwog
ICAgICAgICB0YXJnZXRfdWxvbmcgdmEgPSBlbnYtPm1lbV9sb2dfc3RvcmVzW3Nsb3RdLnZhOwog
ICAgICAgICB1aW50cHRyX3QgcmEgPSBHRVRQQygpOwpAQCAtNDM3LDkgKzQzOCwxMSBAQCB2b2lk
IEhFTFBFUihwcm9iZV9ub3NodWZfbG9hZCkoQ1BVSGV4YWdvblN0YXRlICplbnYsIHRhcmdldF91
bG9uZyB2YSwKIH0KIAogLyogQ2FsbGVkIGR1cmluZyBwYWNrZXQgY29tbWl0IHdoZW4gdGhlcmUg
YXJlIHR3byBzY2FsYXIgc3RvcmVzICovCi12b2lkIEhFTFBFUihwcm9iZV9wa3Rfc2NhbGFyX3N0
b3JlX3MwKShDUFVIZXhhZ29uU3RhdGUgKmVudiwgaW50IG1tdV9pZHgpCit2b2lkIEhFTFBFUihw
cm9iZV9wa3Rfc2NhbGFyX3N0b3JlX3MwKShDUFVIZXhhZ29uU3RhdGUgKmVudiwgaW50IGFyZ3Mp
CiB7Ci0gICAgcHJvYmVfc3RvcmUoZW52LCAwLCBtbXVfaWR4KTsKKyAgICBpbnQgbW11X2lkeCA9
IGFyZ3MgJiAweDM7CisgICAgYm9vbCBpc19wcmVkaWNhdGVkID0gKGFyZ3MgPj4gMikgJiAxOwor
ICAgIHByb2JlX3N0b3JlKGVudiwgMCwgbW11X2lkeCwgaXNfcHJlZGljYXRlZCk7CiB9CiAKIHZv
aWQgSEVMUEVSKHByb2JlX2h2eF9zdG9yZXMpKENQVUhleGFnb25TdGF0ZSAqZW52LCBpbnQgbW11
X2lkeCkKQEAgLTQ4OSwxMiArNDkyLDE0IEBAIHZvaWQgSEVMUEVSKHByb2JlX3BrdF9zY2FsYXJf
aHZ4X3N0b3JlcykoQ1BVSGV4YWdvblN0YXRlICplbnYsIGludCBtYXNrLAogICAgIGJvb2wgaGFz
X3N0MCAgICAgICAgPSAobWFzayA+PiAwKSAmIDE7CiAgICAgYm9vbCBoYXNfc3QxICAgICAgICA9
IChtYXNrID4+IDEpICYgMTsKICAgICBib29sIGhhc19odnhfc3RvcmVzID0gKG1hc2sgPj4gMikg
JiAxOworICAgIGJvb2wgczBfaXNfcHJlZCAgICAgPSAobWFzayA+PiAzKSAmIDE7CisgICAgYm9v
bCBzMV9pc19wcmVkICAgICA9IChtYXNrID4+IDQpICYgMTsKIAogICAgIGlmIChoYXNfc3QwKSB7
Ci0gICAgICAgIHByb2JlX3N0b3JlKGVudiwgMCwgbW11X2lkeCk7CisgICAgICAgIHByb2JlX3N0
b3JlKGVudiwgMCwgbW11X2lkeCwgczBfaXNfcHJlZCk7CiAgICAgfQogICAgIGlmIChoYXNfc3Qx
KSB7Ci0gICAgICAgIHByb2JlX3N0b3JlKGVudiwgMSwgbW11X2lkeCk7CisgICAgICAgIHByb2Jl
X3N0b3JlKGVudiwgMSwgbW11X2lkeCwgczFfaXNfcHJlZCk7CiAgICAgfQogICAgIGlmIChoYXNf
aHZ4X3N0b3JlcykgewogICAgICAgICBIRUxQRVIocHJvYmVfaHZ4X3N0b3JlcykoZW52LCBtbXVf
aWR4KTsKQEAgLTEzOTksMTIgKzE0MDQsNiBAQCB2b2lkIEhFTFBFUih2d2hpc3QxMjhxbSkoQ1BV
SGV4YWdvblN0YXRlICplbnYsIGludDMyX3QgdWlWKQogICAgIH0KIH0KIAotdm9pZCBjYW5jZWxf
c2xvdChDUFVIZXhhZ29uU3RhdGUgKmVudiwgdWludDMyX3Qgc2xvdCkKLXsKLSAgICBIRVhfREVC
VUdfTE9HKCJTbG90ICVkIGNhbmNlbGxlZFxuIiwgc2xvdCk7Ci0gICAgZW52LT5zbG90X2NhbmNl
bGxlZCB8PSAoMSA8PCBzbG90KTsKLX0KLQogLyogVGhlc2UgbWFjcm9zIGNhbiBiZSByZWZlcmVu
Y2VkIGluIHRoZSBnZW5lcmF0ZWQgaGVscGVyIGZ1bmN0aW9ucyAqLwogI2RlZmluZSB3YXJuKC4u
LikgLyogTm90aGluZyAqLwogI2RlZmluZSBmYXRhbCguLi4pIGdfYXNzZXJ0X25vdF9yZWFjaGVk
KCk7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYyBiL3RhcmdldC9oZXhh
Z29uL3RyYW5zbGF0ZS5jCmluZGV4IDMwYTA2YmQ0NDIuLjhhYzFmNWNhYmMgMTAwNjQ0Ci0tLSBh
L3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCisrKyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0
ZS5jCkBAIC0yNDcsNyArMjQ3LDE2IEBAIHN0YXRpYyBib29sIGNoZWNrX2Zvcl9hdHRyaWIoUGFj
a2V0ICpwa3QsIGludCBhdHRyaWIpCiAKIHN0YXRpYyBib29sIG5lZWRfc2xvdF9jYW5jZWxsZWQo
UGFja2V0ICpwa3QpCiB7Ci0gICAgcmV0dXJuIGNoZWNrX2Zvcl9hdHRyaWIocGt0LCBBX0NPTkRF
WEVDKTsKKyAgICAvKiBXZSBvbmx5IG5lZWQgc2xvdF9jYW5jZWxsZWQgZm9yIGNvbmRpdGlvbmFs
IHN0b3JlIGFuZCBIVlggaW5zdHJ1Y3Rpb25zICovCisgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBw
a3QtPm51bV9pbnNuczsgaSsrKSB7CisgICAgICAgIHVpbnQxNl90IG9wY29kZSA9IHBrdC0+aW5z
bltpXS5vcGNvZGU7CisgICAgICAgIGlmIChHRVRfQVRUUklCKG9wY29kZSwgQV9DT05ERVhFQykg
JiYKKyAgICAgICAgICAgIChHRVRfQVRUUklCKG9wY29kZSwgQV9TVE9SRSkgfHwKKyAgICAgICAg
ICAgICBHRVRfQVRUUklCKG9wY29kZSwgQV9DVkkpKSkgeworICAgICAgICAgICAgcmV0dXJuIHRy
dWU7CisgICAgICAgIH0KKyAgICB9CisgICAgcmV0dXJuIGZhbHNlOwogfQogCiBzdGF0aWMgYm9v
bCBuZWVkX3ByZWRfd3JpdHRlbihQYWNrZXQgKnBrdCkKQEAgLTg1NCw2ICs4NjMsMTIgQEAgc3Rh
dGljIHZvaWQgZ2VuX2NvbW1pdF9wYWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiAgICAgICAgICAg
ICBpZiAoaGFzX2h2eF9zdG9yZSkgewogICAgICAgICAgICAgICAgIG1hc2sgfD0gKDEgPDwgMik7
CiAgICAgICAgICAgICB9CisgICAgICAgICAgICBpZiAoaGFzX3N0b3JlX3MwICYmIHNsb3RfaXNf
cHJlZGljYXRlZChwa3QsIDApKSB7CisgICAgICAgICAgICAgICAgbWFzayB8PSAoMSA8PCAzKTsK
KyAgICAgICAgICAgIH0KKyAgICAgICAgICAgIGlmIChoYXNfc3RvcmVfczEgJiYgc2xvdF9pc19w
cmVkaWNhdGVkKHBrdCwgMSkpIHsKKyAgICAgICAgICAgICAgICBtYXNrIHw9ICgxIDw8IDQpOwor
ICAgICAgICAgICAgfQogICAgICAgICAgICAgbWFza190Y2d2ID0gdGNnX2NvbnN0YW50X3RsKG1h
c2spOwogICAgICAgICAgICAgZ2VuX2hlbHBlcl9wcm9iZV9wa3Rfc2NhbGFyX2h2eF9zdG9yZXMo
Y3B1X2VudiwgbWFza190Y2d2LCBtZW1faWR4KTsKICAgICAgICAgfQpAQCAtODYyLDggKzg3Nywx
MiBAQCBzdGF0aWMgdm9pZCBnZW5fY29tbWl0X3BhY2tldChEaXNhc0NvbnRleHQgKmN0eCkKICAg
ICAgICAgICogcHJvY2Vzc19zdG9yZV9sb2cgd2lsbCBleGVjdXRlIHRoZSBzbG90IDEgc3RvcmUg
Zmlyc3QsCiAgICAgICAgICAqIHNvIHdlIG9ubHkgaGF2ZSB0byBwcm9iZSB0aGUgc3RvcmUgaW4g
c2xvdCAwCiAgICAgICAgICAqLwotICAgICAgICBUQ0d2IG1lbV9pZHggPSB0Y2dfY29uc3RhbnRf
dGwoY3R4LT5tZW1faWR4KTsKLSAgICAgICAgZ2VuX2hlbHBlcl9wcm9iZV9wa3Rfc2NhbGFyX3N0
b3JlX3MwKGNwdV9lbnYsIG1lbV9pZHgpOworICAgICAgICBpbnQgYXJncyA9IGN0eC0+bWVtX2lk
eDsKKyAgICAgICAgaWYgKHNsb3RfaXNfcHJlZGljYXRlZChwa3QsIDApKSB7CisgICAgICAgICAg
ICBhcmdzIHw9ICgxIDw8IDIpOworICAgICAgICB9CisgICAgICAgIFRDR3YgYXJnc190Y2d2ID0g
dGNnX2NvbnN0YW50X3RsKGFyZ3MpOworICAgICAgICBnZW5faGVscGVyX3Byb2JlX3BrdF9zY2Fs
YXJfc3RvcmVfczAoY3B1X2VudiwgYXJnc190Y2d2KTsKICAgICB9CiAKICAgICBwcm9jZXNzX3N0
b3JlX2xvZyhjdHgpOwpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvaWRl
Zi1wYXJzZXIubGV4IGIvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvaWRlZi1wYXJzZXIubGV4
CmluZGV4IGZmODdhMDJjM2EuLjExYTMyN2MyNTkgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29u
L2lkZWYtcGFyc2VyL2lkZWYtcGFyc2VyLmxleAorKysgYi90YXJnZXQvaGV4YWdvbi9pZGVmLXBh
cnNlci9pZGVmLXBhcnNlci5sZXgKQEAgLTUsNyArNSw3IEBACiAKICV7CiAvKgotICogIENvcHly
aWdodChjKSAyMDE5LTIwMjIgcmV2Lm5nIExhYnMgU3JsLiBBbGwgUmlnaHRzIFJlc2VydmVkLgor
ICogIENvcHlyaWdodChjKSAyMDE5LTIwMjMgcmV2Lm5nIExhYnMgU3JsLiBBbGwgUmlnaHRzIFJl
c2VydmVkLgogICoKICAqICBUaGlzIHByb2dyYW0gaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiBy
ZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogICogIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0
aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5CkBAIC0zMTksNyAr
MzE5LDcgQEAgU1RSSU5HX0xJVCAgICAgICAgICAgICAgIFwiKFxcLnxbXiJcXF0pKlwiCiAiZkdF
VF9MUENGRyIgICAgICAgICAgICAgfAogIlVTUi5MUENGRyIgICAgICAgICAgICAgIHsgcmV0dXJu
IExQQ0ZHOyB9CiAiTE9BRF9DQU5DRUwoRUEpIiAgICAgICAgeyByZXR1cm4gTE9BRF9DQU5DRUw7
IH0KLSJTVE9SRV9DQU5DRUwoRUEpIiAgICAgICB8CisiU1RPUkVfQ0FOQ0VMKEVBKSIgICAgICAg
eyByZXR1cm4gU1RPUkVfQ0FOQ0VMOyB9CiAiQ0FOQ0VMIiAgICAgICAgICAgICAgICAgeyByZXR1
cm4gQ0FOQ0VMOyB9CiAiTiJ7TE9XRVJfSUR9Ik4iICAgICAgICAgeyB5eWx2YWwtPnJ2YWx1ZS50
eXBlID0gUkVHSVNURVJfQVJHOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgeXlsdmFsLT5y
dmFsdWUucmVnLnR5cGUgPSBET1RORVc7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9pZGVm
LXBhcnNlci9pZGVmLXBhcnNlci55IGIvdGFyZ2V0L2hleGFnb24vaWRlZi1wYXJzZXIvaWRlZi1w
YXJzZXIueQppbmRleCBjMTRjYjM5NTAwLi5jMGJhZjE2ZWM0IDEwMDY0NAotLS0gYS90YXJnZXQv
aGV4YWdvbi9pZGVmLXBhcnNlci9pZGVmLXBhcnNlci55CisrKyBiL3RhcmdldC9oZXhhZ29uL2lk
ZWYtcGFyc2VyL2lkZWYtcGFyc2VyLnkKQEAgLTEsNiArMSw2IEBACiAlewogLyoKLSAqICBDb3B5
cmlnaHQoYykgMjAxOS0yMDIyIHJldi5uZyBMYWJzIFNybC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4K
KyAqICBDb3B5cmlnaHQoYykgMjAxOS0yMDIzIHJldi5uZyBMYWJzIFNybC4gQWxsIFJpZ2h0cyBS
ZXNlcnZlZC4KICAqCiAgKiAgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3Bl
IHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsCiAgKiAgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3
aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKQEAgLTUzLDcgKzUzLDcgQEAKICV0
b2tlbiBBQlMgQ1JPVU5EIFJPVU5EIENJUkNBREQgQ09VTlRPTkVTIElOQyBERUMgQU5EQSBPUkEg
WE9SQSBQTFVTUExVUyBBU0wKICV0b2tlbiBBU1IgTFNSIEVRIE5FUSBMVEUgR1RFIE1JTiBNQVgg
QU5ETCBGT1IgSUNJUkMgSUYgTVVOIEZTQ1IgRkNISyBTWFQKICV0b2tlbiBaWFQgQ09OU1RFWFQg
TE9DTlQgQlJFViBTSUdOIExPQUQgU1RPUkUgUEMgTlBDIExQQ0ZHCi0ldG9rZW4gTE9BRF9DQU5D
RUwgQ0FOQ0VMIElERU5USVRZIFBBUlQxIFJPVEwgSU5TQklUUyBTRVRCSVRTIEVYVFJBTkdFCisl
dG9rZW4gTE9BRF9DQU5DRUwgU1RPUkVfQ0FOQ0VMIENBTkNFTCBJREVOVElUWSBQQVJUMSBST1RM
IElOU0JJVFMgU0VUQklUUyBFWFRSQU5HRQogJXRva2VuIENBU1Q0XzhVIEZBSUwgQ0FSUllfRlJP
TV9BREQgQUREU0FUNjQgTFNCTkVXCiAldG9rZW4gVFlQRV9TSVpFX1QgVFlQRV9JTlQgVFlQRV9T
SUdORUQgVFlQRV9VTlNJR05FRCBUWVBFX0xPTkcKIApAQCAtNDMxLDEwICs0MzEsMTEgQEAgY2Fu
Y2VsX3N0YXRlbWVudCA6IExPQURfQ0FOQ0VMCiAgICAgICAgICAgICAgICAgICAgewogICAgICAg
ICAgICAgICAgICAgICAgICBnZW5fbG9hZF9jYW5jZWwoYywgJkAxKTsKICAgICAgICAgICAgICAg
ICAgICB9Ci0gICAgICAgICAgICAgICAgIHwgQ0FOQ0VMCisgICAgICAgICAgICAgICAgIHwgU1RP
UkVfQ0FOQ0VMCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBn
ZW5fY2FuY2VsKGMsICZAMSk7CiAgICAgICAgICAgICAgICAgICAgfQorICAgICAgICAgICAgICAg
ICB8IENBTkNFTAogICAgICAgICAgICAgICAgICA7CiAKIGlmX3N0YXRlbWVudCA6IGlmX3N0bXQK
LS0gCjIuMTcuMQoK

