Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 6328B21309E
	for <lists+qemu-devel@lfdr.de>; Fri,  3 Jul 2020 02:51:09 +0200 (CEST)
Received: from localhost ([::1]:47218 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1jr9v2-0001P1-EV
	for lists+qemu-devel@lfdr.de; Thu, 02 Jul 2020 20:51:08 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:44972)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1)
 (envelope-from <prvs=446c5dbe3=Dmitry.Fomichev@wdc.com>)
 id 1jr9pV-0000vi-Lx; Thu, 02 Jul 2020 20:45:25 -0400
Received: from esa5.hgst.iphmx.com ([216.71.153.144]:1488)
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1)
 (envelope-from <prvs=446c5dbe3=Dmitry.Fomichev@wdc.com>)
 id 1jr9pS-0006dA-Ng; Thu, 02 Jul 2020 20:45:25 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=wdc.com; i=@wdc.com; q=dns/txt; s=dkim.wdc.com;
 t=1593737123; x=1625273123;
 h=from:to:cc:subject:date:message-id:references:
 in-reply-to:content-id:content-transfer-encoding: mime-version;
 bh=jvFMP2rHl6mmXQaL+HqsNWETj/Aft4pBK6FtOWx0JKc=;
 b=BSF2uwW5g8f9CpZIDM+E5+hV5FBxXgL3Z1fwW910WV54yTgD6tqWgqhS
 6Qd0hq0sMvz2iL7fzZyh87R9T/qjGXHnppNRsDYfXfVv80BkY3b8gzO/Y
 07Yh2rZlkCejxQpkis3OHiTo66L1sq7lsfCBWOr8mgJFuWO5BulkQjHM3
 hIfFyW9vOYUBEFuZOJSOv1OchMspnH8HGE0OM95Z8hzj6yRoDg3Ofm+hc
 H0QlS18Ll9x9OTQTgIgJOoD5amrLkLCgqNAH0C0tPjyUy2c3FpB2Pl2xK
 lE/MA4r1lHWVxBQA+Zp4XdU1LhA6pxuJox3D5IhADReaHAzKpFgEOwQNI Q==;
IronPort-SDR: 7LKBZ0YJhwmG+vmF21aiAsMSCUNpSMLZ8+vVK7T6cVyZCTADjnd+bGQ7MsFPqQF1X7eIdiSynx
 QPqIRFMoIEVTS3Co+9XR8iw595cIm3AOBQmHVfsoarxqRaDPUxAb7aqg3W+JfHxw2poCeCQ1VR
 cje40cgDto8Mqlu9w8dYAUPh9bHcIAColSDlol7i9krtu1E5xGxKdElLnXgjc+YeFPU0wxx0WI
 J6jQdHlT0TZqHNROQVMdCLzz2tM8OQubfjHxuxCEFdK+/zhWK91XmRJCu3KMKEynSHDEpfhWDJ
 2ko=
X-IronPort-AV: E=Sophos;i="5.75,306,1589212800"; d="scan'208";a="141727581"
Received: from mail-bn8nam11lp2169.outbound.protection.outlook.com (HELO
 NAM11-BN8-obe.outbound.protection.outlook.com) ([104.47.58.169])
 by ob1.hgst.iphmx.com with ESMTP; 03 Jul 2020 08:45:20 +0800
ARC-Seal: i=1; a=rsa-sha256; s=arcselector9901; d=microsoft.com; cv=none;
 b=U5NkUJJrfq8NK6dPuBAL7CTwzC0GGT22g01Qd5RjqSu749XtAYh44m/n29phlEBopDunvQnnQKQLTqH1frPjPJDkCfYCkC0WlqV2k5DacgDlMtsaSszMxgoX/X54HPylLXxAYcZkjxAMykAFiam6oY+KBotQK0E/Thi0bGp2KyqYDZkS+gt1Ni38aG81/fqElgOjQyyqXvqDmVAkXfAX91zP3wzP+5pfdNvyt6WfhQCa02EvgAl1IGnZiGmClG5RP6SUxYPWPmpaAr7Lqm7pfPeiG4kMB2BOJkcL5UWtzyUABUjIdxFMy96XZe5zxETUV7wvsY3af7Sy6hzNvPXvCw==
ARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=microsoft.com; 
 s=arcselector9901;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=jvFMP2rHl6mmXQaL+HqsNWETj/Aft4pBK6FtOWx0JKc=;
 b=AghQlKvuQliZsjSKyk1J457MXeCJk3DZGiFmnDKXjvBW3zk4rIDO+znSHQLjpU6Ob77RIzo+5mU2xgzZsyKtYMKEsIXnBeWdGkiWxhc4E81GNEEQdF+Ig6qSDk7OGLdEUw8L6/tFd9wZv3fg+ZV4lbYEJWb3Xm9u7o1SeBSwE1OVfnUulCxNX4w5Iq41KJ9NaEDl0dYXeZD2exbfKG7erWcp6rP13ABkIL6Iunz5VvpRWhf164+Mlo/0c8KFuv/h6zYBEhfawdHmUoFIVQEOgGNVnuHlsgpIRqrjn6ZwZbAtRtMETUzaJUInMi/lyr3IATzoZWfP0TlrUPQpIgXlnA==
ARC-Authentication-Results: i=1; mx.microsoft.com 1; spf=pass
 smtp.mailfrom=wdc.com; dmarc=pass action=none header.from=wdc.com; dkim=pass
 header.d=wdc.com; arc=none
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=sharedspace.onmicrosoft.com; s=selector2-sharedspace-onmicrosoft-com;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=jvFMP2rHl6mmXQaL+HqsNWETj/Aft4pBK6FtOWx0JKc=;
 b=Vmzi6AqH637J6i9ajLq6VmBzOlYmgaS1LQZ6nRZoL0cn4EPfV4mkd3NZ48eKPNkFR7cxx2rxq0kkER5UFB9XHM9RS5M7GAaHLf2OSyrRD+SKsN5lL8LG29p2Q8ID8J7RaqSi78iVfNE07j5xkp6LkKI7FW5Oit++sPrzNm5UWQg=
Received: from MN2PR04MB5951.namprd04.prod.outlook.com (2603:10b6:208:3f::13)
 by MN2PR04MB5552.namprd04.prod.outlook.com (2603:10b6:208:de::24)
 with Microsoft SMTP Server (version=TLS1_2,
 cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id 15.20.3153.27; Fri, 3 Jul
 2020 00:45:19 +0000
Received: from MN2PR04MB5951.namprd04.prod.outlook.com
 ([fe80::60c5:4424:8ce4:59a9]) by MN2PR04MB5951.namprd04.prod.outlook.com
 ([fe80::60c5:4424:8ce4:59a9%5]) with mapi id 15.20.3153.023; Fri, 3 Jul 2020
 00:45:19 +0000
From: Dmitry Fomichev <Dmitry.Fomichev@wdc.com>
To: "its@irrelevant.dk" <its@irrelevant.dk>, "qemu-block@nongnu.org"
 <qemu-block@nongnu.org>
Subject: Re: [PATCH 07/17] hw/block/nvme: add support for the asynchronous
 event request command
Thread-Topic: [PATCH 07/17] hw/block/nvme: add support for the asynchronous
 event request command
Thread-Index: AQHWTkPlgedjqmcqSE2oR/ou+/kIdqj1CeoA
Date: Fri, 3 Jul 2020 00:45:18 +0000
Message-ID: <ea0a1775c419f06a074fdc3756231275316ea0cd.camel@wdc.com>
References: <20200629182642.1170387-1-its@irrelevant.dk>
 <20200629182642.1170387-8-its@irrelevant.dk>
In-Reply-To: <20200629182642.1170387-8-its@irrelevant.dk>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
user-agent: Evolution 3.32.5 (3.32.5-1.fc30) 
authentication-results: irrelevant.dk; dkim=none (message not signed)
 header.d=none;irrelevant.dk; dmarc=none action=none header.from=wdc.com;
x-originating-ip: [173.70.233.156]
x-ms-publictraffictype: Email
x-ms-office365-filtering-ht: Tenant
x-ms-office365-filtering-correlation-id: 2694fae5-2207-40de-21b5-08d81eea5c31
x-ms-traffictypediagnostic: MN2PR04MB5552:
x-microsoft-antispam-prvs: <MN2PR04MB55523D9DA02830B916C2C645E16A0@MN2PR04MB5552.namprd04.prod.outlook.com>
wdcipoutbound: EOP-TRUE
x-ms-oob-tlc-oobclassifiers: OLM:10000;
x-forefront-prvs: 045315E1EE
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam: BCL:0;
x-microsoft-antispam-message-info: r/Ilsek5cIp+a+LVWqbLFHkapRVPFsFQqQoMaOmEbAYmmYMArSYFVZHCppqxrBMXUCoeDUdhJMZbJy4fyZbZTnkeo/KRFzM5FfSYBGjS77wgCZk4fq2E5IA3O0uZ7CKHY5e+VW++w/b4ylYki/3NwnC3VMlKkO1xssAk11RoDY8Nf7e6YpUSOg9oq6ercO8FmDTeEgm018GgsaMFDTfBdLF71zlmaMQU0Z169zdHvwyWOukiFCx3l3qX0zCvWvUayXB7tijqQi091n8jAGhGna8jA/ZZGNRBgfhqZCUiPDTlvyQb6X+FYoTPfnsVCdXN
x-forefront-antispam-report: CIP:255.255.255.255; CTRY:; LANG:en; SCL:1; SRV:;
 IPV:NLI; SFV:NSPM; H:MN2PR04MB5951.namprd04.prod.outlook.com; PTR:; CAT:NONE;
 SFTY:;
 SFS:(4636009)(366004)(396003)(346002)(376002)(39860400002)(136003)(4326008)(186003)(76116006)(2616005)(83380400001)(6486002)(6512007)(110136005)(66946007)(66476007)(66446008)(54906003)(64756008)(66556008)(36756003)(71200400001)(8936002)(26005)(30864003)(86362001)(316002)(5660300002)(2906002)(8676002)(45080400002)(478600001)(6506007);
 DIR:OUT; SFP:1102; 
x-ms-exchange-antispam-messagedata: vtj70c7J740gTDOP3FQX1LwYCCfooiRTkCmzeRpGjkpBA+XRboKYpJzYmSmueQKtd+ceQFuAfzZ2/MsKl6B2img2oqqHMfUdKCjBiUhY0VJ5xXFy/R5/uweANu/MYNIFTNPueongwDu+f1+JRup6wnJv3P6hrBXcciJK4KzGNB/fy+MDeu7WZs86FmlKiR7Cyl+vnrci6U7MBMPmMEOVLNffMzHoetID4vlkrzv7D+8nRUzB0kTfORjueyCHCEbfxWbjizk5guRgO45iZjVfl9KZAfEuXW7vZL0rRc8/Qow7jwaop971+5hXRWEtVKNaeVbmLQXGwzhAmbgdOVTmnK8QIID8Q1qIEfpctLPR1v51FLzCoXxglHX3zPU1G5zkdh9HEJVmE5+C21RH8bhrHCl23a7JokZqgLT5dr+kgkPKGCbBUtn/QCMJR3lskS6dBd+N3itwOEBG0GF7gSuKwG+PX9O7H1INKU3ediwn9tkhHkI4g8L2vbl0Ne4DVgKi
x-ms-exchange-transport-forked: True
Content-Type: text/plain; charset="utf-8"
Content-ID: <438CE9DE58C90B4B8EB6AE2D9277E306@namprd04.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: wdc.com
X-MS-Exchange-CrossTenant-AuthAs: Internal
X-MS-Exchange-CrossTenant-AuthSource: MN2PR04MB5951.namprd04.prod.outlook.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 2694fae5-2207-40de-21b5-08d81eea5c31
X-MS-Exchange-CrossTenant-originalarrivaltime: 03 Jul 2020 00:45:18.8860 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: b61c8803-16f3-4c35-9b17-6f65f441df86
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: kRJkc9/ETUwttsktXtLW1O1YKrpBFJGlKXjXkB5RyE6fRKTdVt++IMA562wjvNdfGMqkIzWXhJNMTEq+PExBDA==
X-MS-Exchange-Transport-CrossTenantHeadersStamped: MN2PR04MB5552
Received-SPF: pass client-ip=216.71.153.144;
 envelope-from=prvs=446c5dbe3=Dmitry.Fomichev@wdc.com; helo=esa5.hgst.iphmx.com
X-detected-operating-system: by eggs.gnu.org: First seen = 2020/07/02 20:44:41
X-ACL-Warn: Detected OS   = FreeBSD 9.x or newer [fuzzy]
X-Spam_score_int: -43
X-Spam_score: -4.4
X-Spam_bar: ----
X-Spam_report: (-4.4 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, DKIM_VALID_EF=-0.1,
 RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_PASS=-0.001, SPF_PASS=-0.001,
 URIBL_BLOCKED=0.001 autolearn=_AUTOLEARN
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: "kwolf@redhat.com" <kwolf@redhat.com>,
 "kbusch@kernel.org" <kbusch@kernel.org>,
 "k.jensen@samsung.com" <k.jensen@samsung.com>,
 "qemu-devel@nongnu.org" <qemu-devel@nongnu.org>,
 "mreitz@redhat.com" <mreitz@redhat.com>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

TG9va3MgZ29vZCwNCg0KUmV2aWV3ZWQtYnk6IERtaXRyeSBGb21pY2hldiA8ZG1pdHJ5LmZvbWlj
aGV2QHdkYy5jb20+DQoNCk9uIE1vbiwgMjAyMC0wNi0yOSBhdCAyMDoyNiArMDIwMCwgS2xhdXMg
SmVuc2VuIHdyb3RlOg0KPiBGcm9tOiBLbGF1cyBKZW5zZW4gPGsuamVuc2VuQHNhbXN1bmcuY29t
Pg0KPiANCj4gQWRkIHN1cHBvcnQgZm9yIHRoZSBBc3luY2hyb25vdXMgRXZlbnQgUmVxdWVzdCBj
b21tYW5kLiBSZXF1aXJlZCBmb3INCj4gY29tcGxpYW5jZSB3aXRoIE5WTWUgcmV2aXNpb24gMS4z
ZC4gU2VlIE5WTSBFeHByZXNzIDEuM2QsIFNlY3Rpb24gNS4yDQo+ICgiQXN5bmNocm9ub3VzIEV2
ZW50IFJlcXVlc3QgY29tbWFuZCIpLg0KPiANCj4gTW9zdGx5IGltcG9ydGVkIGZyb20gS2VpdGgn
cyBxZW11LW52bWUgdHJlZS4gTW9kaWZpZWQgd2l0aCBhIG1heCBudW1iZXINCj4gb2YgcXVldWVk
IGV2ZW50cyAoY29udHJvbGxhYmxlIHdpdGggdGhlIGFlcl9tYXhfcXVldWVkIGRldmljZQ0KPiBw
YXJhbWV0ZXIpLiBUaGUgc3BlYyBzdGF0ZXMgdGhhdCB0aGUgY29udHJvbGxlciAqc2hvdWxkKiBy
ZXRhaW4NCj4gZXZlbnRzLCBzbyB3ZSBkbyBiZXN0IGVmZm9ydCBoZXJlLg0KPiANCj4gU2lnbmVk
LW9mZi1ieTogS2xhdXMgSmVuc2VuIDxrbGF1cy5qZW5zZW5AY25leGxhYnMuY29tPg0KPiBTaWdu
ZWQtb2ZmLWJ5OiBLbGF1cyBKZW5zZW4gPGsuamVuc2VuQHNhbXN1bmcuY29tPg0KPiBBY2tlZC1i
eTogS2VpdGggQnVzY2ggPGtidXNjaEBrZXJuZWwub3JnPg0KPiBSZXZpZXdlZC1ieTogTWF4aW0g
TGV2aXRza3kgPG1sZXZpdHNrQHJlZGhhdC5jb20+DQo+IC0tLQ0KPiAgaHcvYmxvY2svbnZtZS5j
ICAgICAgIHwgMTgwICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLQ0K
PiAgaHcvYmxvY2svbnZtZS5oICAgICAgIHwgIDEwICsrLQ0KPiAgaHcvYmxvY2svdHJhY2UtZXZl
bnRzIHwgICA5ICsrKw0KPiAgaW5jbHVkZS9ibG9jay9udm1lLmggIHwgICA4ICstDQo+ICA0IGZp
bGVzIGNoYW5nZWQsIDE5OCBpbnNlcnRpb25zKCspLCA5IGRlbGV0aW9ucygtKQ0KPiANCj4gZGlm
ZiAtLWdpdCBhL2h3L2Jsb2NrL252bWUuYyBiL2h3L2Jsb2NrL252bWUuYw0KPiBpbmRleCBmZTVk
MDUyYWIxNTkuLjM5ZTY4MGExNWM1NiAxMDA2NDQNCj4gLS0tIGEvaHcvYmxvY2svbnZtZS5jDQo+
ICsrKyBiL2h3L2Jsb2NrL252bWUuYw0KPiBAQCAtMzQyLDYgKzM0Miw4NSBAQCBzdGF0aWMgdm9p
ZCBudm1lX2VucXVldWVfcmVxX2NvbXBsZXRpb24oTnZtZUNRdWV1ZSAqY3EsIE52bWVSZXF1ZXN0
ICpyZXEpDQo+ICAgICAgdGltZXJfbW9kKGNxLT50aW1lciwgcWVtdV9jbG9ja19nZXRfbnMoUUVN
VV9DTE9DS19WSVJUVUFMKSArIDUwMCk7DQo+ICB9DQo+ICANCj4gK3N0YXRpYyB2b2lkIG52bWVf
cHJvY2Vzc19hZXJzKHZvaWQgKm9wYXF1ZSkNCj4gK3sNCj4gKyAgICBOdm1lQ3RybCAqbiA9IG9w
YXF1ZTsNCj4gKyAgICBOdm1lQXN5bmNFdmVudCAqZXZlbnQsICpuZXh0Ow0KPiArDQo+ICsgICAg
dHJhY2VfcGNpX252bWVfcHJvY2Vzc19hZXJzKG4tPmFlcl9xdWV1ZWQpOw0KPiArDQo+ICsgICAg
UVRBSUxRX0ZPUkVBQ0hfU0FGRShldmVudCwgJm4tPmFlcl9xdWV1ZSwgZW50cnksIG5leHQpIHsN
Cj4gKyAgICAgICAgTnZtZVJlcXVlc3QgKnJlcTsNCj4gKyAgICAgICAgTnZtZUFlclJlc3VsdCAq
cmVzdWx0Ow0KPiArDQo+ICsgICAgICAgIC8qIGNhbid0IHBvc3QgY3FlIGlmIHRoZXJlIGlzIG5v
dGhpbmcgdG8gY29tcGxldGUgKi8NCj4gKyAgICAgICAgaWYgKCFuLT5vdXRzdGFuZGluZ19hZXJz
KSB7DQo+ICsgICAgICAgICAgICB0cmFjZV9wY2lfbnZtZV9ub19vdXRzdGFuZGluZ19hZXJzKCk7
DQo+ICsgICAgICAgICAgICBicmVhazsNCj4gKyAgICAgICAgfQ0KPiArDQo+ICsgICAgICAgIC8q
IGlnbm9yZSBpZiBtYXNrZWQgKGNxZSBwb3N0ZWQsIGJ1dCBldmVudCBub3QgY2xlYXJlZCkgKi8N
Cj4gKyAgICAgICAgaWYgKG4tPmFlcl9tYXNrICYgKDEgPDwgZXZlbnQtPnJlc3VsdC5ldmVudF90
eXBlKSkgew0KPiArICAgICAgICAgICAgdHJhY2VfcGNpX252bWVfYWVyX21hc2tlZChldmVudC0+
cmVzdWx0LmV2ZW50X3R5cGUsIG4tPmFlcl9tYXNrKTsNCj4gKyAgICAgICAgICAgIGNvbnRpbnVl
Ow0KPiArICAgICAgICB9DQo+ICsNCj4gKyAgICAgICAgUVRBSUxRX1JFTU9WRSgmbi0+YWVyX3F1
ZXVlLCBldmVudCwgZW50cnkpOw0KPiArICAgICAgICBuLT5hZXJfcXVldWVkLS07DQo+ICsNCj4g
KyAgICAgICAgbi0+YWVyX21hc2sgfD0gMSA8PCBldmVudC0+cmVzdWx0LmV2ZW50X3R5cGU7DQo+
ICsgICAgICAgIG4tPm91dHN0YW5kaW5nX2FlcnMtLTsNCj4gKw0KPiArICAgICAgICByZXEgPSBu
LT5hZXJfcmVxc1tuLT5vdXRzdGFuZGluZ19hZXJzXTsNCj4gKw0KPiArICAgICAgICByZXN1bHQg
PSAoTnZtZUFlclJlc3VsdCAqKSAmcmVxLT5jcWUucmVzdWx0Ow0KPiArICAgICAgICByZXN1bHQt
PmV2ZW50X3R5cGUgPSBldmVudC0+cmVzdWx0LmV2ZW50X3R5cGU7DQo+ICsgICAgICAgIHJlc3Vs
dC0+ZXZlbnRfaW5mbyA9IGV2ZW50LT5yZXN1bHQuZXZlbnRfaW5mbzsNCj4gKyAgICAgICAgcmVz
dWx0LT5sb2dfcGFnZSA9IGV2ZW50LT5yZXN1bHQubG9nX3BhZ2U7DQo+ICsgICAgICAgIGdfZnJl
ZShldmVudCk7DQo+ICsNCj4gKyAgICAgICAgcmVxLT5zdGF0dXMgPSBOVk1FX1NVQ0NFU1M7DQo+
ICsNCj4gKyAgICAgICAgdHJhY2VfcGNpX252bWVfYWVyX3Bvc3RfY3FlKHJlc3VsdC0+ZXZlbnRf
dHlwZSwgcmVzdWx0LT5ldmVudF9pbmZvLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgcmVzdWx0LT5sb2dfcGFnZSk7DQo+ICsNCj4gKyAgICAgICAgbnZtZV9lbnF1ZXVl
X3JlcV9jb21wbGV0aW9uKCZuLT5hZG1pbl9jcSwgcmVxKTsNCj4gKyAgICB9DQo+ICt9DQo+ICsN
Cj4gK3N0YXRpYyB2b2lkIG52bWVfZW5xdWV1ZV9ldmVudChOdm1lQ3RybCAqbiwgdWludDhfdCBl
dmVudF90eXBlLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QgZXZl
bnRfaW5mbywgdWludDhfdCBsb2dfcGFnZSkNCj4gK3sNCj4gKyAgICBOdm1lQXN5bmNFdmVudCAq
ZXZlbnQ7DQo+ICsNCj4gKyAgICB0cmFjZV9wY2lfbnZtZV9lbnF1ZXVlX2V2ZW50KGV2ZW50X3R5
cGUsIGV2ZW50X2luZm8sIGxvZ19wYWdlKTsNCj4gKw0KPiArICAgIGlmIChuLT5hZXJfcXVldWVk
ID09IG4tPnBhcmFtcy5hZXJfbWF4X3F1ZXVlZCkgew0KPiArICAgICAgICB0cmFjZV9wY2lfbnZt
ZV9lbnF1ZXVlX2V2ZW50X25vcXVldWUobi0+YWVyX3F1ZXVlZCk7DQo+ICsgICAgICAgIHJldHVy
bjsNCj4gKyAgICB9DQo+ICsNCj4gKyAgICBldmVudCA9IGdfbmV3KE52bWVBc3luY0V2ZW50LCAx
KTsNCj4gKyAgICBldmVudC0+cmVzdWx0ID0gKE52bWVBZXJSZXN1bHQpIHsNCj4gKyAgICAgICAg
LmV2ZW50X3R5cGUgPSBldmVudF90eXBlLA0KPiArICAgICAgICAuZXZlbnRfaW5mbyA9IGV2ZW50
X2luZm8sDQo+ICsgICAgICAgIC5sb2dfcGFnZSAgID0gbG9nX3BhZ2UsDQo+ICsgICAgfTsNCj4g
Kw0KPiArICAgIFFUQUlMUV9JTlNFUlRfVEFJTCgmbi0+YWVyX3F1ZXVlLCBldmVudCwgZW50cnkp
Ow0KPiArICAgIG4tPmFlcl9xdWV1ZWQrKzsNCj4gKw0KPiArICAgIG52bWVfcHJvY2Vzc19hZXJz
KG4pOw0KPiArfQ0KPiArDQo+ICtzdGF0aWMgdm9pZCBudm1lX2NsZWFyX2V2ZW50cyhOdm1lQ3Ry
bCAqbiwgdWludDhfdCBldmVudF90eXBlKQ0KPiArew0KPiArICAgIG4tPmFlcl9tYXNrICY9IH4o
MSA8PCBldmVudF90eXBlKTsNCj4gKyAgICBpZiAoIVFUQUlMUV9FTVBUWSgmbi0+YWVyX3F1ZXVl
KSkgew0KPiArICAgICAgICBudm1lX3Byb2Nlc3NfYWVycyhuKTsNCj4gKyAgICB9DQo+ICt9DQo+
ICsNCj4gIHN0YXRpYyB2b2lkIG52bWVfcndfY2Iodm9pZCAqb3BhcXVlLCBpbnQgcmV0KQ0KPiAg
ew0KPiAgICAgIE52bWVSZXF1ZXN0ICpyZXEgPSBvcGFxdWU7DQo+IEBAIC01OTIsOCArNjcxLDkg
QEAgc3RhdGljIHVpbnQxNl90IG52bWVfY3JlYXRlX3NxKE52bWVDdHJsICpuLCBOdm1lQ21kICpj
bWQpDQo+ICAgICAgcmV0dXJuIE5WTUVfU1VDQ0VTUzsNCj4gIH0NCj4gIA0KPiAtc3RhdGljIHVp
bnQxNl90IG52bWVfc21hcnRfaW5mbyhOdm1lQ3RybCAqbiwgTnZtZUNtZCAqY21kLCB1aW50MzJf
dCBidWZfbGVuLA0KPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50NjRfdCBv
ZmYsIE52bWVSZXF1ZXN0ICpyZXEpDQo+ICtzdGF0aWMgdWludDE2X3QgbnZtZV9zbWFydF9pbmZv
KE52bWVDdHJsICpuLCBOdm1lQ21kICpjbWQsIHVpbnQ4X3QgcmFlLA0KPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50MzJfdCBidWZfbGVuLCB1aW50NjRfdCBvZmYsDQo+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE52bWVSZXF1ZXN0ICpyZXEpDQo+ICB7DQo+
ICAgICAgdWludDY0X3QgcHJwMSA9IGxlNjRfdG9fY3B1KGNtZC0+ZHB0ci5wcnAxKTsNCj4gICAg
ICB1aW50NjRfdCBwcnAyID0gbGU2NF90b19jcHUoY21kLT5kcHRyLnBycDIpOw0KPiBAQCAtNjQy
LDYgKzcyMiwxMCBAQCBzdGF0aWMgdWludDE2X3QgbnZtZV9zbWFydF9pbmZvKE52bWVDdHJsICpu
LCBOdm1lQ21kICpjbWQsIHVpbnQzMl90IGJ1Zl9sZW4sDQo+ICAgICAgc21hcnQucG93ZXJfb25f
aG91cnNbMF0gPQ0KPiAgICAgICAgICBjcHVfdG9fbGU2NCgoKChjdXJyZW50X21zIC0gbi0+c3Rh
cnR0aW1lX21zKSAvIDEwMDApIC8gNjApIC8gNjApOw0KPiAgDQo+ICsgICAgaWYgKCFyYWUpIHsN
Cj4gKyAgICAgICAgbnZtZV9jbGVhcl9ldmVudHMobiwgTlZNRV9BRVJfVFlQRV9TTUFSVCk7DQo+
ICsgICAgfQ0KPiArDQo+ICAgICAgcmV0dXJuIG52bWVfZG1hX3JlYWRfcHJwKG4sICh1aW50OF90
ICopICZzbWFydCArIG9mZiwgdHJhbnNfbGVuLCBwcnAxLA0KPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBwcnAyKTsNCj4gIH0NCj4gQEAgLTY2OCwxNCArNzUyLDE5IEBAIHN0YXRpYyB1
aW50MTZfdCBudm1lX2Z3X2xvZ19pbmZvKE52bWVDdHJsICpuLCBOdm1lQ21kICpjbWQsIHVpbnQz
Ml90IGJ1Zl9sZW4sDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBycDIpOw0KPiAg
fQ0KPiAgDQo+IC1zdGF0aWMgdWludDE2X3QgbnZtZV9lcnJvcl9pbmZvKE52bWVDdHJsICpuLCBO
dm1lQ21kICpjbWQsIHVpbnQzMl90IGJ1Zl9sZW4sDQo+IC0gICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVpbnQ2NF90IG9mZiwgTnZtZVJlcXVlc3QgKnJlcSkNCj4gK3N0YXRpYyB1aW50
MTZfdCBudm1lX2Vycm9yX2luZm8oTnZtZUN0cmwgKm4sIE52bWVDbWQgKmNtZCwgdWludDhfdCBy
YWUsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQzMl90IGJ1Zl9sZW4s
IHVpbnQ2NF90IG9mZiwNCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnZtZVJl
cXVlc3QgKnJlcSkNCj4gIHsNCj4gICAgICB1aW50MzJfdCB0cmFuc19sZW47DQo+ICAgICAgdWlu
dDY0X3QgcHJwMSA9IGxlNjRfdG9fY3B1KGNtZC0+ZHB0ci5wcnAxKTsNCj4gICAgICB1aW50NjRf
dCBwcnAyID0gbGU2NF90b19jcHUoY21kLT5kcHRyLnBycDIpOw0KPiAgICAgIE52bWVFcnJvckxv
ZyBlcnJsb2c7DQo+ICANCj4gKyAgICBpZiAoIXJhZSkgew0KPiArICAgICAgICBudm1lX2NsZWFy
X2V2ZW50cyhuLCBOVk1FX0FFUl9UWVBFX0VSUk9SKTsNCj4gKyAgICB9DQo+ICsNCj4gICAgICBp
ZiAob2ZmID4gc2l6ZW9mKGVycmxvZykpIHsNCj4gICAgICAgICAgcmV0dXJuIE5WTUVfSU5WQUxJ
RF9GSUVMRCB8IE5WTUVfRE5SOw0KPiAgICAgIH0NCj4gQEAgLTcxNiw5ICs4MDUsOSBAQCBzdGF0
aWMgdWludDE2X3QgbnZtZV9nZXRfbG9nKE52bWVDdHJsICpuLCBOdm1lQ21kICpjbWQsIE52bWVS
ZXF1ZXN0ICpyZXEpDQo+ICANCj4gICAgICBzd2l0Y2ggKGxpZCkgew0KPiAgICAgIGNhc2UgTlZN
RV9MT0dfRVJST1JfSU5GTzoNCj4gLSAgICAgICAgcmV0dXJuIG52bWVfZXJyb3JfaW5mbyhuLCBj
bWQsIGxlbiwgb2ZmLCByZXEpOw0KPiArICAgICAgICByZXR1cm4gbnZtZV9lcnJvcl9pbmZvKG4s
IGNtZCwgcmFlLCBsZW4sIG9mZiwgcmVxKTsNCj4gICAgICBjYXNlIE5WTUVfTE9HX1NNQVJUX0lO
Rk86DQo+IC0gICAgICAgIHJldHVybiBudm1lX3NtYXJ0X2luZm8obiwgY21kLCBsZW4sIG9mZiwg
cmVxKTsNCj4gKyAgICAgICAgcmV0dXJuIG52bWVfc21hcnRfaW5mbyhuLCBjbWQsIHJhZSwgbGVu
LCBvZmYsIHJlcSk7DQo+ICAgICAgY2FzZSBOVk1FX0xPR19GV19TTE9UX0lORk86DQo+ICAgICAg
ICAgIHJldHVybiBudm1lX2Z3X2xvZ19pbmZvKG4sIGNtZCwgbGVuLCBvZmYsIHJlcSk7DQo+ICAg
ICAgZGVmYXVsdDoNCj4gQEAgLTEwMDAsNiArMTA4OSw5IEBAIHN0YXRpYyB1aW50MTZfdCBudm1l
X2dldF9mZWF0dXJlKE52bWVDdHJsICpuLCBOdm1lQ21kICpjbWQsIE52bWVSZXF1ZXN0ICpyZXEp
DQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgobi0+cGFyYW1zLm1heF9pb3FwYWly
cyAtIDEpIDw8IDE2KSk7DQo+ICAgICAgICAgIHRyYWNlX3BjaV9udm1lX2dldGZlYXRfbnVtcShy
ZXN1bHQpOw0KPiAgICAgICAgICBicmVhazsNCj4gKyAgICBjYXNlIE5WTUVfQVNZTkNIUk9OT1VT
X0VWRU5UX0NPTkY6DQo+ICsgICAgICAgIHJlc3VsdCA9IGNwdV90b19sZTMyKG4tPmZlYXR1cmVz
LmFzeW5jX2NvbmZpZyk7DQo+ICsgICAgICAgIGJyZWFrOw0KPiAgICAgIGNhc2UgTlZNRV9USU1F
U1RBTVA6DQo+ICAgICAgICAgIHJldHVybiBudm1lX2dldF9mZWF0dXJlX3RpbWVzdGFtcChuLCBj
bWQpOw0KPiAgICAgIGRlZmF1bHQ6DQo+IEBAIC0xMDUxLDYgKzExNDMsMTQgQEAgc3RhdGljIHVp
bnQxNl90IG52bWVfc2V0X2ZlYXR1cmUoTnZtZUN0cmwgKm4sIE52bWVDbWQgKmNtZCwgTnZtZVJl
cXVlc3QgKnJlcSkNCj4gICAgICAgICAgICAgIHJldHVybiBOVk1FX0lOVkFMSURfRklFTEQgfCBO
Vk1FX0ROUjsNCj4gICAgICAgICAgfQ0KPiAgDQo+ICsgICAgICAgIGlmICgoKG4tPnRlbXBlcmF0
dXJlID49IG4tPmZlYXR1cmVzLnRlbXBfdGhyZXNoX2hpKSB8fA0KPiArICAgICAgICAgICAgKG4t
PnRlbXBlcmF0dXJlIDw9IG4tPmZlYXR1cmVzLnRlbXBfdGhyZXNoX2xvdykpICYmDQo+ICsgICAg
ICAgICAgICBOVk1FX0FFQ19TTUFSVChuLT5mZWF0dXJlcy5hc3luY19jb25maWcpICYgTlZNRV9T
TUFSVF9URU1QRVJBVFVSRSkgew0KPiArICAgICAgICAgICAgbnZtZV9lbnF1ZXVlX2V2ZW50KG4s
IE5WTUVfQUVSX1RZUEVfU01BUlQsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
TlZNRV9BRVJfSU5GT19TTUFSVF9URU1QX1RIUkVTSCwNCj4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBOVk1FX0xPR19TTUFSVF9JTkZPKTsNCj4gKyAgICAgICAgfQ0KPiArDQo+ICAg
ICAgICAgIGJyZWFrOw0KPiAgICAgIGNhc2UgTlZNRV9WT0xBVElMRV9XUklURV9DQUNIRToNCj4g
ICAgICAgICAgYmxrX3NldF9lbmFibGVfd3JpdGVfY2FjaGUobi0+Y29uZi5ibGssIGR3MTEgJiAx
KTsNCj4gQEAgLTEwNjMsNiArMTE2Myw5IEBAIHN0YXRpYyB1aW50MTZfdCBudm1lX3NldF9mZWF0
dXJlKE52bWVDdHJsICpuLCBOdm1lQ21kICpjbWQsIE52bWVSZXF1ZXN0ICpyZXEpDQo+ICAgICAg
ICAgIHJlcS0+Y3FlLnJlc3VsdCA9IGNwdV90b19sZTMyKChuLT5wYXJhbXMubWF4X2lvcXBhaXJz
IC0gMSkgfA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKG4tPnBh
cmFtcy5tYXhfaW9xcGFpcnMgLSAxKSA8PCAxNikpOw0KPiAgICAgICAgICBicmVhazsNCj4gKyAg
ICBjYXNlIE5WTUVfQVNZTkNIUk9OT1VTX0VWRU5UX0NPTkY6DQo+ICsgICAgICAgIG4tPmZlYXR1
cmVzLmFzeW5jX2NvbmZpZyA9IGR3MTE7DQo+ICsgICAgICAgIGJyZWFrOw0KPiAgICAgIGNhc2Ug
TlZNRV9USU1FU1RBTVA6DQo+ICAgICAgICAgIHJldHVybiBudm1lX3NldF9mZWF0dXJlX3RpbWVz
dGFtcChuLCBjbWQpOw0KPiAgICAgIGRlZmF1bHQ6DQo+IEBAIC0xMDcyLDYgKzExNzUsMjUgQEAg
c3RhdGljIHVpbnQxNl90IG52bWVfc2V0X2ZlYXR1cmUoTnZtZUN0cmwgKm4sIE52bWVDbWQgKmNt
ZCwgTnZtZVJlcXVlc3QgKnJlcSkNCj4gICAgICByZXR1cm4gTlZNRV9TVUNDRVNTOw0KPiAgfQ0K
PiAgDQo+ICtzdGF0aWMgdWludDE2X3QgbnZtZV9hZXIoTnZtZUN0cmwgKm4sIE52bWVDbWQgKmNt
ZCwgTnZtZVJlcXVlc3QgKnJlcSkNCj4gK3sNCj4gKyAgICB0cmFjZV9wY2lfbnZtZV9hZXIobnZt
ZV9jaWQocmVxKSk7DQo+ICsNCj4gKyAgICBpZiAobi0+b3V0c3RhbmRpbmdfYWVycyA+IG4tPnBh
cmFtcy5hZXJsKSB7DQo+ICsgICAgICAgIHRyYWNlX3BjaV9udm1lX2Flcl9hZXJsX2V4Y2VlZGVk
KCk7DQo+ICsgICAgICAgIHJldHVybiBOVk1FX0FFUl9MSU1JVF9FWENFRURFRDsNCj4gKyAgICB9
DQo+ICsNCj4gKyAgICBuLT5hZXJfcmVxc1tuLT5vdXRzdGFuZGluZ19hZXJzXSA9IHJlcTsNCj4g
KyAgICBuLT5vdXRzdGFuZGluZ19hZXJzKys7DQo+ICsNCj4gKyAgICBpZiAoIVFUQUlMUV9FTVBU
WSgmbi0+YWVyX3F1ZXVlKSkgew0KPiArICAgICAgICBudm1lX3Byb2Nlc3NfYWVycyhuKTsNCj4g
KyAgICB9DQo+ICsNCj4gKyAgICByZXR1cm4gTlZNRV9OT19DT01QTEVURTsNCj4gK30NCj4gKw0K
PiAgc3RhdGljIHVpbnQxNl90IG52bWVfYWRtaW5fY21kKE52bWVDdHJsICpuLCBOdm1lQ21kICpj
bWQsIE52bWVSZXF1ZXN0ICpyZXEpDQo+ICB7DQo+ICAgICAgdHJhY2VfcGNpX252bWVfYWRtaW5f
Y21kKG52bWVfY2lkKHJlcSksIG52bWVfc3FpZChyZXEpLCBjbWQtPm9wY29kZSk7DQo+IEBAIC0x
MDk1LDYgKzEyMTcsOCBAQCBzdGF0aWMgdWludDE2X3QgbnZtZV9hZG1pbl9jbWQoTnZtZUN0cmwg
Km4sIE52bWVDbWQgKmNtZCwgTnZtZVJlcXVlc3QgKnJlcSkNCj4gICAgICAgICAgcmV0dXJuIG52
bWVfc2V0X2ZlYXR1cmUobiwgY21kLCByZXEpOw0KPiAgICAgIGNhc2UgTlZNRV9BRE1fQ01EX0dF
VF9GRUFUVVJFUzoNCj4gICAgICAgICAgcmV0dXJuIG52bWVfZ2V0X2ZlYXR1cmUobiwgY21kLCBy
ZXEpOw0KPiArICAgIGNhc2UgTlZNRV9BRE1fQ01EX0FTWU5DX0VWX1JFUToNCj4gKyAgICAgICAg
cmV0dXJuIG52bWVfYWVyKG4sIGNtZCwgcmVxKTsNCj4gICAgICBkZWZhdWx0Og0KPiAgICAgICAg
ICB0cmFjZV9wY2lfbnZtZV9lcnJfaW52YWxpZF9hZG1pbl9vcGMoY21kLT5vcGNvZGUpOw0KPiAg
ICAgICAgICByZXR1cm4gTlZNRV9JTlZBTElEX09QQ09ERSB8IE5WTUVfRE5SOw0KPiBAQCAtMTE0
OSw2ICsxMjczLDE1IEBAIHN0YXRpYyB2b2lkIG52bWVfY2xlYXJfY3RybChOdm1lQ3RybCAqbikN
Cj4gICAgICAgICAgfQ0KPiAgICAgIH0NCj4gIA0KPiArICAgIHdoaWxlICghUVRBSUxRX0VNUFRZ
KCZuLT5hZXJfcXVldWUpKSB7DQo+ICsgICAgICAgIE52bWVBc3luY0V2ZW50ICpldmVudCA9IFFU
QUlMUV9GSVJTVCgmbi0+YWVyX3F1ZXVlKTsNCj4gKyAgICAgICAgUVRBSUxRX1JFTU9WRSgmbi0+
YWVyX3F1ZXVlLCBldmVudCwgZW50cnkpOw0KPiArICAgICAgICBnX2ZyZWUoZXZlbnQpOw0KPiAr
ICAgIH0NCj4gKw0KPiArICAgIG4tPmFlcl9xdWV1ZWQgPSAwOw0KPiArICAgIG4tPm91dHN0YW5k
aW5nX2FlcnMgPSAwOw0KPiArDQo+ICAgICAgYmxrX2ZsdXNoKG4tPmNvbmYuYmxrKTsNCj4gICAg
ICBuLT5iYXIuY2MgPSAwOw0KPiAgfQ0KPiBAQCAtMTI0NSw2ICsxMzc4LDggQEAgc3RhdGljIGlu
dCBudm1lX3N0YXJ0X2N0cmwoTnZtZUN0cmwgKm4pDQo+ICANCj4gICAgICBudm1lX3NldF90aW1l
c3RhbXAobiwgMFVMTCk7DQo+ICANCj4gKyAgICBRVEFJTFFfSU5JVCgmbi0+YWVyX3F1ZXVlKTsN
Cj4gKw0KPiAgICAgIHJldHVybiAwOw0KPiAgfQ0KPiAgDQo+IEBAIC0xNDY2LDYgKzE2MDEsMTMg
QEAgc3RhdGljIHZvaWQgbnZtZV9wcm9jZXNzX2RiKE52bWVDdHJsICpuLCBod2FkZHIgYWRkciwg
aW50IHZhbCkNCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICJjb21wbGV0aW9uIHF1ZXVl
IGRvb3JiZWxsIHdyaXRlIg0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBmb3Igbm9u
ZXhpc3RlbnQgcXVldWUsIg0KPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiBzcWlkPSUi
UFJJdTMyIiwgaWdub3JpbmciLCBxaWQpOw0KPiArDQo+ICsgICAgICAgICAgICBpZiAobi0+b3V0
c3RhbmRpbmdfYWVycykgew0KPiArICAgICAgICAgICAgICAgIG52bWVfZW5xdWV1ZV9ldmVudChu
LCBOVk1FX0FFUl9UWVBFX0VSUk9SLA0KPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBOVk1FX0FFUl9JTkZPX0VSUl9JTlZBTElEX0RCX1JFR0lTVEVSLA0KPiArICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBOVk1FX0xPR19FUlJPUl9JTkZPKTsNCj4gKyAgICAg
ICAgICAgIH0NCj4gKw0KPiAgICAgICAgICAgICAgcmV0dXJuOw0KPiAgICAgICAgICB9DQo+ICAN
Cj4gQEAgLTE0NzYsNiArMTYxOCwxMyBAQCBzdGF0aWMgdm9pZCBudm1lX3Byb2Nlc3NfZGIoTnZt
ZUN0cmwgKm4sIGh3YWRkciBhZGRyLCBpbnQgdmFsKQ0KPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIiBiZXlvbmQgcXVldWUgc2l6ZSwgc3FpZD0lIlBSSXUzMiIsIg0KPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIiBuZXdfaGVhZD0lIlBSSXUxNiIsIGlnbm9yaW5nIiwNCj4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHFpZCwgbmV3X2hlYWQpOw0KPiArDQo+ICsgICAgICAg
ICAgICBpZiAobi0+b3V0c3RhbmRpbmdfYWVycykgew0KPiArICAgICAgICAgICAgICAgIG52bWVf
ZW5xdWV1ZV9ldmVudChuLCBOVk1FX0FFUl9UWVBFX0VSUk9SLA0KPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBOVk1FX0FFUl9JTkZPX0VSUl9JTlZBTElEX0RCX1ZBTFVFLA0K
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOVk1FX0xPR19FUlJPUl9JTkZP
KTsNCj4gKyAgICAgICAgICAgIH0NCj4gKw0KPiAgICAgICAgICAgICAgcmV0dXJuOw0KPiAgICAg
ICAgICB9DQo+ICANCj4gQEAgLTE1MDYsNiArMTY1NSwxMyBAQCBzdGF0aWMgdm9pZCBudm1lX3By
b2Nlc3NfZGIoTnZtZUN0cmwgKm4sIGh3YWRkciBhZGRyLCBpbnQgdmFsKQ0KPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgInN1Ym1pc3Npb24gcXVldWUgZG9vcmJlbGwgd3JpdGUiDQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAiIGZvciBub25leGlzdGVudCBxdWV1ZSwiDQo+ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAiIHNxaWQ9JSJQUkl1MzIiLCBpZ25vcmluZyIsIHFp
ZCk7DQo+ICsNCj4gKyAgICAgICAgICAgIGlmIChuLT5vdXRzdGFuZGluZ19hZXJzKSB7DQo+ICsg
ICAgICAgICAgICAgICAgbnZtZV9lbnF1ZXVlX2V2ZW50KG4sIE5WTUVfQUVSX1RZUEVfRVJST1Is
DQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5WTUVfQUVSX0lORk9fRVJS
X0lOVkFMSURfREJfUkVHSVNURVIsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIE5WTUVfTE9HX0VSUk9SX0lORk8pOw0KPiArICAgICAgICAgICAgfQ0KPiArDQo+ICAgICAg
ICAgICAgICByZXR1cm47DQo+ICAgICAgICAgIH0NCj4gIA0KPiBAQCAtMTUxNiw2ICsxNjcyLDEz
IEBAIHN0YXRpYyB2b2lkIG52bWVfcHJvY2Vzc19kYihOdm1lQ3RybCAqbiwgaHdhZGRyIGFkZHIs
IGludCB2YWwpDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIGJleW9uZCBxdWV1ZSBz
aXplLCBzcWlkPSUiUFJJdTMyIiwiDQo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIG5l
d190YWlsPSUiUFJJdTE2IiwgaWdub3JpbmciLA0KPiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgcWlkLCBuZXdfdGFpbCk7DQo+ICsNCj4gKyAgICAgICAgICAgIGlmIChuLT5vdXRzdGFuZGlu
Z19hZXJzKSB7DQo+ICsgICAgICAgICAgICAgICAgbnZtZV9lbnF1ZXVlX2V2ZW50KG4sIE5WTUVf
QUVSX1RZUEVfRVJST1IsDQo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5W
TUVfQUVSX0lORk9fRVJSX0lOVkFMSURfREJfVkFMVUUsDQo+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIE5WTUVfTE9HX0VSUk9SX0lORk8pOw0KPiArICAgICAgICAgICAgfQ0K
PiArDQo+ICAgICAgICAgICAgICByZXR1cm47DQo+ICAgICAgICAgIH0NCj4gIA0KPiBAQCAtMTYz
Nyw2ICsxODAwLDcgQEAgc3RhdGljIHZvaWQgbnZtZV9pbml0X3N0YXRlKE52bWVDdHJsICpuKQ0K
PiAgICAgIG4tPnRlbXBlcmF0dXJlID0gTlZNRV9URU1QRVJBVFVSRTsNCj4gICAgICBuLT5mZWF0
dXJlcy50ZW1wX3RocmVzaF9oaSA9IE5WTUVfVEVNUEVSQVRVUkVfV0FSTklORzsNCj4gICAgICBu
LT5zdGFydHRpbWVfbXMgPSBxZW11X2Nsb2NrX2dldF9tcyhRRU1VX0NMT0NLX1ZJUlRVQUwpOw0K
PiArICAgIG4tPmFlcl9yZXFzID0gZ19uZXcwKE52bWVSZXF1ZXN0ICosIG4tPnBhcmFtcy5hZXJs
ICsgMSk7DQo+ICB9DQo+ICANCj4gIHN0YXRpYyB2b2lkIG52bWVfaW5pdF9ibGsoTnZtZUN0cmwg
Km4sIEVycm9yICoqZXJycCkNCj4gQEAgLTE3OTIsNiArMTk1Niw3IEBAIHN0YXRpYyB2b2lkIG52
bWVfaW5pdF9jdHJsKE52bWVDdHJsICpuLCBQQ0lEZXZpY2UgKnBjaV9kZXYpDQo+ICAgICAgICog
aW5jb25zZXF1ZW50aWFsLg0KPiAgICAgICAqLw0KPiAgICAgIGlkLT5hY2wgPSAzOw0KPiArICAg
IGlkLT5hZXJsID0gbi0+cGFyYW1zLmFlcmw7DQo+ICAgICAgaWQtPmZybXcgPSAoTlZNRV9OVU1f
RldfU0xPVFMgPDwgMSkgfCBOVk1FX0ZSTVdfU0xPVDFfUk87DQo+ICAgICAgaWQtPmxwYSA9IE5W
TUVfTFBBX0VYVEVOREVEOw0KPiAgDQo+IEBAIC0xODY2LDYgKzIwMzEsNyBAQCBzdGF0aWMgdm9p
ZCBudm1lX2V4aXQoUENJRGV2aWNlICpwY2lfZGV2KQ0KPiAgICAgIGdfZnJlZShuLT5uYW1lc3Bh
Y2VzKTsNCj4gICAgICBnX2ZyZWUobi0+Y3EpOw0KPiAgICAgIGdfZnJlZShuLT5zcSk7DQo+ICsg
ICAgZ19mcmVlKG4tPmFlcl9yZXFzKTsNCj4gIA0KPiAgICAgIGlmIChuLT5wYXJhbXMuY21iX3Np
emVfbWIpIHsNCj4gICAgICAgICAgZ19mcmVlKG4tPmNtYnVmKTsNCj4gQEAgLTE4ODYsNiArMjA1
Miw4IEBAIHN0YXRpYyBQcm9wZXJ0eSBudm1lX3Byb3BzW10gPSB7DQo+ICAgICAgREVGSU5FX1BS
T1BfVUlOVDMyKCJudW1fcXVldWVzIiwgTnZtZUN0cmwsIHBhcmFtcy5udW1fcXVldWVzLCAwKSwN
Cj4gICAgICBERUZJTkVfUFJPUF9VSU5UMzIoIm1heF9pb3FwYWlycyIsIE52bWVDdHJsLCBwYXJh
bXMubWF4X2lvcXBhaXJzLCA2NCksDQo+ICAgICAgREVGSU5FX1BST1BfVUlOVDE2KCJtc2l4X3Fz
aXplIiwgTnZtZUN0cmwsIHBhcmFtcy5tc2l4X3FzaXplLCA2NSksDQo+ICsgICAgREVGSU5FX1BS
T1BfVUlOVDgoImFlcmwiLCBOdm1lQ3RybCwgcGFyYW1zLmFlcmwsIDMpLA0KPiArICAgIERFRklO
RV9QUk9QX1VJTlQzMigiYWVyX21heF9xdWV1ZWQiLCBOdm1lQ3RybCwgcGFyYW1zLmFlcl9tYXhf
cXVldWVkLCA2NCksDQo+ICAgICAgREVGSU5FX1BST1BfRU5EX09GX0xJU1QoKSwNCj4gIH07DQo+
ICANCj4gZGlmZiAtLWdpdCBhL2h3L2Jsb2NrL252bWUuaCBiL2h3L2Jsb2NrL252bWUuaA0KPiBp
bmRleCAzZGRiYzM3MjJkN2MuLjFmNjRhMGU5NDAzNSAxMDA2NDQNCj4gLS0tIGEvaHcvYmxvY2sv
bnZtZS5oDQo+ICsrKyBiL2h3L2Jsb2NrL252bWUuaA0KPiBAQCAtOSwxMCArOSwxMiBAQCB0eXBl
ZGVmIHN0cnVjdCBOdm1lUGFyYW1zIHsNCj4gICAgICB1aW50MzJfdCBtYXhfaW9xcGFpcnM7DQo+
ICAgICAgdWludDE2X3QgbXNpeF9xc2l6ZTsNCj4gICAgICB1aW50MzJfdCBjbWJfc2l6ZV9tYjsN
Cj4gKyAgICB1aW50OF90ICBhZXJsOw0KPiArICAgIHVpbnQzMl90IGFlcl9tYXhfcXVldWVkOw0K
PiAgfSBOdm1lUGFyYW1zOw0KPiAgDQo+ICB0eXBlZGVmIHN0cnVjdCBOdm1lQXN5bmNFdmVudCB7
DQo+IC0gICAgUVNJTVBMRVFfRU5UUlkoTnZtZUFzeW5jRXZlbnQpIGVudHJ5Ow0KPiArICAgIFFU
QUlMUV9FTlRSWShOdm1lQXN5bmNFdmVudCkgZW50cnk7DQo+ICAgICAgTnZtZUFlclJlc3VsdCBy
ZXN1bHQ7DQo+ICB9IE52bWVBc3luY0V2ZW50Ow0KPiAgDQo+IEBAIC05NCw2ICs5Niw3IEBAIHR5
cGVkZWYgc3RydWN0IE52bWVDdHJsIHsNCj4gICAgICB1aW50MzJfdCAgICBudW1fbmFtZXNwYWNl
czsNCj4gICAgICB1aW50MzJfdCAgICBtYXhfcV9lbnRzOw0KPiAgICAgIHVpbnQ2NF90ICAgIG5z
X3NpemU7DQo+ICsgICAgdWludDhfdCAgICAgb3V0c3RhbmRpbmdfYWVyczsNCj4gICAgICB1aW50
OF90ICAgICAqY21idWY7DQo+ICAgICAgdWludDMyX3QgICAgaXJxX3N0YXR1czsNCj4gICAgICB1
aW50NjRfdCAgICBob3N0X3RpbWVzdGFtcDsgICAgICAgICAgICAgICAgIC8qIFRpbWVzdGFtcCBz
ZW50IGJ5IHRoZSBob3N0ICovDQo+IEBAIC0xMDMsNiArMTA2LDExIEBAIHR5cGVkZWYgc3RydWN0
IE52bWVDdHJsIHsNCj4gIA0KPiAgICAgIEhvc3RNZW1vcnlCYWNrZW5kICpwbXJkZXY7DQo+ICAN
Cj4gKyAgICB1aW50OF90ICAgICBhZXJfbWFzazsNCj4gKyAgICBOdm1lUmVxdWVzdCAqKmFlcl9y
ZXFzOw0KPiArICAgIFFUQUlMUV9IRUFEKCwgTnZtZUFzeW5jRXZlbnQpIGFlcl9xdWV1ZTsNCj4g
KyAgICBpbnQgICAgICAgICBhZXJfcXVldWVkOw0KPiArDQo+ICAgICAgTnZtZU5hbWVzcGFjZSAg
ICpuYW1lc3BhY2VzOw0KPiAgICAgIE52bWVTUXVldWUgICAgICAqKnNxOw0KPiAgICAgIE52bWVD
UXVldWUgICAgICAqKmNxOw0KPiBkaWZmIC0tZ2l0IGEvaHcvYmxvY2svdHJhY2UtZXZlbnRzIGIv
aHcvYmxvY2svdHJhY2UtZXZlbnRzDQo+IGluZGV4IDMzMzBkNzRlNDhkYi4uMDkxYWYxNmNhN2Q3
IDEwMDY0NA0KPiAtLS0gYS9ody9ibG9jay90cmFjZS1ldmVudHMNCj4gKysrIGIvaHcvYmxvY2sv
dHJhY2UtZXZlbnRzDQo+IEBAIC01MSw2ICs1MSwxNSBAQCBwY2lfbnZtZV9nZXRmZWF0X251bXEo
aW50IHJlc3VsdCkgImdldCBmZWF0dXJlIG51bWJlciBvZiBxdWV1ZXMsIHJlc3VsdD0lZCINCj4g
IHBjaV9udm1lX3NldGZlYXRfbnVtcShpbnQgcmVxY3EsIGludCByZXFzcSwgaW50IGdvdGNxLCBp
bnQgZ290c3EpICJyZXF1ZXN0ZWQgY3FfY291bnQ9JWQgc3FfY291bnQ9JWQsIHJlc3BvbmRpbmcg
d2l0aCBjcV9jb3VudD0lZCBzcV9jb3VudD0lZCINCj4gIHBjaV9udm1lX3NldGZlYXRfdGltZXN0
YW1wKHVpbnQ2NF90IHRzKSAic2V0IGZlYXR1cmUgdGltZXN0YW1wID0gMHglIlBSSXg2NCIiDQo+
ICBwY2lfbnZtZV9nZXRmZWF0X3RpbWVzdGFtcCh1aW50NjRfdCB0cykgImdldCBmZWF0dXJlIHRp
bWVzdGFtcCA9IDB4JSJQUkl4NjQiIg0KPiArcGNpX252bWVfcHJvY2Vzc19hZXJzKGludCBxdWV1
ZWQpICJxdWV1ZWQgJWQiDQo+ICtwY2lfbnZtZV9hZXIodWludDE2X3QgY2lkKSAiY2lkICUiUFJJ
dTE2IiINCj4gK3BjaV9udm1lX2Flcl9hZXJsX2V4Y2VlZGVkKHZvaWQpICJhZXJsIGV4Y2VlZGVk
Ig0KPiArcGNpX252bWVfYWVyX21hc2tlZCh1aW50OF90IHR5cGUsIHVpbnQ4X3QgbWFzaykgInR5
cGUgMHglIlBSSXg4IiBtYXNrIDB4JSJQUkl4OCIiDQo+ICtwY2lfbnZtZV9hZXJfcG9zdF9jcWUo
dWludDhfdCB0eXAsIHVpbnQ4X3QgaW5mbywgdWludDhfdCBsb2dfcGFnZSkgInR5cGUgMHglIlBS
SXg4IiBpbmZvIDB4JSJQUkl4OCIgbGlkIDB4JSJQUkl4OCIiDQo+ICtwY2lfbnZtZV9lbnF1ZXVl
X2V2ZW50KHVpbnQ4X3QgdHlwLCB1aW50OF90IGluZm8sIHVpbnQ4X3QgbG9nX3BhZ2UpICJ0eXBl
IDB4JSJQUkl4OCIgaW5mbyAweCUiUFJJeDgiIGxpZCAweCUiUFJJeDgiIg0KPiArcGNpX252bWVf
ZW5xdWV1ZV9ldmVudF9ub3F1ZXVlKGludCBxdWV1ZWQpICJxdWV1ZWQgJWQiDQo+ICtwY2lfbnZt
ZV9lbnF1ZXVlX2V2ZW50X21hc2tlZCh1aW50OF90IHR5cCkgInR5cGUgMHglIlBSSXg4IiINCj4g
K3BjaV9udm1lX25vX291dHN0YW5kaW5nX2FlcnModm9pZCkgImlnbm9yaW5nIGV2ZW50OyBubyBv
dXRzdGFuZGluZyBBRVJzIg0KPiAgcGNpX252bWVfZW5xdWV1ZV9yZXFfY29tcGxldGlvbih1aW50
MTZfdCBjaWQsIHVpbnQxNl90IGNxaWQsIHVpbnQxNl90IHN0YXR1cykgImNpZCAlIlBSSXUxNiIg
Y3FpZCAlIlBSSXUxNiIgc3RhdHVzIDB4JSJQUkl4MTYiIg0KPiAgcGNpX252bWVfbW1pb19yZWFk
KHVpbnQ2NF90IGFkZHIpICJhZGRyIDB4JSJQUkl4NjQiIg0KPiAgcGNpX252bWVfbW1pb193cml0
ZSh1aW50NjRfdCBhZGRyLCB1aW50NjRfdCBkYXRhKSAiYWRkciAweCUiUFJJeDY0IiBkYXRhIDB4
JSJQUkl4NjQiIg0KPiBkaWZmIC0tZ2l0IGEvaW5jbHVkZS9ibG9jay9udm1lLmggYi9pbmNsdWRl
L2Jsb2NrL252bWUuaA0KPiBpbmRleCAxMzM5ZjA0OTFkMjcuLmU5ODU4NGUzODEzNCAxMDA2NDQN
Cj4gLS0tIGEvaW5jbHVkZS9ibG9jay9udm1lLmgNCj4gKysrIGIvaW5jbHVkZS9ibG9jay9udm1l
LmgNCj4gQEAgLTU5Nyw4ICs1OTcsOCBAQCBlbnVtIE52bWVBc3luY0V2ZW50UmVxdWVzdCB7DQo+
ICAgICAgTlZNRV9BRVJfVFlQRV9TTUFSVCAgICAgICAgICAgICAgICAgICAgID0gMSwNCj4gICAg
ICBOVk1FX0FFUl9UWVBFX0lPX1NQRUNJRklDICAgICAgICAgICAgICAgPSA2LA0KPiAgICAgIE5W
TUVfQUVSX1RZUEVfVkVORE9SX1NQRUNJRklDICAgICAgICAgICA9IDcsDQo+IC0gICAgTlZNRV9B
RVJfSU5GT19FUlJfSU5WQUxJRF9TUSAgICAgICAgICAgID0gMCwNCj4gLSAgICBOVk1FX0FFUl9J
TkZPX0VSUl9JTlZBTElEX0RCICAgICAgICAgICAgPSAxLA0KPiArICAgIE5WTUVfQUVSX0lORk9f
RVJSX0lOVkFMSURfREJfUkVHSVNURVIgICA9IDAsDQo+ICsgICAgTlZNRV9BRVJfSU5GT19FUlJf
SU5WQUxJRF9EQl9WQUxVRSAgICAgID0gMSwNCj4gICAgICBOVk1FX0FFUl9JTkZPX0VSUl9ESUFH
X0ZBSUwgICAgICAgICAgICAgPSAyLA0KPiAgICAgIE5WTUVfQUVSX0lORk9fRVJSX1BFUlNfSU5U
RVJOQUxfRVJSICAgICA9IDMsDQo+ICAgICAgTlZNRV9BRVJfSU5GT19FUlJfVFJBTlNfSU5URVJO
QUxfRVJSICAgID0gNCwNCj4gQEAgLTkwMiw2ICs5MDIsMTAgQEAgdHlwZWRlZiBzdHJ1Y3QgTnZt
ZUZlYXR1cmVWYWwgew0KPiAgDQo+ICAjZGVmaW5lIE5WTUVfVEVNUF9UTVBUSCh0ZW1wKSAoKHRl
bXAgPj4gIDApICYgMHhmZmZmKQ0KPiAgDQo+ICsjZGVmaW5lIE5WTUVfQUVDX1NNQVJUKGFlYykg
ICAgICAgICAoYWVjICYgMHhmZikNCj4gKyNkZWZpbmUgTlZNRV9BRUNfTlNfQVRUUihhZWMpICAg
ICAgICgoYWVjID4+IDgpICYgMHgxKQ0KPiArI2RlZmluZSBOVk1FX0FFQ19GV19BQ1RJVkFUSU9O
KGFlYykgKChhZWMgPj4gOSkgJiAweDEpDQo+ICsNCj4gIGVudW0gTnZtZUZlYXR1cmVJZHMgew0K
PiAgICAgIE5WTUVfQVJCSVRSQVRJT04gICAgICAgICAgICAgICAgPSAweDEsDQo+ICAgICAgTlZN
RV9QT1dFUl9NQU5BR0VNRU5UICAgICAgICAgICA9IDB4MiwNCg==

