Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 0EE816F0EAA
	for <lists+qemu-devel@lfdr.de>; Fri, 28 Apr 2023 01:03:25 +0200 (CEST)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1psAbc-0001u0-QI; Thu, 27 Apr 2023 19:00:52 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1psAba-0001tT-T0
 for qemu-devel@nongnu.org; Thu, 27 Apr 2023 19:00:50 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1psAbF-0001LX-Av
 for qemu-devel@nongnu.org; Thu, 27 Apr 2023 19:00:50 -0400
Received: from pps.filterd (m0279869.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 33RMrkhJ030407; Thu, 27 Apr 2023 23:00:17 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=Ea3WqnP8ziFuZCQn0UbyD5iqtrE7675vVA5VUiNSlCY=;
 b=PQ4RNXWgy1vlYWX9RAsdTvpTpSrTU/6BuWJvcx5pnF+uYtAbC8w9LMf/whKW+pHazRtc
 54dSxzN5qpE0fr/NfQNXGEstT1MT4x4nsF1VPpHJFtLt8ufckJy7qyY3frvYuHRo0EgE
 sWb7Fz4uj0mYxPblvbfy1K8Cf7kZDUF03Pv/f/VuPwSV5gv0NLkP2AYVFxqwaKVGY2gE
 aC3+axk8VNPPjf+l7znK6HkzweFmwvcvRnU+IKemyGRVFHuiAvSwEG9nYVH64LjaiYDQ
 mUosTSJPGzkpUCCbrGdHeIyn/aJ1Gs9pBxncAJSog30yVcqsMaIppkdGQVO01bU2PEh4 bA== 
Received: from nalasppmta02.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3q7thv1577-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:16 +0000
Received: from pps.filterd (NALASPPMTA02.qualcomm.com [127.0.0.1])
 by NALASPPMTA02.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 33RN0FdX014943; 
 Thu, 27 Apr 2023 23:00:15 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA02.qualcomm.com (PPS) with ESMTPS id 3q7wcbsb9g-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:15 +0000
Received: from NALASPPMTA02.qualcomm.com (NALASPPMTA02.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 33RN0FfG014923;
 Thu, 27 Apr 2023 23:00:15 GMT
Received: from hu-devc-sd-u20-a-1.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.204.221])
 by NALASPPMTA02.qualcomm.com (PPS) with ESMTPS id 33RN0EhP014899
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Thu, 27 Apr 2023 23:00:15 +0000
Received: by hu-devc-sd-u20-a-1.qualcomm.com (Postfix, from userid 47164)
 id EA0DE6CF; Thu, 27 Apr 2023 16:00:13 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v2 21/21] Hexagon (target/hexagon) Move items to DisasContext
Date: Thu, 27 Apr 2023 16:00:12 -0700
Message-Id: <20230427230012.3800327-22-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.25.1
In-Reply-To: <20230427230012.3800327-1-tsimpson@quicinc.com>
References: <20230427230012.3800327-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-GUID: Vm2CBu6j1C_j0bKAAVwzsJOXNnaU8PMZ
X-Proofpoint-ORIG-GUID: Vm2CBu6j1C_j0bKAAVwzsJOXNnaU8PMZ
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.254,Aquarius:18.0.942,Hydra:6.0.573,FMLib:17.11.170.22
 definitions=2023-04-27_09,2023-04-27_01,2023-02-09_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 clxscore=1015 bulkscore=0
 malwarescore=0 lowpriorityscore=0 suspectscore=0 mlxscore=0 phishscore=0
 spamscore=0 adultscore=0 priorityscore=1501 mlxlogscore=999
 impostorscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2303200000 definitions=main-2304270202
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

VGhlIGZvbGxvd2luZyBpdGVtcyBpbiB0aGUgQ1BVSGV4YWdvblN0YXRlIGFyZSBvbmx5IHVzZWQg
Zm9yIGJvb2trZWVwaW5nCndpdGhpbiB0aGUgdHJhbnNsYXRpb24gb2YgYSBwYWNrZXQuICBXaXRo
IHJlY2VudCBjaGFuZ2VzIHRoYXQgZWxpbWluYXRlCnRoZSBuZWVkIHRvIGZyZWUgVENHdiB2YXJp
YWJsZXMsIHRoZXNlIG1ha2UgbW9yZSBzZW5zZSB0byBiZSB0cmFuc2llbnQKYW5kIGtlcHQgaW4g
RGlzYXNDb250ZXh0LgoKVGhlIGZvbGxvd2luZyBpdGVtcyBhcmUgbW92ZWQKICAgIGRjemVyb19h
ZGRyCiAgICBicmFuY2hfdGFrZW4KICAgIHRoaXNfUEMKClN1Z2dlc3RlZC1ieTogUmljaGFyZCBI
ZW5kZXJzb24gPHJpY2hhcmQuaGVuZGVyc29uQGxpbmFyby5vcmc+ClNpZ25lZC1vZmYtYnk6IFRh
eWxvciBTaW1wc29uIDx0c2ltcHNvbkBxdWljaW5jLmNvbT4KUmV2aWV3ZWQtYnk6IFJpY2hhcmQg
SGVuZGVyc29uIDxyaWNoYXJkLmhlbmRlcnNvbkBsaW5hcm8ub3JnPgotLS0KIHRhcmdldC9oZXhh
Z29uL2NwdS5oICAgICAgIHwgIDMgLS0tCiB0YXJnZXQvaGV4YWdvbi9oZWxwZXIuaCAgICB8ICAy
ICstCiB0YXJnZXQvaGV4YWdvbi9tYWNyb3MuaCAgICB8ICA2ICsrKysrLQogdGFyZ2V0L2hleGFn
b24vdHJhbnNsYXRlLmggfCAgNSArKy0tLQogdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMgICAgfCAg
NiArKystLS0KIHRhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jIHwgIDUgKystLS0KIHRhcmdldC9o
ZXhhZ29uL3RyYW5zbGF0ZS5jIHwgMjMgKysrKysrKy0tLS0tLS0tLS0tLS0tLS0KIHRhcmdldC9o
ZXhhZ29uL1JFQURNRSAgICAgIHwgIDIgKy0KIDggZmlsZXMgY2hhbmdlZCwgMjEgaW5zZXJ0aW9u
cygrKSwgMzEgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vY3B1Lmgg
Yi90YXJnZXQvaGV4YWdvbi9jcHUuaAppbmRleCA3MmI3ZDc5Mjc5Li5kM2U1YmU3Nzc4IDEwMDY0
NAotLS0gYS90YXJnZXQvaGV4YWdvbi9jcHUuaAorKysgYi90YXJnZXQvaGV4YWdvbi9jcHUuaApA
QCAtNzgsNyArNzgsNiBAQCB0eXBlZGVmIHN0cnVjdCB7CiB0eXBlZGVmIHN0cnVjdCBDUFVBcmNo
U3RhdGUgewogICAgIHRhcmdldF91bG9uZyBncHJbVE9UQUxfUEVSX1RIUkVBRF9SRUdTXTsKICAg
ICB0YXJnZXRfdWxvbmcgcHJlZFtOVU1fUFJFR1NdOwotICAgIHRhcmdldF91bG9uZyBicmFuY2hf
dGFrZW47CiAKICAgICAvKiBGb3IgY29tcGFyaW5nIHdpdGggTExEQiBvbiB0YXJnZXQgLSBzZWUg
YWRqdXN0X3N0YWNrX3B0cnMgZnVuY3Rpb24gKi8KICAgICB0YXJnZXRfdWxvbmcgbGFzdF9wY19k
dW1wZWQ7CkBAIC05MSwxMSArOTAsOSBAQCB0eXBlZGVmIHN0cnVjdCBDUFVBcmNoU3RhdGUgewog
ICAgICAqIE9ubHkgdXNlZCB3aGVuIEhFWF9ERUJVRyBpcyBvbiwgYnV0IHVuY29uZGl0aW9uYWxs
eSBpbmNsdWRlZAogICAgICAqIHRvIHJlZHVjZSByZWNvbXBpbGUgdGltZSB3aGVuIHR1cm5pbmcg
SEVYX0RFQlVHIG9uL29mZi4KICAgICAgKi8KLSAgICB0YXJnZXRfdWxvbmcgdGhpc19QQzsKICAg
ICB0YXJnZXRfdWxvbmcgcmVnX3dyaXR0ZW5bVE9UQUxfUEVSX1RIUkVBRF9SRUdTXTsKIAogICAg
IE1lbUxvZyBtZW1fbG9nX3N0b3Jlc1tTVE9SRVNfTUFYXTsKLSAgICB0YXJnZXRfdWxvbmcgZGN6
ZXJvX2FkZHI7CiAKICAgICBmbG9hdF9zdGF0dXMgZnBfc3RhdHVzOwogCmRpZmYgLS1naXQgYS90
YXJnZXQvaGV4YWdvbi9oZWxwZXIuaCBiL3RhcmdldC9oZXhhZ29uL2hlbHBlci5oCmluZGV4IGYz
YjI5OGJlZWUuLmZhMGViYWY3YzggMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2hlbHBlci5o
CisrKyBiL3RhcmdldC9oZXhhZ29uL2hlbHBlci5oCkBAIC0yMSw3ICsyMSw3IEBACiBERUZfSEVM
UEVSX0ZMQUdTXzIocmFpc2VfZXhjZXB0aW9uLCBUQ0dfQ0FMTF9OT19SRVRVUk4sIG5vcmV0dXJu
LCBlbnYsIGkzMikKIERFRl9IRUxQRVJfMShkZWJ1Z19zdGFydF9wYWNrZXQsIHZvaWQsIGVudikK
IERFRl9IRUxQRVJfRkxBR1NfMyhkZWJ1Z19jaGVja19zdG9yZV93aWR0aCwgVENHX0NBTExfTk9f
V0csIHZvaWQsIGVudiwgaW50LCBpbnQpCi1ERUZfSEVMUEVSX0ZMQUdTXzQoZGVidWdfY29tbWl0
X2VuZCwgVENHX0NBTExfTk9fV0csIHZvaWQsIGVudiwgaW50LCBpbnQsIGludCkKK0RFRl9IRUxQ
RVJfRkxBR1NfNShkZWJ1Z19jb21taXRfZW5kLCBUQ0dfQ0FMTF9OT19XRywgdm9pZCwgZW52LCBp
MzIsIGludCwgaW50LCBpbnQpCiBERUZfSEVMUEVSXzIoY29tbWl0X3N0b3JlLCB2b2lkLCBlbnYs
IGludCkKIERFRl9IRUxQRVJfMyhnYXRoZXJfc3RvcmUsIHZvaWQsIGVudiwgaTMyLCBpbnQpCiBE
RUZfSEVMUEVSXzEoY29tbWl0X2h2eF9zdG9yZXMsIHZvaWQsIGVudikKZGlmZiAtLWdpdCBhL3Rh
cmdldC9oZXhhZ29uL21hY3Jvcy5oIGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKaW5kZXggZjVl
YmFmN2Y1NC4uYmFkMjdkMWFlYiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgK
KysrIGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKQEAgLTY0OCw3ICs2NDgsMTEgQEAgc3RhdGlj
IGlubGluZSBUQ0d2IGdlbl9yZWFkX2lyZWcoVENHdiByZXN1bHQsIFRDR3YgdmFsLCBpbnQgc2hp
ZnQpCiAgICAgICAgICAgICAgICAgICAgcmVnX2ZpZWxkX2luZm9bRklFTERdLm9mZnNldCkKIAog
I2lmZGVmIFFFTVVfR0VORVJBVEUKLSNkZWZpbmUgZkRDWkVST0EoUkVHKSB0Y2dfZ2VuX21vdl90
bChoZXhfZGN6ZXJvX2FkZHIsIChSRUcpKQorI2RlZmluZSBmRENaRVJPQShSRUcpIFwKKyAgICBk
byB7IFwKKyAgICAgICAgY3R4LT5kY3plcm9fYWRkciA9IHRjZ190ZW1wX25ldygpOyBcCisgICAg
ICAgIHRjZ19nZW5fbW92X3RsKGN0eC0+ZGN6ZXJvX2FkZHIsIChSRUcpKTsgXAorICAgIH0gd2hp
bGUgKDApCiAjZW5kaWYKIAogI2RlZmluZSBmQlJBTkNIX1NQRUNVTEFURV9TVEFMTChET1RORVdW
QUwsIEpVTVBfQ09ORCwgU1BFQ19ESVIsIEhJTlRCSVROVU0sIFwKZGlmZiAtLWdpdCBhL3Rhcmdl
dC9oZXhhZ29uL3RyYW5zbGF0ZS5oIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKaW5kZXgg
OTY5N2I0ZGUwZS4uNGRkNTljNjcyNiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vdHJhbnNs
YXRlLmgKKysrIGIvdGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmgKQEAgLTcxLDYgKzcxLDggQEAg
dHlwZWRlZiBzdHJ1Y3QgRGlzYXNDb250ZXh0IHsKICAgICBUQ0d2IG5ld192YWx1ZVtUT1RBTF9Q
RVJfVEhSRUFEX1JFR1NdOwogICAgIFRDR3YgbmV3X3ByZWRfdmFsdWVbTlVNX1BSRUdTXTsKICAg
ICBUQ0d2IHByZWRfd3JpdHRlbjsKKyAgICBUQ0d2IGJyYW5jaF90YWtlbjsKKyAgICBUQ0d2IGRj
emVyb19hZGRyOwogfSBEaXNhc0NvbnRleHQ7CiAKIHN0YXRpYyBpbmxpbmUgdm9pZCBjdHhfbG9n
X3ByZWRfd3JpdGUoRGlzYXNDb250ZXh0ICpjdHgsIGludCBwbnVtKQpAQCAtMTg5LDE2ICsxOTEs
MTMgQEAgc3RhdGljIGlubGluZSB2b2lkIGN0eF9sb2dfcXJlZ19yZWFkKERpc2FzQ29udGV4dCAq
Y3R4LCBpbnQgcW51bSkKIAogZXh0ZXJuIFRDR3YgaGV4X2dwcltUT1RBTF9QRVJfVEhSRUFEX1JF
R1NdOwogZXh0ZXJuIFRDR3YgaGV4X3ByZWRbTlVNX1BSRUdTXTsKLWV4dGVybiBUQ0d2IGhleF90
aGlzX1BDOwogZXh0ZXJuIFRDR3YgaGV4X3Nsb3RfY2FuY2VsbGVkOwotZXh0ZXJuIFRDR3YgaGV4
X2JyYW5jaF90YWtlbjsKIGV4dGVybiBUQ0d2IGhleF9uZXdfdmFsdWVfdXNyOwogZXh0ZXJuIFRD
R3YgaGV4X3JlZ193cml0dGVuW1RPVEFMX1BFUl9USFJFQURfUkVHU107CiBleHRlcm4gVENHdiBo
ZXhfc3RvcmVfYWRkcltTVE9SRVNfTUFYXTsKIGV4dGVybiBUQ0d2IGhleF9zdG9yZV93aWR0aFtT
VE9SRVNfTUFYXTsKIGV4dGVybiBUQ0d2IGhleF9zdG9yZV92YWwzMltTVE9SRVNfTUFYXTsKIGV4
dGVybiBUQ0d2X2k2NCBoZXhfc3RvcmVfdmFsNjRbU1RPUkVTX01BWF07Ci1leHRlcm4gVENHdiBo
ZXhfZGN6ZXJvX2FkZHI7CiBleHRlcm4gVENHdiBoZXhfbGxzY19hZGRyOwogZXh0ZXJuIFRDR3Yg
aGV4X2xsc2NfdmFsOwogZXh0ZXJuIFRDR3ZfaTY0IGhleF9sbHNjX3ZhbF9pNjQ7CmRpZmYgLS1n
aXQgYS90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCmlu
ZGV4IDFlOThlMjkxM2MuLmJkMGUxMTI0N2EgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dl
bnB0ci5jCisrKyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jCkBAIC00ODAsOSArNDgwLDkgQEAg
c3RhdGljIHZvaWQgZ2VuX3dyaXRlX25ld19wY19hZGRyKERpc2FzQ29udGV4dCAqY3R4LCBUQ0d2
IGFkZHIsCiAgICAgaWYgKGN0eC0+cGt0LT5wa3RfaGFzX211bHRpX2NvZikgewogICAgICAgICAv
KiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgYnJhbmNoZXMgaW4gYSBwYWNrZXQsIGlnbm9yZSB0aGUg
c2Vjb25kIG9uZSAqLwogICAgICAgICB0Y2dfZ2VuX21vdmNvbmRfdGwoVENHX0NPTkRfTkUsIGhl
eF9ncHJbSEVYX1JFR19QQ10sCi0gICAgICAgICAgICAgICAgICAgICAgICAgICBoZXhfYnJhbmNo
X3Rha2VuLCB0Y2dfY29uc3RhbnRfdGwoMCksCisgICAgICAgICAgICAgICAgICAgICAgICAgICBj
dHgtPmJyYW5jaF90YWtlbiwgdGNnX2NvbnN0YW50X3RsKDApLAogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgaGV4X2dwcltIRVhfUkVHX1BDXSwgYWRkcik7Ci0gICAgICAgIHRjZ19nZW5fbW92
aV90bChoZXhfYnJhbmNoX3Rha2VuLCAxKTsKKyAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKGN0eC0+
YnJhbmNoX3Rha2VuLCAxKTsKICAgICB9IGVsc2UgewogICAgICAgICB0Y2dfZ2VuX21vdl90bCho
ZXhfZ3ByW0hFWF9SRUdfUENdLCBhZGRyKTsKICAgICB9CkBAIC01MDMsNyArNTAzLDcgQEAgc3Rh
dGljIHZvaWQgZ2VuX3dyaXRlX25ld19wY19wY3JlbChEaXNhc0NvbnRleHQgKmN0eCwgaW50IHBj
X29mZiwKICAgICAgICAgY3R4LT5icmFuY2hfY29uZCA9IFRDR19DT05EX0FMV0FZUzsKICAgICAg
ICAgaWYgKHByZWQgIT0gTlVMTCkgewogICAgICAgICAgICAgY3R4LT5icmFuY2hfY29uZCA9IGNv
bmQ7Ci0gICAgICAgICAgICB0Y2dfZ2VuX21vdl90bChoZXhfYnJhbmNoX3Rha2VuLCBwcmVkKTsK
KyAgICAgICAgICAgIHRjZ19nZW5fbW92X3RsKGN0eC0+YnJhbmNoX3Rha2VuLCBwcmVkKTsKICAg
ICAgICAgfQogICAgICAgICBjdHgtPmJyYW5jaF9kZXN0ID0gZGVzdDsKICAgICB9CmRpZmYgLS1n
aXQgYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBl
ci5jCmluZGV4IGRmYWJjZTMxMjMuLjEyOTY3YWMyMWUgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhh
Z29uL29wX2hlbHBlci5jCisrKyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCkBAIC0yMDMs
MTUgKzIwMywxNCBAQCBzdGF0aWMgdm9pZCBwcmludF9zdG9yZShDUFVIZXhhZ29uU3RhdGUgKmVu
diwgaW50IHNsb3QpCiB9CiAKIC8qIFRoaXMgZnVuY3Rpb24gaXMgYSBoYW5keSBwbGFjZSB0byBz
ZXQgYSBicmVha3BvaW50ICovCi12b2lkIEhFTFBFUihkZWJ1Z19jb21taXRfZW5kKShDUFVIZXhh
Z29uU3RhdGUgKmVudiwKK3ZvaWQgSEVMUEVSKGRlYnVnX2NvbW1pdF9lbmQpKENQVUhleGFnb25T
dGF0ZSAqZW52LCB1aW50MzJfdCB0aGlzX1BDLAogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgaW50IHByZWRfd3JpdHRlbiwgaW50IGhhc19zdDAsIGludCBoYXNfc3QxKQogewogICAgIGJv
b2wgcmVnX3ByaW50ZWQgPSBmYWxzZTsKICAgICBib29sIHByZWRfcHJpbnRlZCA9IGZhbHNlOwog
ICAgIGludCBpOwogCi0gICAgSEVYX0RFQlVHX0xPRygiUGFja2V0IGNvbW1pdHRlZDogcGMgPSAw
eCIgVEFSR0VUX0ZNVF9seCAiXG4iLAotICAgICAgICAgICAgICAgICAgZW52LT50aGlzX1BDKTsK
KyAgICBIRVhfREVCVUdfTE9HKCJQYWNrZXQgY29tbWl0dGVkOiBwYyA9IDB4IiBUQVJHRVRfRk1U
X2x4ICJcbiIsIHRoaXNfUEMpOwogICAgIEhFWF9ERUJVR19MT0coInNsb3RfY2FuY2VsbGVkID0g
JWRcbiIsIGVudi0+c2xvdF9jYW5jZWxsZWQpOwogCiAgICAgZm9yIChpID0gMDsgaSA8IFRPVEFM
X1BFUl9USFJFQURfUkVHUzsgaSsrKSB7CmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi90cmFu
c2xhdGUuYyBiL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCmluZGV4IGFmMzhjOTVlMjYuLjkw
OTllODE0MzEgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCisrKyBiL3Rh
cmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jCkBAIC00MSwxNyArNDEsMTMgQEAgc3RhdGljIGNvbnN0
IEFuYWx5emVJbnNuIG9wY29kZV9hbmFseXplW1hYX0xBU1RfT1BDT0RFXSA9IHsKIAogVENHdiBo
ZXhfZ3ByW1RPVEFMX1BFUl9USFJFQURfUkVHU107CiBUQ0d2IGhleF9wcmVkW05VTV9QUkVHU107
Ci1UQ0d2IGhleF90aGlzX1BDOwogVENHdiBoZXhfc2xvdF9jYW5jZWxsZWQ7Ci1UQ0d2IGhleF9i
cmFuY2hfdGFrZW47CiBUQ0d2IGhleF9uZXdfdmFsdWVfdXNyOwogVENHdiBoZXhfcmVnX3dyaXR0
ZW5bVE9UQUxfUEVSX1RIUkVBRF9SRUdTXTsKIFRDR3YgaGV4X3N0b3JlX2FkZHJbU1RPUkVTX01B
WF07CiBUQ0d2IGhleF9zdG9yZV93aWR0aFtTVE9SRVNfTUFYXTsKIFRDR3YgaGV4X3N0b3JlX3Zh
bDMyW1NUT1JFU19NQVhdOwogVENHdl9pNjQgaGV4X3N0b3JlX3ZhbDY0W1NUT1JFU19NQVhdOwot
VENHdiBoZXhfcGt0X2hhc19zdG9yZV9zMTsKLVRDR3YgaGV4X2RjemVyb19hZGRyOwogVENHdiBo
ZXhfbGxzY19hZGRyOwogVENHdiBoZXhfbGxzY192YWw7CiBUQ0d2X2k2NCBoZXhfbGxzY192YWxf
aTY0OwpAQCAtMTU3LDcgKzE1Myw3IEBAIHN0YXRpYyB2b2lkIGdlbl9lbmRfdGIoRGlzYXNDb250
ZXh0ICpjdHgpCiAgICAgaWYgKGN0eC0+YnJhbmNoX2NvbmQgIT0gVENHX0NPTkRfTkVWRVIpIHsK
ICAgICAgICAgaWYgKGN0eC0+YnJhbmNoX2NvbmQgIT0gVENHX0NPTkRfQUxXQVlTKSB7CiAgICAg
ICAgICAgICBUQ0dMYWJlbCAqc2tpcCA9IGdlbl9uZXdfbGFiZWwoKTsKLSAgICAgICAgICAgIHRj
Z19nZW5fYnJjb25kaV90bChjdHgtPmJyYW5jaF9jb25kLCBoZXhfYnJhbmNoX3Rha2VuLCAwLCBz
a2lwKTsKKyAgICAgICAgICAgIHRjZ19nZW5fYnJjb25kaV90bChjdHgtPmJyYW5jaF9jb25kLCBj
dHgtPmJyYW5jaF90YWtlbiwgMCwgc2tpcCk7CiAgICAgICAgICAgICBnZW5fZ290b190YihjdHgs
IDAsIGN0eC0+YnJhbmNoX2Rlc3QsIHRydWUpOwogICAgICAgICAgICAgZ2VuX3NldF9sYWJlbChz
a2lwKTsKICAgICAgICAgICAgIGdlbl9nb3RvX3RiKGN0eCwgMSwgY3R4LT5uZXh0X1BDLCBmYWxz
ZSk7CkBAIC01MjcsMTYgKzUyMywxNyBAQCBzdGF0aWMgdm9pZCBnZW5fc3RhcnRfcGFja2V0KERp
c2FzQ29udGV4dCAqY3R4KQogICAgIGlmIChIRVhfREVCVUcpIHsKICAgICAgICAgLyogSGFuZHkg
cGxhY2UgdG8gc2V0IGEgYnJlYWtwb2ludCBiZWZvcmUgdGhlIHBhY2tldCBleGVjdXRlcyAqLwog
ICAgICAgICBnZW5faGVscGVyX2RlYnVnX3N0YXJ0X3BhY2tldChjcHVfZW52KTsKLSAgICAgICAg
dGNnX2dlbl9tb3ZpX3RsKGhleF90aGlzX1BDLCBjdHgtPmJhc2UucGNfbmV4dCk7CiAgICAgfQog
CiAgICAgLyogSW5pdGlhbGl6ZSB0aGUgcnVudGltZSBzdGF0ZSBmb3IgcGFja2V0IHNlbWFudGlj
cyAqLwogICAgIGlmIChuZWVkX3Nsb3RfY2FuY2VsbGVkKHBrdCkpIHsKICAgICAgICAgdGNnX2dl
bl9tb3ZpX3RsKGhleF9zbG90X2NhbmNlbGxlZCwgMCk7CiAgICAgfQorICAgIGN0eC0+YnJhbmNo
X3Rha2VuID0gTlVMTDsKICAgICBpZiAocGt0LT5wa3RfaGFzX2NvZikgeworICAgICAgICBjdHgt
PmJyYW5jaF90YWtlbiA9IHRjZ190ZW1wX25ldygpOwogICAgICAgICBpZiAocGt0LT5wa3RfaGFz
X211bHRpX2NvZikgewotICAgICAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKGhleF9icmFuY2hfdGFr
ZW4sIDApOworICAgICAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKGN0eC0+YnJhbmNoX3Rha2VuLCAw
KTsKICAgICAgICAgfQogICAgICAgICBpZiAobmVlZF9uZXh0X1BDKGN0eCkpIHsKICAgICAgICAg
ICAgIHRjZ19nZW5fbW92aV90bChoZXhfZ3ByW0hFWF9SRUdfUENdLCBuZXh0X1BDKTsKQEAgLTgx
Miw3ICs4MDksNyBAQCBzdGF0aWMgdm9pZCBwcm9jZXNzX2RjemVyb2EoRGlzYXNDb250ZXh0ICpj
dHgpCiAgICAgICAgIFRDR3YgYWRkciA9IHRjZ190ZW1wX25ldygpOwogICAgICAgICBUQ0d2X2k2
NCB6ZXJvID0gdGNnX2NvbnN0YW50X2k2NCgwKTsKIAotICAgICAgICB0Y2dfZ2VuX2FuZGlfdGwo
YWRkciwgaGV4X2RjemVyb19hZGRyLCB+MHgxZik7CisgICAgICAgIHRjZ19nZW5fYW5kaV90bChh
ZGRyLCBjdHgtPmRjemVyb19hZGRyLCB+MHgxZik7CiAgICAgICAgIHRjZ19nZW5fcWVtdV9zdDY0
KHplcm8sIGFkZHIsIGN0eC0+bWVtX2lkeCk7CiAgICAgICAgIHRjZ19nZW5fYWRkaV90bChhZGRy
LCBhZGRyLCA4KTsKICAgICAgICAgdGNnX2dlbl9xZW11X3N0NjQoemVybywgYWRkciwgY3R4LT5t
ZW1faWR4KTsKQEAgLTk5OSw4ICs5OTYsOCBAQCBzdGF0aWMgdm9pZCBnZW5fY29tbWl0X3BhY2tl
dChEaXNhc0NvbnRleHQgKmN0eCkKICAgICAgICAgICAgIHRjZ19jb25zdGFudF90bChwa3QtPnBr
dF9oYXNfc3RvcmVfczEgJiYgIXBrdC0+cGt0X2hhc19kY3plcm9hKTsKIAogICAgICAgICAvKiBI
YW5keSBwbGFjZSB0byBzZXQgYSBicmVha3BvaW50IGF0IHRoZSBlbmQgb2YgZXhlY3V0aW9uICov
Ci0gICAgICAgIGdlbl9oZWxwZXJfZGVidWdfY29tbWl0X2VuZChjcHVfZW52LCBjdHgtPnByZWRf
d3JpdHRlbiwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc19zdDAsIGhh
c19zdDEpOworICAgICAgICBnZW5faGVscGVyX2RlYnVnX2NvbW1pdF9lbmQoY3B1X2VudiwgdGNn
X2NvbnN0YW50X3RsKGN0eC0+cGt0LT5wYyksCisgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjdHgtPnByZWRfd3JpdHRlbiwgaGFzX3N0MCwgaGFzX3N0MSk7CiAgICAgfQogCiAg
ICAgaWYgKHBrdC0+dmhpc3RfaW5zbiAhPSBOVUxMKSB7CkBAIC0xMTkzLDE0ICsxMTkwLDggQEAg
dm9pZCBoZXhhZ29uX3RyYW5zbGF0ZV9pbml0KHZvaWQpCiAgICAgICAgICAgICBvZmZzZXRvZihD
UFVIZXhhZ29uU3RhdGUsIHByZWRbaV0pLAogICAgICAgICAgICAgaGV4YWdvbl9wcmVkbmFtZXNb
aV0pOwogICAgIH0KLSAgICBoZXhfdGhpc19QQyA9IHRjZ19nbG9iYWxfbWVtX25ldyhjcHVfZW52
LAotICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIHRoaXNfUEMpLCAidGhpc19QQyIp
OwogICAgIGhleF9zbG90X2NhbmNlbGxlZCA9IHRjZ19nbG9iYWxfbWVtX25ldyhjcHVfZW52LAog
ICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIHNsb3RfY2FuY2VsbGVkKSwgInNsb3Rf
Y2FuY2VsbGVkIik7Ci0gICAgaGV4X2JyYW5jaF90YWtlbiA9IHRjZ19nbG9iYWxfbWVtX25ldyhj
cHVfZW52LAotICAgICAgICBvZmZzZXRvZihDUFVIZXhhZ29uU3RhdGUsIGJyYW5jaF90YWtlbiks
ICJicmFuY2hfdGFrZW4iKTsKLSAgICBoZXhfZGN6ZXJvX2FkZHIgPSB0Y2dfZ2xvYmFsX21lbV9u
ZXcoY3B1X2VudiwKLSAgICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0YXRlLCBkY3plcm9fYWRk
ciksICJkY3plcm9fYWRkciIpOwogICAgIGhleF9sbHNjX2FkZHIgPSB0Y2dfZ2xvYmFsX21lbV9u
ZXcoY3B1X2VudiwKICAgICAgICAgb2Zmc2V0b2YoQ1BVSGV4YWdvblN0YXRlLCBsbHNjX2FkZHIp
LCAibGxzY19hZGRyIik7CiAgICAgaGV4X2xsc2NfdmFsID0gdGNnX2dsb2JhbF9tZW1fbmV3KGNw
dV9lbnYsCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9SRUFETUUgYi90YXJnZXQvaGV4YWdv
bi9SRUFETUUKaW5kZXggYTlhNTE3Y2ZjOC4uOGVjZjIxZDgxNSAxMDA2NDQKLS0tIGEvdGFyZ2V0
L2hleGFnb24vUkVBRE1FCisrKyBiL3RhcmdldC9oZXhhZ29uL1JFQURNRQpAQCAtMzA0LDQgKzMw
NCw0IEBAIEhlcmUgYXJlIHNvbWUgaGFuZHkgcGxhY2VzIHRvIHNldCBicmVha3BvaW50cwogICAg
ICAgICBBdCB0aGUgc3RhcnQgb2YgZXhlY3V0aW9uIG9mIGEgcGFja2V0IGZvciBhIGdpdmVuIFBD
CiAgICAgICAgICAgICBiciBoZWxwZXJfZGVidWdfc3RhcnRfcGFja2V0IGlmIGVudi0+Z3ByWzQx
XSA9PSAweGRlYWRiZWVmCiAgICAgICAgIEF0IHRoZSBlbmQgb2YgZXhlY3V0aW9uIG9mIGEgcGFj
a2V0IGZvciBhIGdpdmVuIFBDCi0gICAgICAgICAgICBiciBoZWxwZXJfZGVidWdfY29tbWl0X2Vu
ZCBpZiBlbnYtPnRoaXNfUEMgPT0gMHhkZWFkYmVlZgorICAgICAgICAgICAgYnIgaGVscGVyX2Rl
YnVnX2NvbW1pdF9lbmQgaWYgdGhpc19QQyA9PSAweGRlYWRiZWVmCi0tIAoyLjI1LjEKCg==

