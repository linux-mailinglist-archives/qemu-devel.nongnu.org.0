Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id BD46B5BDFF8
	for <lists+qemu-devel@lfdr.de>; Tue, 20 Sep 2022 10:27:40 +0200 (CEST)
Received: from localhost ([::1]:38652 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1oaYbT-0003BO-Tj
	for lists+qemu-devel@lfdr.de; Tue, 20 Sep 2022 04:27:39 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:58714)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1oaYIe-0000NE-1k
 for qemu-devel@nongnu.org; Tue, 20 Sep 2022 04:08:16 -0400
Received: from mx0a-0031df01.pphosted.com ([205.220.168.131]:46724)
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1oaYIT-0005ZU-7s
 for qemu-devel@nongnu.org; Tue, 20 Sep 2022 04:08:11 -0400
Received: from pps.filterd (m0279866.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.5/8.17.1.5) with ESMTP id 28K7xvKA000663;
 Tue, 20 Sep 2022 08:07:51 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=hzCrboQLxYKUNJXCIITWoltLIoxm2vc7njlu2mk4kyU=;
 b=j5FlAf5+TLHW5wh2s5UXWvfdgJWlOfNL/U6r6ykOcX0nQ4z0JZaYpEjwZaH49TrcxKDP
 zCfvH4KpEYgmAKF5gGt7tYNjTQAKr1ULWI0ULeGk0JQJmkgfqCnSos6gfcPgFgUymaUM
 w4E0uFbKTrtSeP0l3b6PGuzHpmC7Qn17EyI9V+vjhgh4xX+bHlKRmuWahnf0LN5FK9Rm
 03O5K2A5NVcNqEFvTD8pjt7ietCpQwGwE4tQd0AN1xQosB1gnoofeCklXj/eWmcPy8vy
 jDMPbSkuaERLOSa78qLK5HF3ABZIr0fZNBNUkqfcm2QWMuyOoqxN9Hrho3/tA2X7Tx9k Dg== 
Received: from nalasppmta01.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3jq7320nfx-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Tue, 20 Sep 2022 08:07:50 +0000
Received: from pps.filterd (NALASPPMTA01.qualcomm.com [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 28K87oPF004138; 
 Tue, 20 Sep 2022 08:07:50 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTPS id 3jnqr7r219-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO);
 Tue, 20 Sep 2022 08:07:50 +0000
Received: from NALASPPMTA01.qualcomm.com (NALASPPMTA01.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 28K87nTO004132;
 Tue, 20 Sep 2022 08:07:49 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA01.qualcomm.com (PPS) with ESMTP id 28K87nsY004131;
 Tue, 20 Sep 2022 08:07:49 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id 4FE5D5000AE; Tue, 20 Sep 2022 01:07:49 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, f4bug@amsat.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, mlambert@quicinc.com
Subject: [PATCH 2/3] Hexagon (target/hexagon) move store size tracking to
 translation
Date: Tue, 20 Sep 2022 01:07:45 -0700
Message-Id: <20220920080746.26791-3-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20220920080746.26791-1-tsimpson@quicinc.com>
References: <20220920080746.26791-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: F1aFeG1FFk9CvW79ROVQRc00g_SqF0nR
X-Proofpoint-GUID: F1aFeG1FFk9CvW79ROVQRc00g_SqF0nR
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.205,Aquarius:18.0.895,Hydra:6.0.528,FMLib:17.11.122.1
 definitions=2022-09-20_02,2022-09-16_01,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 malwarescore=0 suspectscore=0
 adultscore=0 mlxlogscore=815 spamscore=0 phishscore=0 impostorscore=0
 lowpriorityscore=0 priorityscore=1501 bulkscore=0 clxscore=1011 mlxscore=0
 classifier=spam adjust=0 reason=mlx scancount=1 engine=8.12.0-2209130000
 definitions=main-2209200049
Received-SPF: pass client-ip=205.220.168.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0a-0031df01.pphosted.com
X-Spam_score_int: -24
X-Spam_score: -2.5
X-Spam_bar: --
X-Spam_report: (-2.5 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.25,
 RCVD_IN_DNSWL_LOW=-0.7, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

VGhlIHN0b3JlIHdpZHRoIGlzIG5lZWRlZCBmb3IgcGFja2V0IGNvbW1pdCwgc28gaXQgaXMgc3Rv
cmVkIGluCmN0eC0+c3RvcmVfd2lkdGguICBDdXJyZW50bHksIGl0IGlzIHNldCB3aGVuIGEgc3Rv
cmUgaGFzIGEgVENHCm92ZXJyaWRlIGluc3RlYWQgb2YgYSBRRU1VIGhlbHBlci4gIEluIHRoZSBR
RU1VIGhlbHBlciBjYXNlLCB0aGUKY3R4LT5zdG9yZV93aWR0aCBpcyBub3Qgc2V0LCB3ZSBpbnZv
a2UgYSBoZWxwZXIgZHVyaW5nIHBhY2tldCBjb21taXQKdGhhdCB1c2VzIHRoZSBydW50aW1lIHN0
b3JlIHdpZHRoLgoKVGhpcyBwYXRjaCBlbnN1cmVzIGN0eC0+c3RvcmVfd2lkdGggaXMgc2V0IGZv
ciBhbGwgc3RvcmUgaW5zdHJ1Y3Rpb25zLApzbyBwZXJmb3JtYW5jZSBpcyBpbXByb3ZlZCBiZWNh
dXNlIHBhY2tldCBjb21taXQgY2FuIGdlbmVyYXRlIHRoZSBwcm9wZXIKVENHIHN0b3JlIHJhdGhl
ciB0aGFuIHRoZSBnZW5lcmljIGhlbHBlci4KCldlIGRvIHRoaXMgYnkKLSBVc2UgdGhlIGF0dHJp
YnV0ZXMgZnJvbSB0aGUgaW5zdHJ1Y3Rpb25zIGR1cmluZyB0cmFuc2xhdGlvbiB0bwogIHNldCBj
dHgtPnN0b3JlX3dpZHRoCi0gUmVtb3ZlIHNldHRpbmcgb2YgY3R4LT5zdG9yZV93aWR0aCBmcm9t
IGdlbnB0ci5jCgpTaWduZWQtb2ZmLWJ5OiBUYXlsb3IgU2ltcHNvbiA8dHNpbXBzb25AcXVpY2lu
Yy5jb20+Ci0tLQogdGFyZ2V0L2hleGFnb24vbWFjcm9zLmggICAgfCAgOCArKysrLS0tLQogdGFy
Z2V0L2hleGFnb24vZ2VucHRyLmMgICAgfCAzNiArKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jIHwgMjYgKysrKysrKysrKysrKysr
KysrKysrKysrKysKIDMgZmlsZXMgY2hhbmdlZCwgNDIgaW5zZXJ0aW9ucygrKSwgMjggZGVsZXRp
b25zKC0pCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmggYi90YXJnZXQvaGV4
YWdvbi9tYWNyb3MuaAppbmRleCA5MmViOGJiZjA1Li5jODgwNWJkYWViIDEwMDY0NAotLS0gYS90
YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAorKysgYi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaApAQCAt
MTU2LDcgKzE1Niw3IEBACiAgICAgICAgIF9fYnVpbHRpbl9jaG9vc2VfZXhwcihUWVBFX1RDR1Yo
WCksIFwKICAgICAgICAgICAgIGdlbl9zdG9yZTEsICh2b2lkKTApKQogI2RlZmluZSBNRU1fU1RP
UkUxKFZBLCBEQVRBLCBTTE9UKSBcCi0gICAgTUVNX1NUT1JFMV9GVU5DKERBVEEpKGNwdV9lbnYs
IFZBLCBEQVRBLCBjdHgsIFNMT1QpCisgICAgTUVNX1NUT1JFMV9GVU5DKERBVEEpKGNwdV9lbnYs
IFZBLCBEQVRBLCBTTE9UKQogCiAjZGVmaW5lIE1FTV9TVE9SRTJfRlVOQyhYKSBcCiAgICAgX19i
dWlsdGluX2Nob29zZV9leHByKFRZUEVfSU5UKFgpLCBcCkBAIC0xNjQsNyArMTY0LDcgQEAKICAg
ICAgICAgX19idWlsdGluX2Nob29zZV9leHByKFRZUEVfVENHVihYKSwgXAogICAgICAgICAgICAg
Z2VuX3N0b3JlMiwgKHZvaWQpMCkpCiAjZGVmaW5lIE1FTV9TVE9SRTIoVkEsIERBVEEsIFNMT1Qp
IFwKLSAgICBNRU1fU1RPUkUyX0ZVTkMoREFUQSkoY3B1X2VudiwgVkEsIERBVEEsIGN0eCwgU0xP
VCkKKyAgICBNRU1fU1RPUkUyX0ZVTkMoREFUQSkoY3B1X2VudiwgVkEsIERBVEEsIFNMT1QpCiAK
ICNkZWZpbmUgTUVNX1NUT1JFNF9GVU5DKFgpIFwKICAgICBfX2J1aWx0aW5fY2hvb3NlX2V4cHIo
VFlQRV9JTlQoWCksIFwKQEAgLTE3Miw3ICsxNzIsNyBAQAogICAgICAgICBfX2J1aWx0aW5fY2hv
b3NlX2V4cHIoVFlQRV9UQ0dWKFgpLCBcCiAgICAgICAgICAgICBnZW5fc3RvcmU0LCAodm9pZCkw
KSkKICNkZWZpbmUgTUVNX1NUT1JFNChWQSwgREFUQSwgU0xPVCkgXAotICAgIE1FTV9TVE9SRTRf
RlVOQyhEQVRBKShjcHVfZW52LCBWQSwgREFUQSwgY3R4LCBTTE9UKQorICAgIE1FTV9TVE9SRTRf
RlVOQyhEQVRBKShjcHVfZW52LCBWQSwgREFUQSwgU0xPVCkKIAogI2RlZmluZSBNRU1fU1RPUkU4
X0ZVTkMoWCkgXAogICAgIF9fYnVpbHRpbl9jaG9vc2VfZXhwcihUWVBFX0lOVChYKSwgXApAQCAt
MTgwLDcgKzE4MCw3IEBACiAgICAgICAgIF9fYnVpbHRpbl9jaG9vc2VfZXhwcihUWVBFX1RDR1Zf
STY0KFgpLCBcCiAgICAgICAgICAgICBnZW5fc3RvcmU4LCAodm9pZCkwKSkKICNkZWZpbmUgTUVN
X1NUT1JFOChWQSwgREFUQSwgU0xPVCkgXAotICAgIE1FTV9TVE9SRThfRlVOQyhEQVRBKShjcHVf
ZW52LCBWQSwgREFUQSwgY3R4LCBTTE9UKQorICAgIE1FTV9TVE9SRThfRlVOQyhEQVRBKShjcHVf
ZW52LCBWQSwgREFUQSwgU0xPVCkKICNlbHNlCiAjZGVmaW5lIE1FTV9MT0FEMXMoVkEpICgoaW50
OF90KW1lbV9sb2FkMShlbnYsIHNsb3QsIFZBKSkKICNkZWZpbmUgTUVNX0xPQUQxdShWQSkgKCh1
aW50OF90KW1lbV9sb2FkMShlbnYsIHNsb3QsIFZBKSkKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhh
Z29uL2dlbnB0ci5jIGIvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMKaW5kZXggOGEzMzRiYTA3Yi4u
ODA2ZDA5NzRmZiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMKKysrIGIvdGFy
Z2V0L2hleGFnb24vZ2VucHRyLmMKQEAgLTQwMSw2MiArNDAxLDUwIEBAIHN0YXRpYyBpbmxpbmUg
dm9pZCBnZW5fc3RvcmUzMihUQ0d2IHZhZGRyLCBUQ0d2IHNyYywgaW50IHdpZHRoLCBpbnQgc2xv
dCkKICAgICB0Y2dfZ2VuX21vdl90bChoZXhfc3RvcmVfdmFsMzJbc2xvdF0sIHNyYyk7CiB9CiAK
LXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmUxKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFk
ZHIsIFRDR3Ygc3JjLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlzYXNDb250ZXh0
ICpjdHgsIGludCBzbG90KQorc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9yZTEoVENHdl9lbnYg
Y3B1X2VudiwgVENHdiB2YWRkciwgVENHdiBzcmMsIGludCBzbG90KQogewogICAgIGdlbl9zdG9y
ZTMyKHZhZGRyLCBzcmMsIDEsIHNsb3QpOwotICAgIGN0eC0+c3RvcmVfd2lkdGhbc2xvdF0gPSAx
OwogfQogCi1zdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlMWkoVENHdl9lbnYgY3B1X2Vudiwg
VENHdiB2YWRkciwgaW50MzJfdCBzcmMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
RGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90KQorc3RhdGljIGlubGluZSB2b2lkIGdlbl9zdG9y
ZTFpKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFkZHIsIGludDMyX3Qgc3JjLCBpbnQgc2xvdCkK
IHsKICAgICBUQ0d2IHRtcCA9IHRjZ19jb25zdGFudF90bChzcmMpOwotICAgIGdlbl9zdG9yZTEo
Y3B1X2VudiwgdmFkZHIsIHRtcCwgY3R4LCBzbG90KTsKKyAgICBnZW5fc3RvcmUxKGNwdV9lbnYs
IHZhZGRyLCB0bXAsIHNsb3QpOwogfQogCi1zdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlMihU
Q0d2X2VudiBjcHVfZW52LCBUQ0d2IHZhZGRyLCBUQ0d2IHNyYywKLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIERpc2FzQ29udGV4dCAqY3R4LCBpbnQgc2xvdCkKK3N0YXRpYyBpbmxpbmUg
dm9pZCBnZW5fc3RvcmUyKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFkZHIsIFRDR3Ygc3JjLCBp
bnQgc2xvdCkKIHsKICAgICBnZW5fc3RvcmUzMih2YWRkciwgc3JjLCAyLCBzbG90KTsKLSAgICBj
dHgtPnN0b3JlX3dpZHRoW3Nsb3RdID0gMjsKIH0KIAotc3RhdGljIGlubGluZSB2b2lkIGdlbl9z
dG9yZTJpKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFkZHIsIGludDMyX3Qgc3JjLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FzQ29udGV4dCAqY3R4LCBpbnQgc2xvdCkKK3N0
YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmUyaShUQ0d2X2VudiBjcHVfZW52LCBUQ0d2IHZhZGRy
LCBpbnQzMl90IHNyYywgaW50IHNsb3QpCiB7CiAgICAgVENHdiB0bXAgPSB0Y2dfY29uc3RhbnRf
dGwoc3JjKTsKLSAgICBnZW5fc3RvcmUyKGNwdV9lbnYsIHZhZGRyLCB0bXAsIGN0eCwgc2xvdCk7
CisgICAgZ2VuX3N0b3JlMihjcHVfZW52LCB2YWRkciwgdG1wLCBzbG90KTsKIH0KIAotc3RhdGlj
IGlubGluZSB2b2lkIGdlbl9zdG9yZTQoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgVENH
diBzcmMsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhc0NvbnRleHQgKmN0eCwg
aW50IHNsb3QpCitzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlNChUQ0d2X2VudiBjcHVfZW52
LCBUQ0d2IHZhZGRyLCBUQ0d2IHNyYywgaW50IHNsb3QpCiB7CiAgICAgZ2VuX3N0b3JlMzIodmFk
ZHIsIHNyYywgNCwgc2xvdCk7Ci0gICAgY3R4LT5zdG9yZV93aWR0aFtzbG90XSA9IDQ7CiB9CiAK
LXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmU0aShUQ0d2X2VudiBjcHVfZW52LCBUQ0d2IHZh
ZGRyLCBpbnQzMl90IHNyYywKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaXNhc0Nv
bnRleHQgKmN0eCwgaW50IHNsb3QpCitzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlNGkoVENH
dl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgaW50MzJfdCBzcmMsIGludCBzbG90KQogewogICAg
IFRDR3YgdG1wID0gdGNnX2NvbnN0YW50X3RsKHNyYyk7Ci0gICAgZ2VuX3N0b3JlNChjcHVfZW52
LCB2YWRkciwgdG1wLCBjdHgsIHNsb3QpOworICAgIGdlbl9zdG9yZTQoY3B1X2VudiwgdmFkZHIs
IHRtcCwgc2xvdCk7CiB9CiAKLXN0YXRpYyBpbmxpbmUgdm9pZCBnZW5fc3RvcmU4KFRDR3ZfZW52
IGNwdV9lbnYsIFRDR3YgdmFkZHIsIFRDR3ZfaTY0IHNyYywKLSAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIERpc2FzQ29udGV4dCAqY3R4LCBpbnQgc2xvdCkKK3N0YXRpYyBpbmxpbmUgdm9p
ZCBnZW5fc3RvcmU4KFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFkZHIsIFRDR3ZfaTY0IHNyYywg
aW50IHNsb3QpCiB7CiAgICAgdGNnX2dlbl9tb3ZfdGwoaGV4X3N0b3JlX2FkZHJbc2xvdF0sIHZh
ZGRyKTsKICAgICB0Y2dfZ2VuX21vdmlfdGwoaGV4X3N0b3JlX3dpZHRoW3Nsb3RdLCA4KTsKICAg
ICB0Y2dfZ2VuX21vdl9pNjQoaGV4X3N0b3JlX3ZhbDY0W3Nsb3RdLCBzcmMpOwotICAgIGN0eC0+
c3RvcmVfd2lkdGhbc2xvdF0gPSA4OwogfQogCi1zdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3Jl
OGkoVENHdl9lbnYgY3B1X2VudiwgVENHdiB2YWRkciwgaW50NjRfdCBzcmMsCi0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgRGlzYXNDb250ZXh0ICpjdHgsIGludCBzbG90KQorc3RhdGlj
IGlubGluZSB2b2lkIGdlbl9zdG9yZThpKFRDR3ZfZW52IGNwdV9lbnYsIFRDR3YgdmFkZHIsIGlu
dDY0X3Qgc3JjLCBpbnQgc2xvdCkKIHsKICAgICBUQ0d2X2k2NCB0bXAgPSB0Y2dfY29uc3RhbnRf
aTY0KHNyYyk7Ci0gICAgZ2VuX3N0b3JlOChjcHVfZW52LCB2YWRkciwgdG1wLCBjdHgsIHNsb3Qp
OworICAgIGdlbl9zdG9yZTgoY3B1X2VudiwgdmFkZHIsIHRtcCwgc2xvdCk7CiB9CiAKIHN0YXRp
YyBUQ0d2IGdlbl84Yml0c29mKFRDR3YgcmVzdWx0LCBUQ0d2IHZhbHVlKQpkaWZmIC0tZ2l0IGEv
dGFyZ2V0L2hleGFnb24vdHJhbnNsYXRlLmMgYi90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYwpp
bmRleCAwZThhMDc3MmY3Li5iYzAyODcwYjlmIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi90
cmFuc2xhdGUuYworKysgYi90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYwpAQCAtMzI3LDYgKzMy
NywzMSBAQCBzdGF0aWMgdm9pZCBtYXJrX2ltcGxpY2l0X3ByZWRfd3JpdGVzKERpc2FzQ29udGV4
dCAqY3R4LCBJbnNuICppbnNuKQogICAgIG1hcmtfaW1wbGljaXRfcHJlZF93cml0ZShjdHgsIGlu
c24sIEFfSU1QTElDSVRfV1JJVEVTX1AzLCAzKTsKIH0KIAorc3RhdGljIHZvaWQgbWFya19zdG9y
ZV93aWR0aChEaXNhc0NvbnRleHQgKmN0eCwgSW5zbiAqaW5zbikKK3sKKyAgICB1aW50MTZfdCBv
cGNvZGUgPSBpbnNuLT5vcGNvZGU7CisgICAgdWludDMyX3Qgc2xvdCA9IGluc24tPnNsb3Q7CisK
KyAgICBpZiAoR0VUX0FUVFJJQihvcGNvZGUsIEFfU1RPUkUpKSB7CisgICAgICAgIGlmIChHRVRf
QVRUUklCKG9wY29kZSwgQV9NRU1TSVpFXzFCKSkgeworICAgICAgICAgICAgY3R4LT5zdG9yZV93
aWR0aFtzbG90XSA9IDE7CisgICAgICAgICAgICByZXR1cm47CisgICAgICAgIH0KKyAgICAgICAg
aWYgKEdFVF9BVFRSSUIob3Bjb2RlLCBBX01FTVNJWkVfMkIpKSB7CisgICAgICAgICAgICBjdHgt
PnN0b3JlX3dpZHRoW3Nsb3RdID0gMjsKKyAgICAgICAgICAgIHJldHVybjsKKyAgICAgICAgfQor
ICAgICAgICBpZiAoR0VUX0FUVFJJQihvcGNvZGUsIEFfTUVNU0laRV80QikpIHsKKyAgICAgICAg
ICAgIGN0eC0+c3RvcmVfd2lkdGhbc2xvdF0gPSA0OworICAgICAgICAgICAgcmV0dXJuOworICAg
ICAgICB9CisgICAgICAgIGlmIChHRVRfQVRUUklCKG9wY29kZSwgQV9NRU1TSVpFXzhCKSkgewor
ICAgICAgICAgICAgY3R4LT5zdG9yZV93aWR0aFtzbG90XSA9IDg7CisgICAgICAgICAgICByZXR1
cm47CisgICAgICAgIH0KKyAgICB9Cit9CisKIHN0YXRpYyB2b2lkIGdlbl9pbnNuKENQVUhleGFn
b25TdGF0ZSAqZW52LCBEaXNhc0NvbnRleHQgKmN0eCwKICAgICAgICAgICAgICAgICAgICAgIElu
c24gKmluc24sIFBhY2tldCAqcGt0KQogewpAQCAtMzM0LDYgKzM1OSw3IEBAIHN0YXRpYyB2b2lk
IGdlbl9pbnNuKENQVUhleGFnb25TdGF0ZSAqZW52LCBEaXNhc0NvbnRleHQgKmN0eCwKICAgICAg
ICAgbWFya19pbXBsaWNpdF9yZWdfd3JpdGVzKGN0eCwgaW5zbik7CiAgICAgICAgIGluc24tPmdl
bmVyYXRlKGVudiwgY3R4LCBpbnNuLCBwa3QpOwogICAgICAgICBtYXJrX2ltcGxpY2l0X3ByZWRf
d3JpdGVzKGN0eCwgaW5zbik7CisgICAgICAgIG1hcmtfc3RvcmVfd2lkdGgoY3R4LCBpbnNuKTsK
ICAgICB9IGVsc2UgewogICAgICAgICBnZW5fZXhjZXB0aW9uX2VuZF90YihjdHgsIEhFWF9FWENQ
X0lOVkFMSURfT1BDT0RFKTsKICAgICB9Ci0tIAoyLjE3LjEKCg==

