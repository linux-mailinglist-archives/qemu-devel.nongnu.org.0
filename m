Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 2FE88578DBA
	for <lists+qemu-devel@lfdr.de>; Tue, 19 Jul 2022 00:51:11 +0200 (CEST)
Received: from localhost ([::1]:57352 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1oDZa2-0002fq-Bm
	for lists+qemu-devel@lfdr.de; Mon, 18 Jul 2022 18:51:10 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10]:39736)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1oDZYE-0008GW-MH
 for qemu-devel@nongnu.org; Mon, 18 Jul 2022 18:49:18 -0400
Received: from alexa-out.qualcomm.com ([129.46.98.28]:16625)
 by eggs.gnu.org with esmtps (TLS1.2:RSA_AES_256_CBC_SHA1:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1oDZY7-0003Ip-Eb
 for qemu-devel@nongnu.org; Mon, 18 Jul 2022 18:49:18 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=quicinc.com; i=@quicinc.com; q=dns/txt; s=qcdkim;
 t=1658184551; x=1689720551;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=FRczhvTGf0IwqZe8q1dpAsFSq2qM8+TAlWozg0slPVA=;
 b=IAeQLVbiPCah0AO2C6WRonfeXsb95mTbHweSpLpjNW4iqPscpzaLwp9U
 oiDeJwvr6OcH0a8C1HMZfM5znr2YM6N7D/GXt9FM+42ieCSp2XJNP/6pF
 W8xgunOhJOyYIduPATDUhrAcThofNnCjoIG2b7tk5R9YPBPZWzZ9oCuav Y=;
Received: from ironmsg-lv-alpha.qualcomm.com ([10.47.202.13])
 by alexa-out.qualcomm.com with ESMTP; 18 Jul 2022 15:49:07 -0700
X-QCInternal: smtphost
Received: from hu-tsimpson-lv.qualcomm.com (HELO
 hu-devc-lv-u18-c.qualcomm.com) ([10.47.235.220])
 by ironmsg-lv-alpha.qualcomm.com with ESMTP; 18 Jul 2022 15:49:07 -0700
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id 51E145005BE; Mon, 18 Jul 2022 15:48:47 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, f4bug@amsat.org,
 peter.maydell@linaro.org
Subject: [PULL 2/2] Hexagon (target/hexagon) fix bug in mem_noshuf load
 exception
Date: Mon, 18 Jul 2022 15:48:45 -0700
Message-Id: <20220718224845.19878-3-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20220718224845.19878-1-tsimpson@quicinc.com>
References: <20220718224845.19878-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Received-SPF: pass client-ip=129.46.98.28; envelope-from=tsimpson@qualcomm.com;
 helo=alexa-out.qualcomm.com
X-Spam_score_int: -40
X-Spam_score: -4.1
X-Spam_bar: ----
X-Spam_report: (-4.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.249,
 RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_NONE=0.001, SPF_PASS=-0.001,
 T_SCC_BODY_TEXT_LINE=-0.01 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

VGhlIHNlbWFudGljcyBvZiBhIG1lbV9ub3NodWYgcGFja2V0IGFyZSB0aGF0IHRoZSBzdG9yZSBl
ZmZlY3RpdmVseQpoYXBwZW5zIGJlZm9yZSB0aGUgbG9hZC4gIEhvd2V2ZXIsIGluIGNhc2VzIHdo
ZXJlIHRoZSBsb2FkIHJhaXNlcyBhbgpleGNlcHRpb24sIHdlIGNhbm5vdCBzaW1wbHkgZXhlY3V0
ZSB0aGUgc3RvcmUgZmlyc3QuCgpUaGlzIGNoYW5nZSBhZGRzIGEgcHJvYmUgdG8gY2hlY2sgdGhh
dCB0aGUgbG9hZCB3aWxsIG5vdCByYWlzZSBhbgpleGNlcHRpb24gYmVmb3JlIGV4ZWN1dGluZyB0
aGUgc3RvcmUuCgpJZiB0aGUgbG9hZCBpcyBwcmVkaWNhdGVkLCB0aGlzIHJlcXVpcmVzIHNwZWNp
YWwgaGFuZGxpbmcuICBXZSBjaGVjawp0aGUgY29uZGl0aW9uIGJlZm9yZSBwZXJmb3JtaW5nIHRo
ZSBwcm9iZS4gIFNpbmNlLCB3ZSBuZWVkIHRoZSBFQSB0bwpwZXJmb3JtIHRoZSBjaGVjaywgd2Ug
bW92ZSB0aGUgR0VUX0VBIHBvcnRpb24gaW5zaWRlIENIRUNLX05PU0hVRl9QUkVELgoKVGVzdCBj
YXNlIGFkZGVkIGluIHRlc3RzL3RjZy9oZXhhZ29uL21lbV9ub3NodWZfZXhjZXB0aW9uLmMKClN1
Z2dlc3RlZC1ieTogQWxlc3NhbmRybyBEaSBGZWRlcmljbyA8YWxlQHJldi5uZz4KU3VnZ2VzdGVk
LWJ5OiBBbnRvbiBKb2hhbnNzb24gPGFuam9AcmV2Lm5nPgpTaWduZWQtb2ZmLWJ5OiBUYXlsb3Ig
U2ltcHNvbiA8dHNpbXBzb25AcXVpY2luYy5jb20+ClJldmlld2VkLWJ5OiBSaWNoYXJkIEhlbmRl
cnNvbiA8cmljaGFyZC5oZW5kZXJzb25AbGluYXJvLm9yZz4KTWVzc2FnZS1JZDogPDIwMjIwNzA3
MjEwNTQ2LjE1OTg1LTMtdHNpbXBzb25AcXVpY2luYy5jb20+Ci0tLQogdGFyZ2V0L2hleGFnb24v
Z2VuX3RjZy5oICAgICAgICAgICAgICAgICB8ICAxMiArLQogdGFyZ2V0L2hleGFnb24vaGVscGVy
LmggICAgICAgICAgICAgICAgICB8ICAgMSArCiB0YXJnZXQvaGV4YWdvbi9tYWNyb3MuaCAgICAg
ICAgICAgICAgICAgIHwgIDM3ICsrKystLQogdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMgICAgICAg
ICAgICAgICAgICB8ICAgNyArKwogdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMgICAgICAgICAg
ICAgICB8ICAyMyArKystCiB0ZXN0cy90Y2cvaGV4YWdvbi9tZW1fbm9zaHVmX2V4Y2VwdGlvbi5j
IHwgMTQ2ICsrKysrKysrKysrKysrKysrKysrKysrCiB0ZXN0cy90Y2cvaGV4YWdvbi9NYWtlZmls
ZS50YXJnZXQgICAgICAgIHwgICAxICsKIDcgZmlsZXMgY2hhbmdlZCwgMjA2IGluc2VydGlvbnMo
KyksIDIxIGRlbGV0aW9ucygtKQogY3JlYXRlIG1vZGUgMTAwNjQ0IHRlc3RzL3RjZy9oZXhhZ29u
L21lbV9ub3NodWZfZXhjZXB0aW9uLmMKCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5f
dGNnLmggYi90YXJnZXQvaGV4YWdvbi9nZW5fdGNnLmgKaW5kZXggYjBiNmIzNjQ0ZS4uNTA2MzRh
YzQ1OSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZy5oCisrKyBiL3RhcmdldC9o
ZXhhZ29uL2dlbl90Y2cuaApAQCAtMzM5LDEzICszMzksMTMgQEAKICAgICBkbyB7IFwKICAgICAg
ICAgVENHdiBMU0IgPSB0Y2dfdGVtcF9sb2NhbF9uZXcoKTsgXAogICAgICAgICBUQ0dMYWJlbCAq
bGFiZWwgPSBnZW5fbmV3X2xhYmVsKCk7IFwKLSAgICAgICAgR0VUX0VBOyBcCisgICAgICAgIHRj
Z19nZW5fbW92aV90bChFQSwgMCk7IFwKICAgICAgICAgUFJFRDsgIFwKKyAgICAgICAgQ0hFQ0tf
Tk9TSFVGX1BSRUQoR0VUX0VBLCBTSVpFLCBMU0IpOyBcCiAgICAgICAgIFBSRURfTE9BRF9DQU5D
RUwoTFNCLCBFQSk7IFwKICAgICAgICAgdGNnX2dlbl9tb3ZpX3RsKFJkViwgMCk7IFwKLSAgICAg
ICAgQ0hFQ0tfTk9TSFVGOyBcCiAgICAgICAgIHRjZ19nZW5fYnJjb25kaV90bChUQ0dfQ09ORF9F
USwgTFNCLCAwLCBsYWJlbCk7IFwKLSAgICAgICAgICAgIGZMT0FEKDEsIFNJWkUsIFNJR04sIEVB
LCBSZFYpOyBcCisgICAgICAgIGZMT0FEKDEsIFNJWkUsIFNJR04sIEVBLCBSZFYpOyBcCiAgICAg
ICAgIGdlbl9zZXRfbGFiZWwobGFiZWwpOyBcCiAgICAgICAgIHRjZ190ZW1wX2ZyZWUoTFNCKTsg
XAogICAgIH0gd2hpbGUgKDApCkBAIC0zOTksMTMgKzM5OSwxMyBAQAogICAgIGRvIHsgXAogICAg
ICAgICBUQ0d2IExTQiA9IHRjZ190ZW1wX2xvY2FsX25ldygpOyBcCiAgICAgICAgIFRDR0xhYmVs
ICpsYWJlbCA9IGdlbl9uZXdfbGFiZWwoKTsgXAotICAgICAgICBHRVRfRUE7IFwKKyAgICAgICAg
dGNnX2dlbl9tb3ZpX3RsKEVBLCAwKTsgXAogICAgICAgICBQUkVEOyAgXAorICAgICAgICBDSEVD
S19OT1NIVUZfUFJFRChHRVRfRUEsIDgsIExTQik7IFwKICAgICAgICAgUFJFRF9MT0FEX0NBTkNF
TChMU0IsIEVBKTsgXAogICAgICAgICB0Y2dfZ2VuX21vdmlfaTY0KFJkZFYsIDApOyBcCi0gICAg
ICAgIENIRUNLX05PU0hVRjsgXAogICAgICAgICB0Y2dfZ2VuX2JyY29uZGlfdGwoVENHX0NPTkRf
RVEsIExTQiwgMCwgbGFiZWwpOyBcCi0gICAgICAgICAgICBmTE9BRCgxLCA4LCB1LCBFQSwgUmRk
Vik7IFwKKyAgICAgICAgZkxPQUQoMSwgOCwgdSwgRUEsIFJkZFYpOyBcCiAgICAgICAgIGdlbl9z
ZXRfbGFiZWwobGFiZWwpOyBcCiAgICAgICAgIHRjZ190ZW1wX2ZyZWUoTFNCKTsgXAogICAgIH0g
d2hpbGUgKDApCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9oZWxwZXIuaCBiL3RhcmdldC9o
ZXhhZ29uL2hlbHBlci5oCmluZGV4IGM4OWFhNGVkNGQuLjM2OGYwYjU3MDggMTAwNjQ0Ci0tLSBh
L3RhcmdldC9oZXhhZ29uL2hlbHBlci5oCisrKyBiL3RhcmdldC9oZXhhZ29uL2hlbHBlci5oCkBA
IC0xMDQsNiArMTA0LDcgQEAgREVGX0hFTFBFUl8xKHZ3aGlzdDEyOHEsIHZvaWQsIGVudikKIERF
Rl9IRUxQRVJfMih2d2hpc3QxMjhtLCB2b2lkLCBlbnYsIHMzMikKIERFRl9IRUxQRVJfMih2d2hp
c3QxMjhxbSwgdm9pZCwgZW52LCBzMzIpCiAKK0RFRl9IRUxQRVJfNChwcm9iZV9ub3NodWZfbG9h
ZCwgdm9pZCwgZW52LCBpMzIsIGludCwgaW50KQogREVGX0hFTFBFUl8yKHByb2JlX3BrdF9zY2Fs
YXJfc3RvcmVfczAsIHZvaWQsIGVudiwgaW50KQogREVGX0hFTFBFUl8yKHByb2JlX2h2eF9zdG9y
ZXMsIHZvaWQsIGVudiwgaW50KQogREVGX0hFTFBFUl8zKHByb2JlX3BrdF9zY2FsYXJfaHZ4X3N0
b3Jlcywgdm9pZCwgZW52LCBpbnQsIGludCkKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL21h
Y3Jvcy5oIGIvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKaW5kZXggYTc4ZTg0ZmFhNC4uOTJlYjhi
YmYwNSAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24vbWFjcm9zLmgKKysrIGIvdGFyZ2V0L2hl
eGFnb24vbWFjcm9zLmgKQEAgLTg3LDExICs4NywyOCBAQAogICoKICAqCiAgKiBGb3IgcWVtdSwg
d2UgbG9vayBmb3IgYSBsb2FkIGluIHNsb3QgMCB3aGVuIHRoZXJlIGlzICBhIHN0b3JlIGluIHNs
b3QgMQotICogaW4gdGhlIHNhbWUgcGFja2V0LiAgV2hlbiB3ZSBzZWUgdGhpcywgd2UgY2FsbCBh
IGhlbHBlciB0aGF0IG1lcmdlcyB0aGUKLSAqIGJ5dGVzIGZyb20gdGhlIHN0b3JlIGJ1ZmZlciB3
aXRoIHRoZSB2YWx1ZSBsb2FkZWQgZnJvbSBtZW1vcnkuCisgKiBpbiB0aGUgc2FtZSBwYWNrZXQu
ICBXaGVuIHdlIHNlZSB0aGlzLCB3ZSBjYWxsIGEgaGVscGVyIHRoYXQgcHJvYmVzIHRoZQorICog
bG9hZCB0byBtYWtlIHN1cmUgaXQgZG9lc24ndCBmYXVsdC4gIFRoZW4sIHdlIHByb2Nlc3MgdGhl
IHN0b3JlIGFoZWFkIG9mCisgKiB0aGUgYWN0dWFsIGxvYWQuCisKICAqLwotI2RlZmluZSBDSEVD
S19OT1NIVUYgXAorI2RlZmluZSBDSEVDS19OT1NIVUYoVkEsIFNJWkUpIFwKICAgICBkbyB7IFwK
KyAgICAgICAgaWYgKGluc24tPnNsb3QgPT0gMCAmJiBwa3QtPnBrdF9oYXNfc3RvcmVfczEpIHsg
XAorICAgICAgICAgICAgcHJvYmVfbm9zaHVmX2xvYWQoVkEsIFNJWkUsIGN0eC0+bWVtX2lkeCk7
IFwKKyAgICAgICAgICAgIHByb2Nlc3Nfc3RvcmUoY3R4LCBwa3QsIDEpOyBcCisgICAgICAgIH0g
XAorICAgIH0gd2hpbGUgKDApCisKKyNkZWZpbmUgQ0hFQ0tfTk9TSFVGX1BSRUQoR0VUX0VBLCBT
SVpFLCBQUkVEKSBcCisgICAgZG8geyBcCisgICAgICAgIFRDR0xhYmVsICpsYWJlbCA9IGdlbl9u
ZXdfbGFiZWwoKTsgXAorICAgICAgICB0Y2dfZ2VuX2JyY29uZGlfdGwoVENHX0NPTkRfRVEsIFBS
RUQsIDAsIGxhYmVsKTsgXAorICAgICAgICBHRVRfRUE7IFwKKyAgICAgICAgaWYgKGluc24tPnNs
b3QgPT0gMCAmJiBwa3QtPnBrdF9oYXNfc3RvcmVfczEpIHsgXAorICAgICAgICAgICAgcHJvYmVf
bm9zaHVmX2xvYWQoRUEsIFNJWkUsIGN0eC0+bWVtX2lkeCk7IFwKKyAgICAgICAgfSBcCisgICAg
ICAgIGdlbl9zZXRfbGFiZWwobGFiZWwpOyBcCiAgICAgICAgIGlmIChpbnNuLT5zbG90ID09IDAg
JiYgcGt0LT5wa3RfaGFzX3N0b3JlX3MxKSB7IFwKICAgICAgICAgICAgIHByb2Nlc3Nfc3RvcmUo
Y3R4LCBwa3QsIDEpOyBcCiAgICAgICAgIH0gXApAQCAtOTksMzcgKzExNiwzNyBAQAogCiAjZGVm
aW5lIE1FTV9MT0FEMXMoRFNULCBWQSkgXAogICAgIGRvIHsgXAotICAgICAgICBDSEVDS19OT1NI
VUY7IFwKKyAgICAgICAgQ0hFQ0tfTk9TSFVGKFZBLCAxKTsgXAogICAgICAgICB0Y2dfZ2VuX3Fl
bXVfbGQ4cyhEU1QsIFZBLCBjdHgtPm1lbV9pZHgpOyBcCiAgICAgfSB3aGlsZSAoMCkKICNkZWZp
bmUgTUVNX0xPQUQxdShEU1QsIFZBKSBcCiAgICAgZG8geyBcCi0gICAgICAgIENIRUNLX05PU0hV
RjsgXAorICAgICAgICBDSEVDS19OT1NIVUYoVkEsIDEpOyBcCiAgICAgICAgIHRjZ19nZW5fcWVt
dV9sZDh1KERTVCwgVkEsIGN0eC0+bWVtX2lkeCk7IFwKICAgICB9IHdoaWxlICgwKQogI2RlZmlu
ZSBNRU1fTE9BRDJzKERTVCwgVkEpIFwKICAgICBkbyB7IFwKLSAgICAgICAgQ0hFQ0tfTk9TSFVG
OyBcCisgICAgICAgIENIRUNLX05PU0hVRihWQSwgMik7IFwKICAgICAgICAgdGNnX2dlbl9xZW11
X2xkMTZzKERTVCwgVkEsIGN0eC0+bWVtX2lkeCk7IFwKICAgICB9IHdoaWxlICgwKQogI2RlZmlu
ZSBNRU1fTE9BRDJ1KERTVCwgVkEpIFwKICAgICBkbyB7IFwKLSAgICAgICAgQ0hFQ0tfTk9TSFVG
OyBcCisgICAgICAgIENIRUNLX05PU0hVRihWQSwgMik7IFwKICAgICAgICAgdGNnX2dlbl9xZW11
X2xkMTZ1KERTVCwgVkEsIGN0eC0+bWVtX2lkeCk7IFwKICAgICB9IHdoaWxlICgwKQogI2RlZmlu
ZSBNRU1fTE9BRDRzKERTVCwgVkEpIFwKICAgICBkbyB7IFwKLSAgICAgICAgQ0hFQ0tfTk9TSFVG
OyBcCisgICAgICAgIENIRUNLX05PU0hVRihWQSwgNCk7IFwKICAgICAgICAgdGNnX2dlbl9xZW11
X2xkMzJzKERTVCwgVkEsIGN0eC0+bWVtX2lkeCk7IFwKICAgICB9IHdoaWxlICgwKQogI2RlZmlu
ZSBNRU1fTE9BRDR1KERTVCwgVkEpIFwKICAgICBkbyB7IFwKLSAgICAgICAgQ0hFQ0tfTk9TSFVG
OyBcCisgICAgICAgIENIRUNLX05PU0hVRihWQSwgNCk7IFwKICAgICAgICAgdGNnX2dlbl9xZW11
X2xkMzJzKERTVCwgVkEsIGN0eC0+bWVtX2lkeCk7IFwKICAgICB9IHdoaWxlICgwKQogI2RlZmlu
ZSBNRU1fTE9BRDh1KERTVCwgVkEpIFwKICAgICBkbyB7IFwKLSAgICAgICAgQ0hFQ0tfTk9TSFVG
OyBcCisgICAgICAgIENIRUNLX05PU0hVRihWQSwgOCk7IFwKICAgICAgICAgdGNnX2dlbl9xZW11
X2xkNjQoRFNULCBWQSwgY3R4LT5tZW1faWR4KTsgXAogICAgIH0gd2hpbGUgKDApCiAKZGlmZiAt
LWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5jIGIvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMK
aW5kZXggY2Q2YWY0YmNlYi4uOGEzMzRiYTA3YiAxMDA2NDQKLS0tIGEvdGFyZ2V0L2hleGFnb24v
Z2VucHRyLmMKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmMKQEAgLTYzOCw1ICs2MzgsMTIg
QEAgc3RhdGljIHZvaWQgdmVjX3RvX3F2ZWMoc2l6ZV90IHNpemUsIGludHB0cl90IGRzdG9mZiwg
aW50cHRyX3Qgc3Jjb2ZmKQogICAgIHRjZ190ZW1wX2ZyZWVfaTY0KG1hc2spOwogfQogCitzdGF0
aWMgdm9pZCBwcm9iZV9ub3NodWZfbG9hZChUQ0d2IHZhLCBpbnQgcywgaW50IG1pKQoreworICAg
IFRDR3Ygc2l6ZSA9IHRjZ19jb25zdGFudF90bChzKTsKKyAgICBUQ0d2IG1lbV9pZHggPSB0Y2df
Y29uc3RhbnRfdGwobWkpOworICAgIGdlbl9oZWxwZXJfcHJvYmVfbm9zaHVmX2xvYWQoY3B1X2Vu
diwgdmEsIHNpemUsIG1lbV9pZHgpOworfQorCiAjaW5jbHVkZSAidGNnX2Z1bmNzX2dlbmVyYXRl
ZC5jLmluYyIKICNpbmNsdWRlICJ0Y2dfZnVuY190YWJsZV9nZW5lcmF0ZWQuYy5pbmMiCmRpZmYg
LS1naXQgYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYyBiL3RhcmdldC9oZXhhZ29uL29wX2hl
bHBlci5jCmluZGV4IGE1ZWQ4MTljMDQuLjA4NWFmYzMyNzQgMTAwNjQ0Ci0tLSBhL3RhcmdldC9o
ZXhhZ29uL29wX2hlbHBlci5jCisrKyBiL3RhcmdldC9oZXhhZ29uL29wX2hlbHBlci5jCkBAIC00
NDIsNiArNDQyLDE3IEBAIHN0YXRpYyB2b2lkIHByb2JlX3N0b3JlKENQVUhleGFnb25TdGF0ZSAq
ZW52LCBpbnQgc2xvdCwgaW50IG1tdV9pZHgpCiAgICAgfQogfQogCisvKgorICogQ2FsbGVkIGZy
b20gYSBtZW1fbm9zaHVmIHBhY2tldCB0byBtYWtlIHN1cmUgdGhlIGxvYWQgZG9lc24ndAorICog
cmFpc2UgYW4gZXhjZXB0aW9uCisgKi8KK3ZvaWQgSEVMUEVSKHByb2JlX25vc2h1Zl9sb2FkKShD
UFVIZXhhZ29uU3RhdGUgKmVudiwgdGFyZ2V0X3Vsb25nIHZhLAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGludCBzaXplLCBpbnQgbW11X2lkeCkKK3sKKyAgICB1aW50cHRyX3QgcmV0
YWRkciA9IEdFVFBDKCk7CisgICAgcHJvYmVfcmVhZChlbnYsIHZhLCBzaXplLCBtbXVfaWR4LCBy
ZXRhZGRyKTsKK30KKwogLyogQ2FsbGVkIGR1cmluZyBwYWNrZXQgY29tbWl0IHdoZW4gdGhlcmUg
YXJlIHR3byBzY2FsYXIgc3RvcmVzICovCiB2b2lkIEhFTFBFUihwcm9iZV9wa3Rfc2NhbGFyX3N0
b3JlX3MwKShDUFVIZXhhZ29uU3RhdGUgKmVudiwgaW50IG1tdV9pZHgpCiB7CkBAIC01MTQsMTAg
KzUyNSwxMiBAQCB2b2lkIEhFTFBFUihwcm9iZV9wa3Rfc2NhbGFyX2h2eF9zdG9yZXMpKENQVUhl
eGFnb25TdGF0ZSAqZW52LCBpbnQgbWFzaywKICAqIElmIHRoZSBsb2FkIGlzIGluIHNsb3QgMCBh
bmQgdGhlcmUgaXMgYSBzdG9yZSBpbiBzbG90MSAodGhhdAogICogd2Fzbid0IGNhbmNlbGxlZCks
IHdlIGhhdmUgdG8gZG8gdGhlIHN0b3JlIGZpcnN0LgogICovCi1zdGF0aWMgdm9pZCBjaGVja19u
b3NodWYoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QpCitzdGF0aWMgdm9pZCBj
aGVja19ub3NodWYoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNsb3QsCisgICAgICAg
ICAgICAgICAgICAgICAgICAgdGFyZ2V0X3Vsb25nIHZhZGRyLCBpbnQgc2l6ZSkKIHsKICAgICBp
ZiAoc2xvdCA9PSAwICYmIGVudi0+cGt0X2hhc19zdG9yZV9zMSAmJgogICAgICAgICAoKGVudi0+
c2xvdF9jYW5jZWxsZWQgJiAoMSA8PCAxKSkgPT0gMCkpIHsKKyAgICAgICAgSEVMUEVSKHByb2Jl
X25vc2h1Zl9sb2FkKShlbnYsIHZhZGRyLCBzaXplLCBNTVVfVVNFUl9JRFgpOwogICAgICAgICBI
RUxQRVIoY29tbWl0X3N0b3JlKShlbnYsIDEpOwogICAgIH0KIH0KQEAgLTUyNiw3ICs1MzksNyBA
QCBzdGF0aWMgdWludDhfdCBtZW1fbG9hZDEoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90
IHNsb3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0X3Vsb25nIHZhZGRyKQogewog
ICAgIHVpbnRwdHJfdCByYSA9IEdFVFBDKCk7Ci0gICAgY2hlY2tfbm9zaHVmKGVudiwgc2xvdCk7
CisgICAgY2hlY2tfbm9zaHVmKGVudiwgc2xvdCwgdmFkZHIsIDEpOwogICAgIHJldHVybiBjcHVf
bGR1Yl9kYXRhX3JhKGVudiwgdmFkZHIsIHJhKTsKIH0KIApAQCAtNTM0LDcgKzU0Nyw3IEBAIHN0
YXRpYyB1aW50MTZfdCBtZW1fbG9hZDIoQ1BVSGV4YWdvblN0YXRlICplbnYsIHVpbnQzMl90IHNs
b3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF91bG9uZyB2YWRkcikKIHsKICAg
ICB1aW50cHRyX3QgcmEgPSBHRVRQQygpOwotICAgIGNoZWNrX25vc2h1ZihlbnYsIHNsb3QpOwor
ICAgIGNoZWNrX25vc2h1ZihlbnYsIHNsb3QsIHZhZGRyLCAyKTsKICAgICByZXR1cm4gY3B1X2xk
dXdfZGF0YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9CiAKQEAgLTU0Miw3ICs1NTUsNyBAQCBzdGF0
aWMgdWludDMyX3QgbWVtX2xvYWQ0KENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBzbG90
LAogICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfdWxvbmcgdmFkZHIpCiB7CiAgICAg
dWludHB0cl90IHJhID0gR0VUUEMoKTsKLSAgICBjaGVja19ub3NodWYoZW52LCBzbG90KTsKKyAg
ICBjaGVja19ub3NodWYoZW52LCBzbG90LCB2YWRkciwgNCk7CiAgICAgcmV0dXJuIGNwdV9sZGxf
ZGF0YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9CiAKQEAgLTU1MCw3ICs1NjMsNyBAQCBzdGF0aWMg
dWludDY0X3QgbWVtX2xvYWQ4KENQVUhleGFnb25TdGF0ZSAqZW52LCB1aW50MzJfdCBzbG90LAog
ICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfdWxvbmcgdmFkZHIpCiB7CiAgICAgdWlu
dHB0cl90IHJhID0gR0VUUEMoKTsKLSAgICBjaGVja19ub3NodWYoZW52LCBzbG90KTsKKyAgICBj
aGVja19ub3NodWYoZW52LCBzbG90LCB2YWRkciwgOCk7CiAgICAgcmV0dXJuIGNwdV9sZHFfZGF0
YV9yYShlbnYsIHZhZGRyLCByYSk7CiB9CiAKZGlmZiAtLWdpdCBhL3Rlc3RzL3RjZy9oZXhhZ29u
L21lbV9ub3NodWZfZXhjZXB0aW9uLmMgYi90ZXN0cy90Y2cvaGV4YWdvbi9tZW1fbm9zaHVmX2V4
Y2VwdGlvbi5jCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAuLjA4NjYwZWEz
ZTEKLS0tIC9kZXYvbnVsbAorKysgYi90ZXN0cy90Y2cvaGV4YWdvbi9tZW1fbm9zaHVmX2V4Y2Vw
dGlvbi5jCkBAIC0wLDAgKzEsMTQ2IEBACisvKgorICogIENvcHlyaWdodChjKSAyMDIyIFF1YWxj
b21tIElubm92YXRpb24gQ2VudGVyLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCisgKgorICog
IFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBh
bmQvb3IgbW9kaWZ5CisgKiAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQ
dWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKKyAqICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3Vu
ZGF0aW9uOyBlaXRoZXIgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLCBvcgorICogIChhdCB5b3Vy
IG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uCisgKgorICogIFRoaXMgcHJvZ3JhbSBpcyBkaXN0
cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICogIGJ1dCBXSVRI
T1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisg
KiAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAg
U2VlIHRoZQorICogIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMu
CisgKgorICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5l
cmFsIFB1YmxpYyBMaWNlbnNlCisgKiAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW07IGlmIG5vdCwg
c2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KKyAqLworCisvKgorICogVGVzdCB0
aGUgVkxJVyBzZW1hbnRpY3Mgb2YgZXhjZXB0aW9ucyB3aXRoIG1lbV9ub3NodWYKKyAqCisgKiBX
aGVuIGEgcGFja2V0IGhhcyB0aGUgOm1lbV9ub3NodWYgYXR0cmlidXRlLCB0aGUgc2VtYW50aWNz
IGRpY3RhdGUKKyAqIFRoYXQgdGhlIGxvYWQgd2lsbCBnZXQgdGhlIGRhdGEgZnJvbSB0aGUgc3Rv
cmUgaWYgdGhlIGFkZHJlc3NlcyBvdmVybGFwLgorICogVG8gYWNjb21wbGlzaCB0aGlzLCB3ZSBw
ZXJmb3JtIHRoZSBzdG9yZSBmaXJzdC4gIEhvd2V2ZXIsIHdlIGhhdmUgdG8KKyAqIGhhbmRsZSB0
aGUgY2FzZSB3aGVyZSB0aGUgc3RvcmUgcmFpc2VzIGFuIGV4Y2VwdGlvbi4gIEluIHRoYXQgY2Fz
ZSwgdGhlCisgKiBzdG9yZSBzaG91bGQgbm90IGFsdGVyIHRoZSBtYWNoaW5lIHN0YXRlLgorICoK
KyAqIFdlIHRlc3QgdGhpcyB3aXRoIGEgbWVtX25vc2h1ZiBwYWNrZXQgd2l0aCBhIHN0b3JlIHRv
IGEgZ2xvYmFsIHZhcmlhYmxlLAorICogInNob3VsZF9ub3RfY2hhbmdlIiBhbmQgYSBsb2FkIGZy
b20gTlVMTC4gIEFmdGVyIHRoZSBTSUdTRUdWIGlzIGNhdWdodCwKKyAqIHdlIGNoZWNrICogdGhh
dCB0aGUgInNob3VsZF9ub3RfY2hhbmdlIiB2YWx1ZSBpcyB0aGUgc2FtZS4KKyAqCisgKiBXZSBh
bHNvIGNoZWNrIHRoYXQgYSBwcmVkaWNhdGVkIGxvYWQgd2hlcmUgdGhlIHByZWRpY2F0ZSBpcyBm
YWxzZSBkb2Vzbid0CisgKiByYWlzZSBhbiBleGNlcHRpb24gYW5kIGFsbG93cyB0aGUgc3RvcmUg
dG8gaGFwcGVuLgorICovCisKKyNpbmNsdWRlIDxzdGRsaWIuaD4KKyNpbmNsdWRlIDxzdGRpby5o
PgorI2luY2x1ZGUgPHVuaXN0ZC5oPgorI2luY2x1ZGUgPHN5cy90eXBlcy5oPgorI2luY2x1ZGUg
PGZjbnRsLmg+CisjaW5jbHVkZSA8c2V0am1wLmg+CisjaW5jbHVkZSA8c2lnbmFsLmg+CisKK2lu
dCBlcnI7CitpbnQgc2Vndl9jYXVnaHQ7CisKKyNkZWZpbmUgU0hPVUxEX05PVF9DSEFOR0VfVkFM
ICAgICAgICA1CitpbnQgc2hvdWxkX25vdF9jaGFuZ2UgPSBTSE9VTERfTk9UX0NIQU5HRV9WQUw7
CisKKyNkZWZpbmUgT0tfVE9fQ0hBTkdFX1ZBTCAgICAgICAgMTMKK2ludCBva190b19jaGFuZ2Ug
PSBPS19UT19DSEFOR0VfVkFMOworCitzdGF0aWMgdm9pZCBfX2NoZWNrKGNvbnN0IGNoYXIgKmZp
bGVuYW1lLCBpbnQgbGluZSwgaW50IHgsIGludCBleHBlY3QpCit7CisgICAgaWYgKHggIT0gZXhw
ZWN0KSB7CisgICAgICAgIHByaW50ZigiRVJST1IgJXM6JWQgLSAlZCAhPSAlZFxuIiwKKyAgICAg
ICAgICAgICAgIGZpbGVuYW1lLCBsaW5lLCB4LCBleHBlY3QpOworICAgICAgICBlcnIrKzsKKyAg
ICB9Cit9CisKKyNkZWZpbmUgY2hlY2soeCwgZXhwZWN0KSBfX2NoZWNrKF9fRklMRV9fLCBfX0xJ
TkVfXywgKHgpLCAoZXhwZWN0KSkKKworc3RhdGljIHZvaWQgX19jaGtfZXJyb3IoY29uc3QgY2hh
ciAqZmlsZW5hbWUsIGludCBsaW5lLCBpbnQgcmV0KQoreworICAgIGlmIChyZXQgPCAwKSB7Cisg
ICAgICAgIHByaW50ZigiRVJST1IgJXM6JWQgLSAlZFxuIiwgZmlsZW5hbWUsIGxpbmUsIHJldCk7
CisgICAgICAgIGVycisrOworICAgIH0KK30KKworI2RlZmluZSBjaGtfZXJyb3IocmV0KSBfX2No
a19lcnJvcihfX0ZJTEVfXywgX19MSU5FX18sIChyZXQpKQorCitqbXBfYnVmIGptcF9lbnY7CisK
K3N0YXRpYyB2b2lkIHNpZ19zZWd2KGludCBzaWcsIHNpZ2luZm9fdCAqaW5mbywgdm9pZCAqcHVj
KQoreworICAgIGNoZWNrKHNpZywgU0lHU0VHVik7CisgICAgc2Vndl9jYXVnaHQgPSAxOworICAg
IGxvbmdqbXAoam1wX2VudiwgMSk7Cit9CisKK2ludCBtYWluKCkKK3sKKyAgICBzdHJ1Y3Qgc2ln
YWN0aW9uIGFjdDsKKyAgICBpbnQgZHVtbXkzMjsKKyAgICBsb25nIGxvbmcgZHVtbXk2NDsKKyAg
ICB2b2lkICpwOworCisgICAgLyogU0lHU0VHViB0ZXN0ICovCisgICAgYWN0LnNhX3NpZ2FjdGlv
biA9IHNpZ19zZWd2OworICAgIHNpZ2VtcHR5c2V0KCZhY3Quc2FfbWFzayk7CisgICAgYWN0LnNh
X2ZsYWdzID0gU0FfU0lHSU5GTzsKKyAgICBjaGtfZXJyb3Ioc2lnYWN0aW9uKFNJR1NFR1YsICZh
Y3QsIE5VTEwpKTsKKyAgICBpZiAoc2V0am1wKGptcF9lbnYpID09IDApIHsKKyAgICAgICAgYXNt
IHZvbGF0aWxlKCJyMTggPSAjI3Nob3VsZF9ub3RfY2hhbmdlXG5cdCIKKyAgICAgICAgICAgICAg
ICAgICAgICJyMTkgPSAjMFxuXHQiCisgICAgICAgICAgICAgICAgICAgICAie1xuXHQiCisgICAg
ICAgICAgICAgICAgICAgICAiICAgIG1lbXcocjE4KSA9ICM3XG5cdCIKKyAgICAgICAgICAgICAg
ICAgICAgICIgICAgJTAgPSBtZW13KHIxOSlcblx0IgorICAgICAgICAgICAgICAgICAgICAgIn06
bWVtX25vc2h1ZlxuXHQiCisgICAgICAgICAgICAgICAgICAgICAgOiAiPXIiKGR1bW15MzIpIDog
OiAicjE4IiwgInIxOSIsICJtZW1vcnkiKTsKKyAgICB9CisKKyAgICBhY3Quc2FfaGFuZGxlciA9
IFNJR19ERkw7CisgICAgc2lnZW1wdHlzZXQoJmFjdC5zYV9tYXNrKTsKKyAgICBhY3Quc2FfZmxh
Z3MgPSAwOworICAgIGNoa19lcnJvcihzaWdhY3Rpb24oU0lHU0VHViwgJmFjdCwgTlVMTCkpOwor
CisgICAgY2hlY2soc2Vndl9jYXVnaHQsIDEpOworICAgIGNoZWNrKHNob3VsZF9ub3RfY2hhbmdl
LCBTSE9VTERfTk9UX0NIQU5HRV9WQUwpOworCisgICAgLyoKKyAgICAgKiBDaGVjayB0aGF0IGEg
cHJlZGljYXRlZCBsb2FkIHdoZXJlIHRoZSBwcmVkaWNhdGUgaXMgZmFsc2UgZG9lc24ndAorICAg
ICAqIHJhaXNlIGFuIGV4Y2VwdGlvbiBhbmQgYWxsb3dzIHRoZSBzdG9yZSB0byBoYXBwZW4uCisg
ICAgICovCisgICAgYXNtIHZvbGF0aWxlKCJyMTggPSAjI29rX3RvX2NoYW5nZVxuXHQiCisgICAg
ICAgICAgICAgICAgICJyMTkgPSAjMFxuXHQiCisgICAgICAgICAgICAgICAgICJwMCA9IGNtcC5n
dChyMCwgcjApXG5cdCIKKyAgICAgICAgICAgICAgICAgIntcblx0IgorICAgICAgICAgICAgICAg
ICAiICAgIG1lbXcocjE4KSA9ICM3XG5cdCIKKyAgICAgICAgICAgICAgICAgIiAgICBpZiAocDAp
ICUwID0gbWVtdyhyMTkpXG5cdCIKKyAgICAgICAgICAgICAgICAgIn06bWVtX25vc2h1ZlxuXHQi
CisgICAgICAgICAgICAgICAgICA6ICI9ciIoZHVtbXkzMikgOiA6ICJyMTgiLCAicjE5IiwgInAw
IiwgIm1lbW9yeSIpOworCisgICAgY2hlY2sob2tfdG9fY2hhbmdlLCA3KTsKKworICAgIC8qCisg
ICAgICogQWxzbyBjaGVjayB0aGF0IHRoZSBwb3N0LWluY3JlbWVudCBkb2Vzbid0IGhhcHBlbiB3
aGVuIHRoZQorICAgICAqIHByZWRpY2F0ZSBpcyBmYWxzZS4KKyAgICAgKi8KKyAgICBva190b19j
aGFuZ2UgPSBPS19UT19DSEFOR0VfVkFMOworICAgIHAgPSBOVUxMOworICAgIGFzbSB2b2xhdGls
ZSgicjE4ID0gIyNva190b19jaGFuZ2Vcblx0IgorICAgICAgICAgICAgICAgICAicDAgPSBjbXAu
Z3QocjAsIHIwKVxuXHQiCisgICAgICAgICAgICAgICAgICJ7XG5cdCIKKyAgICAgICAgICAgICAg
ICAgIiAgICBtZW13KHIxOCkgPSAjOVxuXHQiCisgICAgICAgICAgICAgICAgICIgICAgaWYgKHAw
KSAlMSA9IG1lbWQoJTAgKysgIzgpXG5cdCIKKyAgICAgICAgICAgICAgICAgIn06bWVtX25vc2h1
ZlxuXHQiCisgICAgICAgICAgICAgICAgICA6ICIrciIocCksICI9ciIoZHVtbXk2NCkgOiA6ICJy
MTgiLCAicDAiLCAibWVtb3J5Iik7CisKKyAgICBjaGVjayhva190b19jaGFuZ2UsIDkpOworICAg
IGNoZWNrKChpbnQpcCwgKGludClOVUxMKTsKKworICAgIHB1dHMoZXJyID8gIkZBSUwiIDogIlBB
U1MiKTsKKyAgICByZXR1cm4gZXJyID8gRVhJVF9GQUlMVVJFIDogRVhJVF9TVUNDRVNTOworfQpk
aWZmIC0tZ2l0IGEvdGVzdHMvdGNnL2hleGFnb24vTWFrZWZpbGUudGFyZ2V0IGIvdGVzdHMvdGNn
L2hleGFnb24vTWFrZWZpbGUudGFyZ2V0CmluZGV4IDIzYjk4NzA1MzQuLjk2YTRkN2E2MTQgMTAw
NjQ0Ci0tLSBhL3Rlc3RzL3RjZy9oZXhhZ29uL01ha2VmaWxlLnRhcmdldAorKysgYi90ZXN0cy90
Y2cvaGV4YWdvbi9NYWtlZmlsZS50YXJnZXQKQEAgLTM1LDYgKzM1LDcgQEAgSEVYX1RFU1RTICs9
IHByZWdfYWxpYXMKIEhFWF9URVNUUyArPSBkdWFsX3N0b3JlcwogSEVYX1RFU1RTICs9IG11bHRp
X3Jlc3VsdAogSEVYX1RFU1RTICs9IG1lbV9ub3NodWYKK0hFWF9URVNUUyArPSBtZW1fbm9zaHVm
X2V4Y2VwdGlvbgogSEVYX1RFU1RTICs9IGNpcmMKIEhFWF9URVNUUyArPSBicmV2CiBIRVhfVEVT
VFMgKz0gbG9hZF91bnBhY2sKLS0gCjIuMTcuMQoK

