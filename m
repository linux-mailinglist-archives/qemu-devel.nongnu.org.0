Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id A8CEA2FC9B2
	for <lists+qemu-devel@lfdr.de>; Wed, 20 Jan 2021 05:02:25 +0100 (CET)
Received: from localhost ([::1]:34338 helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>)
	id 1l24hM-0007hk-Nm
	for lists+qemu-devel@lfdr.de; Tue, 19 Jan 2021 23:02:24 -0500
Received: from eggs.gnu.org ([2001:470:142:3::10]:47790)
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1l24CR-00085Y-5u
 for qemu-devel@nongnu.org; Tue, 19 Jan 2021 22:30:27 -0500
Received: from alexa-out-sd-01.qualcomm.com ([199.106.114.38]:7731)
 by eggs.gnu.org with esmtps (TLS1.2:RSA_AES_256_CBC_SHA1:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1l24CN-0007Vb-Az
 for qemu-devel@nongnu.org; Tue, 19 Jan 2021 22:30:26 -0500
DKIM-Signature: v=1; a=rsa-sha256; c=simple/simple;
 d=quicinc.com; i=@quicinc.com; q=dns/txt; s=qcdkim;
 t=1611113423; x=1642649423;
 h=from:to:cc:subject:date:message-id:in-reply-to:
 references:mime-version:content-transfer-encoding;
 bh=bqC4Um7XKyJiGJkP8+TV4dkdZ+Vp9eF8VwYgPTl1COM=;
 b=lvJ6nbI9hmhbWraSOOpBXjJ6KKgldsWFi2oFW51ZY2M19V3AUJwoDqtf
 xNrlbI28xjp9IN93a1doczZrExLlREAvEZOJDWzECugdyLS31yrNhhWpY
 Cz+OEMOJf8RDdCEza9qgOEpMiF+fXCL4ec6hOz6Sn92IXEZ2nxW47K2eK E=;
Received: from unknown (HELO ironmsg05-sd.qualcomm.com) ([10.53.140.145])
 by alexa-out-sd-01.qualcomm.com with ESMTP; 19 Jan 2021 19:29:27 -0800
X-QCInternal: smtphost
Received: from vu-tsimpson-aus.qualcomm.com (HELO
 vu-tsimpson1-aus.qualcomm.com) ([10.222.150.1])
 by ironmsg05-sd.qualcomm.com with ESMTP; 19 Jan 2021 19:29:27 -0800
Received: by vu-tsimpson1-aus.qualcomm.com (Postfix, from userid 47164)
 id 3A3512854; Tue, 19 Jan 2021 21:29:27 -0600 (CST)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Subject: [PATCH v7 26/35] Hexagon (target/hexagon) TCG generation
Date: Tue, 19 Jan 2021 21:28:59 -0600
Message-Id: <1611113349-24906-27-git-send-email-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.7.4
In-Reply-To: <1611113349-24906-1-git-send-email-tsimpson@quicinc.com>
References: <1611113349-24906-1-git-send-email-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Received-SPF: pass client-ip=199.106.114.38;
 envelope-from=tsimpson@qualcomm.com; helo=alexa-out-sd-01.qualcomm.com
X-Spam_score_int: -40
X-Spam_score: -4.1
X-Spam_bar: ----
X-Spam_report: (-4.1 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.248,
 RCVD_IN_DNSWL_MED=-2.3, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=ham autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Cc: ale@rev.ng, bcain@quicinc.com, philmd@redhat.com,
 richard.henderson@linaro.org, laurent@vivier.eu, tsimpson@quicinc.com,
 alex.bennee@linaro.org
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org
Sender: "Qemu-devel" <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>

SW5jbHVkZSB0aGUgZ2VuZXJhdGVkIGZpbGVzIGFuZCBzZXQgdXAgdGhlIGRhdGEgc3RydWN0dXJl
cwoKU2lnbmVkLW9mZi1ieTogVGF5bG9yIFNpbXBzb24gPHRzaW1wc29uQHF1aWNpbmMuY29tPgot
LS0KIHRhcmdldC9oZXhhZ29uL2dlbnB0ci5oIHwgIDI1ICsrKysrCiB0YXJnZXQvaGV4YWdvbi9n
ZW5wdHIuYyB8IDIzNiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysKIDIgZmlsZXMgY2hhbmdlZCwgMjYxIGluc2VydGlvbnMoKykKIGNyZWF0ZSBtb2RlIDEw
MDY0NCB0YXJnZXQvaGV4YWdvbi9nZW5wdHIuaAogY3JlYXRlIG1vZGUgMTAwNjQ0IHRhcmdldC9o
ZXhhZ29uL2dlbnB0ci5jCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmggYi90
YXJnZXQvaGV4YWdvbi9nZW5wdHIuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAw
Li5jMTU4MDA1Ci0tLSAvZGV2L251bGwKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VucHRyLmgKQEAg
LTAsMCArMSwyNSBAQAorLyoKKyAqICBDb3B5cmlnaHQoYykgMjAxOS0yMDIxIFF1YWxjb21tIElu
bm92YXRpb24gQ2VudGVyLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCisgKgorICogIFRoaXMg
cHJvZ3JhbSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3Ig
bW9kaWZ5CisgKiAgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMg
TGljZW5zZSBhcyBwdWJsaXNoZWQgYnkKKyAqICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9u
OyBlaXRoZXIgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLCBvcgorICogIChhdCB5b3VyIG9wdGlv
bikgYW55IGxhdGVyIHZlcnNpb24uCisgKgorICogIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRl
ZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICogIGJ1dCBXSVRIT1VUIEFO
WSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgKiAgTUVS
Q0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRo
ZQorICogIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgor
ICogIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1
YmxpYyBMaWNlbnNlCisgKiAgYWxvbmcgd2l0aCB0aGlzIHByb2dyYW07IGlmIG5vdCwgc2VlIDxo
dHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KKyAqLworCisjaWZuZGVmIEhFWEFHT05fR0VO
UFRSX0gKKyNkZWZpbmUgSEVYQUdPTl9HRU5QVFJfSAorCisjaW5jbHVkZSAiaW5zbi5oIgorCitl
eHRlcm4gY29uc3QgU2VtYW50aWNJbnNuIG9wY29kZV9nZW5wdHJbXTsKKworI2VuZGlmCmRpZmYg
LS1naXQgYS90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYyBiL3RhcmdldC9oZXhhZ29uL2dlbnB0ci5j
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLmY0MTdiZmEKLS0tIC9kZXYvbnVs
bAorKysgYi90YXJnZXQvaGV4YWdvbi9nZW5wdHIuYwpAQCAtMCwwICsxLDIzNiBAQAorLyoKKyAq
ICBDb3B5cmlnaHQoYykgMjAxOS0yMDIxIFF1YWxjb21tIElubm92YXRpb24gQ2VudGVyLCBJbmMu
IEFsbCBSaWdodHMgUmVzZXJ2ZWQuCisgKgorICogIFRoaXMgcHJvZ3JhbSBpcyBmcmVlIHNvZnR3
YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5CisgKiAgaXQgdW5kZXIg
dGhlIHRlcm1zIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQg
YnkKKyAqICB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIgdmVyc2lvbiAyIG9m
IHRoZSBMaWNlbnNlLCBvcgorICogIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24u
CisgKgorICogIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0
IHdpbGwgYmUgdXNlZnVsLAorICogIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBl
dmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgKiAgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5F
U1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZQorICogIEdOVSBHZW5lcmFsIFB1
YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuCisgKgorICogIFlvdSBzaG91bGQgaGF2ZSBy
ZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlCisgKiAgYWxv
bmcgd2l0aCB0aGlzIHByb2dyYW07IGlmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGlj
ZW5zZXMvPi4KKyAqLworCisjZGVmaW5lIFFFTVVfR0VORVJBVEUKKyNpbmNsdWRlICJxZW11L29z
ZGVwLmgiCisjaW5jbHVkZSAicWVtdS9sb2cuaCIKKyNpbmNsdWRlICJjcHUuaCIKKyNpbmNsdWRl
ICJpbnRlcm5hbC5oIgorI2luY2x1ZGUgInRjZy90Y2ctb3AuaCIKKyNpbmNsdWRlICJpbnNuLmgi
CisjaW5jbHVkZSAib3Bjb2Rlcy5oIgorI2luY2x1ZGUgInRyYW5zbGF0ZS5oIgorI2luY2x1ZGUg
Im1hY3Jvcy5oIgorI2luY2x1ZGUgImdlbl90Y2cuaCIKKworc3RhdGljIGlubGluZSBUQ0d2IGdl
bl9yZWFkX3JlZyhUQ0d2IHJlc3VsdCwgaW50IG51bSkKK3sKKyAgICB0Y2dfZ2VuX21vdl90bChy
ZXN1bHQsIGhleF9ncHJbbnVtXSk7CisgICAgcmV0dXJuIHJlc3VsdDsKK30KKworc3RhdGljIGlu
bGluZSBUQ0d2IGdlbl9yZWFkX3ByZWcoVENHdiBwcmVkLCB1aW50OF90IG51bSkKK3sKKyAgICB0
Y2dfZ2VuX21vdl90bChwcmVkLCBoZXhfcHJlZFtudW1dKTsKKyAgICByZXR1cm4gcHJlZDsKK30K
Kworc3RhdGljIGlubGluZSB2b2lkIGdlbl9sb2dfcHJlZGljYXRlZF9yZWdfd3JpdGUoaW50IHJu
dW0sIFRDR3YgdmFsLCBpbnQgc2xvdCkKK3sKKyAgICBUQ0d2IG9uZSA9IHRjZ19jb25zdF90bCgx
KTsKKyAgICBUQ0d2IHplcm8gPSB0Y2dfY29uc3RfdGwoMCk7CisgICAgVENHdiBzbG90X21hc2sg
PSB0Y2dfdGVtcF9uZXcoKTsKKworICAgIHRjZ19nZW5fYW5kaV90bChzbG90X21hc2ssIGhleF9z
bG90X2NhbmNlbGxlZCwgMSA8PCBzbG90KTsKKyAgICB0Y2dfZ2VuX21vdmNvbmRfdGwoVENHX0NP
TkRfRVEsIGhleF9uZXdfdmFsdWVbcm51bV0sIHNsb3RfbWFzaywgemVybywKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHZhbCwgaGV4X25ld192YWx1ZVtybnVtXSk7CisjaWYgSEVYX0RFQlVH
CisgICAgLyogRG8gdGhpcyBzbyBIRUxQRVIoZGVidWdfY29tbWl0X2VuZCkgd2lsbCBrbm93ICov
CisgICAgdGNnX2dlbl9tb3Zjb25kX3RsKFRDR19DT05EX0VRLCBoZXhfcmVnX3dyaXR0ZW5bcm51
bV0sIHNsb3RfbWFzaywgemVybywKKyAgICAgICAgICAgICAgICAgICAgICAgb25lLCBoZXhfcmVn
X3dyaXR0ZW5bcm51bV0pOworI2VuZGlmCisKKyAgICB0Y2dfdGVtcF9mcmVlKG9uZSk7CisgICAg
dGNnX3RlbXBfZnJlZSh6ZXJvKTsKKyAgICB0Y2dfdGVtcF9mcmVlKHNsb3RfbWFzayk7Cit9CisK
K3N0YXRpYyBpbmxpbmUgdm9pZCBnZW5fbG9nX3JlZ193cml0ZShpbnQgcm51bSwgVENHdiB2YWwp
Cit7CisgICAgdGNnX2dlbl9tb3ZfdGwoaGV4X25ld192YWx1ZVtybnVtXSwgdmFsKTsKKyNpZiBI
RVhfREVCVUcKKyAgICAvKiBEbyB0aGlzIHNvIEhFTFBFUihkZWJ1Z19jb21taXRfZW5kKSB3aWxs
IGtub3cgKi8KKyAgICB0Y2dfZ2VuX21vdmlfdGwoaGV4X3JlZ193cml0dGVuW3JudW1dLCAxKTsK
KyNlbmRpZgorfQorCitzdGF0aWMgdm9pZCBnZW5fbG9nX3ByZWRpY2F0ZWRfcmVnX3dyaXRlX3Bh
aXIoaW50IHJudW0sIFRDR3ZfaTY0IHZhbCwgaW50IHNsb3QpCit7CisgICAgVENHdiB2YWwzMiA9
IHRjZ190ZW1wX25ldygpOworICAgIFRDR3Ygb25lID0gdGNnX2NvbnN0X3RsKDEpOworICAgIFRD
R3YgemVybyA9IHRjZ19jb25zdF90bCgwKTsKKyAgICBUQ0d2IHNsb3RfbWFzayA9IHRjZ190ZW1w
X25ldygpOworCisgICAgdGNnX2dlbl9hbmRpX3RsKHNsb3RfbWFzaywgaGV4X3Nsb3RfY2FuY2Vs
bGVkLCAxIDw8IHNsb3QpOworICAgIC8qIExvdyB3b3JkICovCisgICAgdGNnX2dlbl9leHRybF9p
NjRfaTMyKHZhbDMyLCB2YWwpOworICAgIHRjZ19nZW5fbW92Y29uZF90bChUQ0dfQ09ORF9FUSwg
aGV4X25ld192YWx1ZVtybnVtXSwgc2xvdF9tYXNrLCB6ZXJvLAorICAgICAgICAgICAgICAgICAg
ICAgICB2YWwzMiwgaGV4X25ld192YWx1ZVtybnVtXSk7CisjaWYgSEVYX0RFQlVHCisgICAgLyog
RG8gdGhpcyBzbyBIRUxQRVIoZGVidWdfY29tbWl0X2VuZCkgd2lsbCBrbm93ICovCisgICAgdGNn
X2dlbl9tb3Zjb25kX3RsKFRDR19DT05EX0VRLCBoZXhfcmVnX3dyaXR0ZW5bcm51bV0sCisgICAg
ICAgICAgICAgICAgICAgICAgIHNsb3RfbWFzaywgemVybywKKyAgICAgICAgICAgICAgICAgICAg
ICAgb25lLCBoZXhfcmVnX3dyaXR0ZW5bcm51bV0pOworI2VuZGlmCisKKyAgICAvKiBIaWdoIHdv
cmQgKi8KKyAgICB0Y2dfZ2VuX2V4dHJoX2k2NF9pMzIodmFsMzIsIHZhbCk7CisgICAgdGNnX2dl
bl9tb3Zjb25kX3RsKFRDR19DT05EX0VRLCBoZXhfbmV3X3ZhbHVlW3JudW0gKyAxXSwKKyAgICAg
ICAgICAgICAgICAgICAgICAgc2xvdF9tYXNrLCB6ZXJvLAorICAgICAgICAgICAgICAgICAgICAg
ICB2YWwzMiwgaGV4X25ld192YWx1ZVtybnVtICsgMV0pOworI2lmIEhFWF9ERUJVRworICAgIC8q
IERvIHRoaXMgc28gSEVMUEVSKGRlYnVnX2NvbW1pdF9lbmQpIHdpbGwga25vdyAqLworICAgIHRj
Z19nZW5fbW92Y29uZF90bChUQ0dfQ09ORF9FUSwgaGV4X3JlZ193cml0dGVuW3JudW0gKyAxXSwK
KyAgICAgICAgICAgICAgICAgICAgICAgc2xvdF9tYXNrLCB6ZXJvLAorICAgICAgICAgICAgICAg
ICAgICAgICBvbmUsIGhleF9yZWdfd3JpdHRlbltybnVtICsgMV0pOworI2VuZGlmCisKKyAgICB0
Y2dfdGVtcF9mcmVlKHZhbDMyKTsKKyAgICB0Y2dfdGVtcF9mcmVlKG9uZSk7CisgICAgdGNnX3Rl
bXBfZnJlZSh6ZXJvKTsKKyAgICB0Y2dfdGVtcF9mcmVlKHNsb3RfbWFzayk7Cit9CisKK3N0YXRp
YyB2b2lkIGdlbl9sb2dfcmVnX3dyaXRlX3BhaXIoaW50IHJudW0sIFRDR3ZfaTY0IHZhbCkKK3sK
KyAgICAvKiBMb3cgd29yZCAqLworICAgIHRjZ19nZW5fZXh0cmxfaTY0X2kzMihoZXhfbmV3X3Zh
bHVlW3JudW1dLCB2YWwpOworI2lmIEhFWF9ERUJVRworICAgIC8qIERvIHRoaXMgc28gSEVMUEVS
KGRlYnVnX2NvbW1pdF9lbmQpIHdpbGwga25vdyAqLworICAgIHRjZ19nZW5fbW92aV90bChoZXhf
cmVnX3dyaXR0ZW5bcm51bV0sIDEpOworI2VuZGlmCisKKyAgICAvKiBIaWdoIHdvcmQgKi8KKyAg
ICB0Y2dfZ2VuX2V4dHJoX2k2NF9pMzIoaGV4X25ld192YWx1ZVtybnVtICsgMV0sIHZhbCk7Cisj
aWYgSEVYX0RFQlVHCisgICAgLyogRG8gdGhpcyBzbyBIRUxQRVIoZGVidWdfY29tbWl0X2VuZCkg
d2lsbCBrbm93ICovCisgICAgdGNnX2dlbl9tb3ZpX3RsKGhleF9yZWdfd3JpdHRlbltybnVtICsg
MV0sIDEpOworI2VuZGlmCit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBnZW5fbG9nX3ByZWRfd3Jp
dGUoaW50IHBudW0sIFRDR3YgdmFsKQoreworICAgIFRDR3YgemVybyA9IHRjZ19jb25zdF90bCgw
KTsKKyAgICBUQ0d2IGJhc2VfdmFsID0gdGNnX3RlbXBfbmV3KCk7CisgICAgVENHdiBhbmRfdmFs
ID0gdGNnX3RlbXBfbmV3KCk7CisgICAgVENHdiBwcmVkX3dyaXR0ZW4gPSB0Y2dfdGVtcF9uZXco
KTsKKworICAgIC8qIE11bHRpcGxlIHdyaXRlcyB0byB0aGUgc2FtZSBwcmVnIGFyZSBhbmQnZWQg
dG9nZXRoZXIgKi8KKyAgICB0Y2dfZ2VuX2FuZGlfdGwoYmFzZV92YWwsIHZhbCwgMHhmZik7Cisg
ICAgdGNnX2dlbl9hbmRfdGwoYW5kX3ZhbCwgYmFzZV92YWwsIGhleF9uZXdfcHJlZF92YWx1ZVtw
bnVtXSk7CisgICAgdGNnX2dlbl9hbmRpX3RsKHByZWRfd3JpdHRlbiwgaGV4X3ByZWRfd3JpdHRl
biwgMSA8PCBwbnVtKTsKKyAgICB0Y2dfZ2VuX21vdmNvbmRfdGwoVENHX0NPTkRfTkUsIGhleF9u
ZXdfcHJlZF92YWx1ZVtwbnVtXSwKKyAgICAgICAgICAgICAgICAgICAgICAgcHJlZF93cml0dGVu
LCB6ZXJvLAorICAgICAgICAgICAgICAgICAgICAgICBhbmRfdmFsLCBiYXNlX3ZhbCk7CisgICAg
dGNnX2dlbl9vcmlfdGwoaGV4X3ByZWRfd3JpdHRlbiwgaGV4X3ByZWRfd3JpdHRlbiwgMSA8PCBw
bnVtKTsKKworICAgIHRjZ190ZW1wX2ZyZWUoemVybyk7CisgICAgdGNnX3RlbXBfZnJlZShiYXNl
X3ZhbCk7CisgICAgdGNnX3RlbXBfZnJlZShhbmRfdmFsKTsKKyAgICB0Y2dfdGVtcF9mcmVlKHBy
ZWRfd3JpdHRlbik7Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBnZW5fcmVhZF9wM18wKFRDR3Yg
Y29udHJvbF9yZWcpCit7CisgICAgdGNnX2dlbl9tb3ZpX3RsKGNvbnRyb2xfcmVnLCAwKTsKKyAg
ICBmb3IgKGludCBpID0gMDsgaSA8IE5VTV9QUkVHUzsgaSsrKSB7CisgICAgICAgIHRjZ19nZW5f
ZGVwb3NpdF90bChjb250cm9sX3JlZywgY29udHJvbF9yZWcsIGhleF9wcmVkW2ldLCBpICogOCwg
OCk7CisgICAgfQorfQorCitzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3dyaXRlX3AzXzAoVENHdiBj
b250cm9sX3JlZykKK3sKKyAgICBmb3IgKGludCBpID0gMDsgaSA8IE5VTV9QUkVHUzsgaSsrKSB7
CisgICAgICAgIHRjZ19nZW5fZXh0cmFjdF90bChoZXhfcHJlZFtpXSwgY29udHJvbF9yZWcsIGkg
KiA4LCA4KTsKKyAgICB9Cit9CisKK3N0YXRpYyBpbmxpbmUgdm9pZCBnZW5fbG9hZF9sb2NrZWQ0
dShUQ0d2IGRlc3QsIFRDR3YgdmFkZHIsIGludCBtZW1faW5kZXgpCit7CisgICAgdGNnX2dlbl9x
ZW11X2xkMzJ1KGRlc3QsIHZhZGRyLCBtZW1faW5kZXgpOworICAgIHRjZ19nZW5fbW92X3RsKGhl
eF9sbHNjX2FkZHIsIHZhZGRyKTsKKyAgICB0Y2dfZ2VuX21vdl90bChoZXhfbGxzY192YWwsIGRl
c3QpOworfQorCitzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX2xvYWRfbG9ja2VkOHUoVENHdl9pNjQg
ZGVzdCwgVENHdiB2YWRkciwgaW50IG1lbV9pbmRleCkKK3sKKyAgICB0Y2dfZ2VuX3FlbXVfbGQ2
NChkZXN0LCB2YWRkciwgbWVtX2luZGV4KTsKKyAgICB0Y2dfZ2VuX21vdl90bChoZXhfbGxzY19h
ZGRyLCB2YWRkcik7CisgICAgdGNnX2dlbl9tb3ZfaTY0KGhleF9sbHNjX3ZhbF9pNjQsIGRlc3Qp
OworfQorCitzdGF0aWMgaW5saW5lIHZvaWQgZ2VuX3N0b3JlX2NvbmRpdGlvbmFsNChDUFVIZXhh
Z29uU3RhdGUgKmVudiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IERpc2FzQ29udGV4dCAqY3R4LCBpbnQgcHJlZG51bSwKKyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFRDR3YgcHJlZCwgVENHdiB2YWRkciwgVENHdiBzcmMpCit7Cisg
ICAgVENHTGFiZWwgKmZhaWwgPSBnZW5fbmV3X2xhYmVsKCk7CisgICAgVENHTGFiZWwgKmRvbmUg
PSBnZW5fbmV3X2xhYmVsKCk7CisgICAgVENHdiBvbmUsIHplcm8sIHRtcDsKKworICAgIHRjZ19n
ZW5fYnJjb25kX3RsKFRDR19DT05EX05FLCB2YWRkciwgaGV4X2xsc2NfYWRkciwgZmFpbCk7CisK
KyAgICBvbmUgPSB0Y2dfY29uc3RfdGwoMHhmZik7CisgICAgemVybyA9IHRjZ19jb25zdF90bCgw
KTsKKyAgICB0bXAgPSB0Y2dfdGVtcF9uZXcoKTsKKyAgICB0Y2dfZ2VuX2F0b21pY19jbXB4Y2hn
X3RsKHRtcCwgaGV4X2xsc2NfYWRkciwgaGV4X2xsc2NfdmFsLCBzcmMsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjdHgtPm1lbV9pZHgsIE1PXzMyKTsKKyAgICB0Y2dfZ2VuX21vdmNv
bmRfdGwoVENHX0NPTkRfRVEsIGhleF9wcmVkW3ByZWRudW1dLCB0bXAsIGhleF9sbHNjX3ZhbCwK
KyAgICAgICAgICAgICAgICAgICAgICAgb25lLCB6ZXJvKTsKKyAgICB0Y2dfdGVtcF9mcmVlKG9u
ZSk7CisgICAgdGNnX3RlbXBfZnJlZSh6ZXJvKTsKKyAgICB0Y2dfdGVtcF9mcmVlKHRtcCk7Cisg
ICAgdGNnX2dlbl9icihkb25lKTsKKworICAgIGdlbl9zZXRfbGFiZWwoZmFpbCk7CisgICAgdGNn
X2dlbl9tb3ZpX3RsKHByZWQsIDApOworCisgICAgZ2VuX3NldF9sYWJlbChkb25lKTsKKyAgICB0
Y2dfZ2VuX21vdmlfdGwoaGV4X2xsc2NfYWRkciwgfjApOworfQorCitzdGF0aWMgaW5saW5lIHZv
aWQgZ2VuX3N0b3JlX2NvbmRpdGlvbmFsOChDUFVIZXhhZ29uU3RhdGUgKmVudiwKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpc2FzQ29udGV4dCAqY3R4LCBpbnQg
cHJlZG51bSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRDR3Yg
cHJlZCwgVENHdiB2YWRkciwgVENHdl9pNjQgc3JjKQoreworICAgIFRDR0xhYmVsICpmYWlsID0g
Z2VuX25ld19sYWJlbCgpOworICAgIFRDR0xhYmVsICpkb25lID0gZ2VuX25ld19sYWJlbCgpOwor
ICAgIFRDR3ZfaTY0IG9uZSwgemVybywgdG1wOworCisgICAgdGNnX2dlbl9icmNvbmRfdGwoVENH
X0NPTkRfTkUsIHZhZGRyLCBoZXhfbGxzY19hZGRyLCBmYWlsKTsKKworICAgIG9uZSA9IHRjZ19j
b25zdF9pNjQoMHhmZik7CisgICAgemVybyA9IHRjZ19jb25zdF9pNjQoMCk7CisgICAgdG1wID0g
dGNnX3RlbXBfbmV3X2k2NCgpOworICAgIHRjZ19nZW5fYXRvbWljX2NtcHhjaGdfaTY0KHRtcCwg
aGV4X2xsc2NfYWRkciwgaGV4X2xsc2NfdmFsX2k2NCwgc3JjLAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGN0eC0+bWVtX2lkeCwgTU9fNjQpOworICAgIHRjZ19nZW5fbW92Y29uZF9p
NjQoVENHX0NPTkRfRVEsIHRtcCwgdG1wLCBoZXhfbGxzY192YWxfaTY0LAorICAgICAgICAgICAg
ICAgICAgICAgICAgb25lLCB6ZXJvKTsKKyAgICB0Y2dfZ2VuX2V4dHJsX2k2NF9pMzIoaGV4X3By
ZWRbcHJlZG51bV0sIHRtcCk7CisgICAgdGNnX3RlbXBfZnJlZV9pNjQob25lKTsKKyAgICB0Y2df
dGVtcF9mcmVlX2k2NCh6ZXJvKTsKKyAgICB0Y2dfdGVtcF9mcmVlX2k2NCh0bXApOworICAgIHRj
Z19nZW5fYnIoZG9uZSk7CisKKyAgICBnZW5fc2V0X2xhYmVsKGZhaWwpOworICAgIHRjZ19nZW5f
bW92aV90bChwcmVkLCAwKTsKKworICAgIGdlbl9zZXRfbGFiZWwoZG9uZSk7CisgICAgdGNnX2dl
bl9tb3ZpX3RsKGhleF9sbHNjX2FkZHIsIH4wKTsKK30KKworI2luY2x1ZGUgInRjZ19mdW5jc19n
ZW5lcmF0ZWQuaCIKKyNpbmNsdWRlICJ0Y2dfZnVuY190YWJsZV9nZW5lcmF0ZWQuaCIKLS0gCjIu
Ny40Cgo=

