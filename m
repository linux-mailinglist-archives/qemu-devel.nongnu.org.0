Return-Path: <qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org>
X-Original-To: lists+qemu-devel@lfdr.de
Delivered-To: lists+qemu-devel@lfdr.de
Received: from lists.gnu.org (lists.gnu.org [209.51.188.17])
	by mail.lfdr.de (Postfix) with ESMTPS id 88C4661A100
	for <lists+qemu-devel@lfdr.de>; Fri,  4 Nov 2022 20:29:10 +0100 (CET)
Received: from localhost ([::1] helo=lists1p.gnu.org)
	by lists.gnu.org with esmtp (Exim 4.90_1)
	(envelope-from <qemu-devel-bounces@nongnu.org>)
	id 1or2L2-0001ZU-6s; Fri, 04 Nov 2022 15:26:48 -0400
Received: from eggs.gnu.org ([2001:470:142:3::10])
 by lists.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1or2Kw-0001XK-9L
 for qemu-devel@nongnu.org; Fri, 04 Nov 2022 15:26:42 -0400
Received: from mx0b-0031df01.pphosted.com ([205.220.180.131])
 by eggs.gnu.org with esmtps (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.90_1) (envelope-from <tsimpson@qualcomm.com>)
 id 1or2Kt-0002Lk-IB
 for qemu-devel@nongnu.org; Fri, 04 Nov 2022 15:26:42 -0400
Received: from pps.filterd (m0279872.ppops.net [127.0.0.1])
 by mx0a-0031df01.pphosted.com (8.17.1.19/8.17.1.19) with ESMTP id
 2A4IRA9r006942; Fri, 4 Nov 2022 19:26:35 GMT
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=quicinc.com;
 h=from : to : cc :
 subject : date : message-id : in-reply-to : references : mime-version :
 content-type : content-transfer-encoding; s=qcppdkim1;
 bh=Eb3KVe1TDWRZ2sxe8GGtr2JBFUwdhU/e8w4cm9OrIoE=;
 b=juVFpe+9MkUWW8R0197vqFZB1DVt5R/UGx+FyBisPjWD2JD2sGbQ7vXO4K3Rnzz9asH0
 dsmo45ZwurFTncfv/XAd/MGV+CE0u13K8AhwWg7dAkvRADTAGocsUfB2dA3lXnDve+UU
 74icA2NGcZF/ZYejvxxM+pnl29QUxHscIaZ+CMo9C08K2604/W1C8dVYj0JaGMu06I8/
 yt+K4DYhlvvt7I2aJMZ4USEVlFQRpz6PCy4DYj35KctHEL/DznPPx5N60fNQTNWMXDm+
 EkoiM7XSmsouDmp7R0atKDgT9uR7pKc8UyF69lOWKfd2zqjNicFJZ0eVc0tk/exNUi8f uw== 
Received: from nalasppmta05.qualcomm.com (Global_NAT1.qualcomm.com
 [129.46.96.20])
 by mx0a-0031df01.pphosted.com (PPS) with ESMTPS id 3kmvgk9njp-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NOT);
 Fri, 04 Nov 2022 19:26:35 +0000
Received: from pps.filterd (NALASPPMTA05.qualcomm.com [127.0.0.1])
 by NALASPPMTA05.qualcomm.com (8.17.1.5/8.17.1.5) with ESMTP id 2A4JQYc8001478; 
 Fri, 4 Nov 2022 19:26:34 GMT
Received: from pps.reinject (localhost [127.0.0.1])
 by NALASPPMTA05.qualcomm.com (PPS) with ESMTPS id 3khdmjykjn-1
 (version=TLSv1.2 cipher=ECDHE-RSA-AES256-GCM-SHA384 bits=256 verify=NO);
 Fri, 04 Nov 2022 19:26:34 +0000
Received: from NALASPPMTA05.qualcomm.com (NALASPPMTA05.qualcomm.com
 [127.0.0.1])
 by pps.reinject (8.17.1.5/8.17.1.5) with ESMTP id 2A4JQ9wH001326;
 Fri, 4 Nov 2022 19:26:33 GMT
Received: from hu-devc-lv-u18-c.qualcomm.com (hu-tsimpson-lv.qualcomm.com
 [10.47.235.220])
 by NALASPPMTA05.qualcomm.com (PPS) with ESMTP id 2A4JQXoG001463;
 Fri, 04 Nov 2022 19:26:33 +0000
Received: by hu-devc-lv-u18-c.qualcomm.com (Postfix, from userid 47164)
 id 046F35000B0; Fri,  4 Nov 2022 12:26:33 -0700 (PDT)
From: Taylor Simpson <tsimpson@quicinc.com>
To: qemu-devel@nongnu.org
Cc: tsimpson@quicinc.com, richard.henderson@linaro.org, philmd@linaro.org,
 ale@rev.ng, anjo@rev.ng, bcain@quicinc.com, quic_mathbern@quicinc.com
Subject: [PATCH v3 04/11] Hexagon (target/hexagon) Only use branch_taken when
 packet has multi cof
Date: Fri,  4 Nov 2022 12:26:24 -0700
Message-Id: <20221104192631.29434-5-tsimpson@quicinc.com>
X-Mailer: git-send-email 2.17.1
In-Reply-To: <20221104192631.29434-1-tsimpson@quicinc.com>
References: <20221104192631.29434-1-tsimpson@quicinc.com>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
X-QCInternal: smtphost
X-QCInternal: smtphost
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-Virus-Version: vendor=nai engine=6200 definitions=5800
 signatures=585085
X-Proofpoint-ORIG-GUID: kAH0v9Cq4EPSnNn76j5nuYBbJ45COgoP
X-Proofpoint-GUID: kAH0v9Cq4EPSnNn76j5nuYBbJ45COgoP
X-Proofpoint-Virus-Version: vendor=baseguard
 engine=ICAP:2.0.219,Aquarius:18.0.895,Hydra:6.0.545,FMLib:17.11.122.1
 definitions=2022-11-04_11,2022-11-03_01,2022-06-22_01
X-Proofpoint-Spam-Details: rule=outbound_notspam policy=outbound score=0
 priorityscore=1501
 suspectscore=0 impostorscore=0 lowpriorityscore=0 malwarescore=0
 spamscore=0 clxscore=1015 bulkscore=0 mlxlogscore=999 phishscore=0
 mlxscore=0 adultscore=0 classifier=spam adjust=0 reason=mlx scancount=1
 engine=8.12.0-2210170000 definitions=main-2211040121
Received-SPF: pass client-ip=205.220.180.131;
 envelope-from=tsimpson@qualcomm.com; helo=mx0b-0031df01.pphosted.com
X-Spam_score_int: -17
X-Spam_score: -1.8
X-Spam_bar: -
X-Spam_report: (-1.8 / 5.0 requ) BAYES_00=-1.9, DKIM_SIGNED=0.1,
 DKIM_VALID=-0.1, DKIM_VALID_AU=-0.1, HEADER_FROM_DIFFERENT_DOMAINS=0.249,
 RCVD_IN_DNSWL_NONE=-0.0001, SPF_HELO_NONE=0.001,
 SPF_PASS=-0.001 autolearn=no autolearn_force=no
X-Spam_action: no action
X-BeenThere: qemu-devel@nongnu.org
X-Mailman-Version: 2.1.29
Precedence: list
List-Id: <qemu-devel.nongnu.org>
List-Unsubscribe: <https://lists.nongnu.org/mailman/options/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=unsubscribe>
List-Archive: <https://lists.nongnu.org/archive/html/qemu-devel>
List-Post: <mailto:qemu-devel@nongnu.org>
List-Help: <mailto:qemu-devel-request@nongnu.org?subject=help>
List-Subscribe: <https://lists.nongnu.org/mailman/listinfo/qemu-devel>,
 <mailto:qemu-devel-request@nongnu.org?subject=subscribe>
Sender: "Qemu-devel" <qemu-devel-bounces@nongnu.org>
Errors-To: qemu-devel-bounces+lists+qemu-devel=lfdr.de@nongnu.org

V2hlbiBhIHBhY2tldCBoYXMgbW9yZSB0aGFuIG9uZSBjaGFuZ2Utb2YtZmxvdyBpbnN0cnVjdGlv
biwgb25seSB0aGUgZmlyc3QKb25lIHRvIGJyYW5jaCBpcyBjb25zaWRlcmVkLiAgV2UgdXNlIHRo
ZSBicmFuY2hfdGFrZW4gdmFyaWFibGUgdG8ga2VlcAp0cmFjayBvZiB0aGlzLgoKSG93ZXZlciwg
d2hlbiB0aGVyZSBpcyBhIHNpbmdsZSBjb2YgaW5zdHJ1Y3Rpb24sIHdlIGRvbid0IG5lZWQgdGhl
IHNhbWUKYW1vdW50IG9mIGJvb2trZWVwaW5nLgoKV2UgYWRkIHRoZSBwa3RfaGFzX211bHRpX2Nv
ZiBtZW1iZXIgdG8gdGhlIFBhY2tldCBzdHJ1Y3R1cmUsIGFuZCBwYXNzIHRoaXMKaW5mb3JtYXRp
b24gdG8gdGhlIG5lZWRlZCBmdW5jdGlvbnMuCgpXaGVuIHRoZXJlIGlzIGEgZ2VuZXJhdGVkIGhl
bHBlciBmdW5jdGlvbiB3aXRoIGNvZiwgdGhlIGdlbmVyYXRvciB3aWxsCnBhc3MgdGhpcyBwa3Rf
aGFzX211bHRpX2NvZiBhcyBhIHJ1bnRpbWUgdmFsdWUuCgpTaWduZWQtb2ZmLWJ5OiBUYXlsb3Ig
U2ltcHNvbiA8dHNpbXBzb25AcXVpY2luYy5jb20+Ci0tLQogdGFyZ2V0L2hleGFnb24vaW5zbi5o
ICAgICAgICAgICAgICAgfCAgMSArCiB0YXJnZXQvaGV4YWdvbi9tYWNyb3MuaCAgICAgICAgICAg
ICB8ICAyICstCiB0YXJnZXQvaGV4YWdvbi9kZWNvZGUuYyAgICAgICAgICAgICB8IDE1ICsrKysr
KysrKysrKystLQogdGFyZ2V0L2hleGFnb24vb3BfaGVscGVyLmMgICAgICAgICAgfCAyNCArKysr
KysrKysrKysrKystLS0tLS0tLS0KIHRhcmdldC9oZXhhZ29uL3RyYW5zbGF0ZS5jICAgICAgICAg
IHwgIDQgKysrLQogdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9mdW5jcy5weSAgfCAgNSArKysr
LQogdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9wcm90b3MucHkgfCAgOCArKysrKystLQogdGFy
Z2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSAgICAgfCAgNSArKysrKwogdGFyZ2V0L2hleGFn
b24vaGV4X2NvbW1vbi5weSAgICAgICAgfCAgMyArKysKIDkgZmlsZXMgY2hhbmdlZCwgNTEgaW5z
ZXJ0aW9ucygrKSwgMTYgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24v
aW5zbi5oIGIvdGFyZ2V0L2hleGFnb24vaW5zbi5oCmluZGV4IGNiOTI1ODY4MDIuLjc3NWM0YzE4
M2QgMTAwNjQ0Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2luc24uaAorKysgYi90YXJnZXQvaGV4YWdv
bi9pbnNuLmgKQEAgLTU3LDYgKzU3LDcgQEAgc3RydWN0IFBhY2tldCB7CiAKICAgICAvKiBQcmUt
ZGVjb2RlcyBhYm91dCBDT0YgKi8KICAgICBib29sIHBrdF9oYXNfY29mOyAgICAgICAgICAvKiBI
YXMgYW55IGNoYW5nZS1vZi1mbG93ICovCisgICAgYm9vbCBwa3RfaGFzX211bHRpX2NvZjsgICAg
LyogSGFzIG1vcmUgdGhhbiBvbmUgY2hhbmdlLW9mLWZsb3cgKi8KICAgICBib29sIHBrdF9oYXNf
ZW5kbG9vcDsKIAogICAgIGJvb2wgcGt0X2hhc19kY3plcm9hOwpkaWZmIC0tZ2l0IGEvdGFyZ2V0
L2hleGFnb24vbWFjcm9zLmggYi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAppbmRleCA5M2VlNDcz
OWExLi44ZmQ4MTIzY2VjIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaAorKysg
Yi90YXJnZXQvaGV4YWdvbi9tYWNyb3MuaApAQCAtNDA3LDcgKzQwNyw3IEBAIHN0YXRpYyBpbmxp
bmUgVENHdiBnZW5fcmVhZF9pcmVnKFRDR3YgcmVzdWx0LCBUQ0d2IHZhbCwgaW50IHNoaWZ0KQog
CiAjZGVmaW5lIGZDSEVDS19QQ0FMSUdOKEEpCiAKLSNkZWZpbmUgZldSSVRFX05QQyhBKSB3cml0
ZV9uZXdfcGMoZW52LCBBKQorI2RlZmluZSBmV1JJVEVfTlBDKEEpIHdyaXRlX25ld19wYyhlbnYs
IHBrdF9oYXNfbXVsdGlfY29mICE9IDAsIEEpCiAKICNkZWZpbmUgZkJSQU5DSChMT0MsIFRZUEUp
ICAgICAgICAgIGZXUklURV9OUEMoTE9DKQogI2RlZmluZSBmSlVNUFIoUkVHTk8sIFRBUkdFVCwg
VFlQRSkgZkJSQU5DSChUQVJHRVQsIENPRl9UWVBFX0pVTVBSKQpkaWZmIC0tZ2l0IGEvdGFyZ2V0
L2hleGFnb24vZGVjb2RlLmMgYi90YXJnZXQvaGV4YWdvbi9kZWNvZGUuYwppbmRleCA2YjczYjVj
NjBjLi4wNDFjOGRlNzUxIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9kZWNvZGUuYworKysg
Yi90YXJnZXQvaGV4YWdvbi9kZWNvZGUuYwpAQCAtMzg4LDYgKzM4OCw3IEBAIHN0YXRpYyB2b2lk
IGRlY29kZV9zZXRfaW5zbl9hdHRyX2ZpZWxkcyhQYWNrZXQgKnBrdCkKICAgICB1aW50MTZfdCBv
cGNvZGU7CiAKICAgICBwa3QtPnBrdF9oYXNfY29mID0gZmFsc2U7CisgICAgcGt0LT5wa3RfaGFz
X211bHRpX2NvZiA9IGZhbHNlOwogICAgIHBrdC0+cGt0X2hhc19lbmRsb29wID0gZmFsc2U7CiAg
ICAgcGt0LT5wa3RfaGFzX2RjemVyb2EgPSBmYWxzZTsKIApAQCAtNDEyLDEzICs0MTMsMjMgQEAg
c3RhdGljIHZvaWQgZGVjb2RlX3NldF9pbnNuX2F0dHJfZmllbGRzKFBhY2tldCAqcGt0KQogICAg
ICAgICAgICAgfQogICAgICAgICB9CiAKLSAgICAgICAgcGt0LT5wa3RfaGFzX2NvZiB8PSBkZWNv
ZGVfb3Bjb2RlX2Nhbl9qdW1wKG9wY29kZSk7CisgICAgICAgIGlmIChkZWNvZGVfb3Bjb2RlX2Nh
bl9qdW1wKG9wY29kZSkpIHsKKyAgICAgICAgICAgIGlmIChwa3QtPnBrdF9oYXNfY29mKSB7Cisg
ICAgICAgICAgICAgICAgcGt0LT5wa3RfaGFzX211bHRpX2NvZiA9IHRydWU7CisgICAgICAgICAg
ICB9CisgICAgICAgICAgICBwa3QtPnBrdF9oYXNfY29mID0gdHJ1ZTsKKyAgICAgICAgfQogCiAg
ICAgICAgIHBrdC0+aW5zbltpXS5pc19lbmRsb29wID0gZGVjb2RlX29wY29kZV9lbmRzX2xvb3Ao
b3Bjb2RlKTsKIAogICAgICAgICBwa3QtPnBrdF9oYXNfZW5kbG9vcCB8PSBwa3QtPmluc25baV0u
aXNfZW5kbG9vcDsKIAotICAgICAgICBwa3QtPnBrdF9oYXNfY29mIHw9IHBrdC0+cGt0X2hhc19l
bmRsb29wOworICAgICAgICBpZiAocGt0LT5wa3RfaGFzX2VuZGxvb3ApIHsKKyAgICAgICAgICAg
IGlmIChwa3QtPnBrdF9oYXNfY29mKSB7CisgICAgICAgICAgICAgICAgcGt0LT5wa3RfaGFzX211
bHRpX2NvZiA9IHRydWU7CisgICAgICAgICAgICB9CisgICAgICAgICAgICBwa3QtPnBrdF9oYXNf
Y29mID0gdHJ1ZTsKKyAgICAgICAgfQogICAgIH0KIH0KIApkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hl
eGFnb24vb3BfaGVscGVyLmMgYi90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYwppbmRleCAwODVh
ZmMzMjc0Li44NDM5MWUyNWViIDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIu
YworKysgYi90YXJnZXQvaGV4YWdvbi9vcF9oZWxwZXIuYwpAQCAtMTA0LDIwICsxMDQsMjYgQEAg
c3RhdGljIHZvaWQgbG9nX3N0b3JlNjQoQ1BVSGV4YWdvblN0YXRlICplbnYsIHRhcmdldF91bG9u
ZyBhZGRyLAogICAgIGVudi0+bWVtX2xvZ19zdG9yZXNbc2xvdF0uZGF0YTY0ID0gdmFsOwogfQog
Ci1zdGF0aWMgdm9pZCB3cml0ZV9uZXdfcGMoQ1BVSGV4YWdvblN0YXRlICplbnYsIHRhcmdldF91
bG9uZyBhZGRyKQorc3RhdGljIHZvaWQgd3JpdGVfbmV3X3BjKENQVUhleGFnb25TdGF0ZSAqZW52
LCBib29sIHBrdF9oYXNfbXVsdGlfY29mLAorICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdl
dF91bG9uZyBhZGRyKQogewogICAgIEhFWF9ERUJVR19MT0coIndyaXRlX25ld19wYygweCIgVEFS
R0VUX0ZNVF9seCAiKVxuIiwgYWRkcik7CiAKLSAgICAvKgotICAgICAqIElmIG1vcmUgdGhhbiBv
bmUgYnJhbmNoIGlzIHRha2VuIGluIGEgcGFja2V0LCBvbmx5IHRoZSBmaXJzdCBvbmUKLSAgICAg
KiBpcyBhY3R1YWxseSBkb25lLgotICAgICAqLwotICAgIGlmIChlbnYtPmJyYW5jaF90YWtlbikg
ewotICAgICAgICBIRVhfREVCVUdfTE9HKCJJTkZPOiBtdWx0aXBsZSBicmFuY2hlcyB0YWtlbiBp
biBzYW1lIHBhY2tldCwgIgotICAgICAgICAgICAgICAgICAgICAgICJpZ25vcmluZyB0aGUgc2Vj
b25kIG9uZVxuIik7CisgICAgaWYgKHBrdF9oYXNfbXVsdGlfY29mKSB7CisgICAgICAgIC8qCisg
ICAgICAgICAqIElmIG1vcmUgdGhhbiBvbmUgYnJhbmNoIGlzIHRha2VuIGluIGEgcGFja2V0LCBv
bmx5IHRoZSBmaXJzdCBvbmUKKyAgICAgICAgICogaXMgYWN0dWFsbHkgZG9uZS4KKyAgICAgICAg
ICovCisgICAgICAgIGlmIChlbnYtPmJyYW5jaF90YWtlbikgeworICAgICAgICAgICAgSEVYX0RF
QlVHX0xPRygiSU5GTzogbXVsdGlwbGUgYnJhbmNoZXMgdGFrZW4gaW4gc2FtZSBwYWNrZXQsICIK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgImlnbm9yaW5nIHRoZSBzZWNvbmQgb25lXG4iKTsK
KyAgICAgICAgfSBlbHNlIHsKKyAgICAgICAgICAgIGZDSEVDS19QQ0FMSUdOKGFkZHIpOworICAg
ICAgICAgICAgZW52LT5uZXh0X1BDID0gYWRkcjsKKyAgICAgICAgICAgIGVudi0+YnJhbmNoX3Rh
a2VuID0gMTsKKyAgICAgICAgfQogICAgIH0gZWxzZSB7CiAgICAgICAgIGZDSEVDS19QQ0FMSUdO
KGFkZHIpOwotICAgICAgICBlbnYtPmJyYW5jaF90YWtlbiA9IDE7CiAgICAgICAgIGVudi0+bmV4
dF9QQyA9IGFkZHI7CiAgICAgfQogfQpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vdHJhbnNs
YXRlLmMgYi90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYwppbmRleCAwOTQwZDBmMmMxLi4xZDg3
MmQ3MmI2IDEwMDY0NAotLS0gYS90YXJnZXQvaGV4YWdvbi90cmFuc2xhdGUuYworKysgYi90YXJn
ZXQvaGV4YWdvbi90cmFuc2xhdGUuYwpAQCAtMjQ4LDcgKzI0OCw5IEBAIHN0YXRpYyB2b2lkIGdl
bl9zdGFydF9wYWNrZXQoRGlzYXNDb250ZXh0ICpjdHgpCiAgICAgICAgIHRjZ19nZW5fbW92aV90
bChoZXhfc2xvdF9jYW5jZWxsZWQsIDApOwogICAgIH0KICAgICBpZiAocGt0LT5wa3RfaGFzX2Nv
ZikgewotICAgICAgICB0Y2dfZ2VuX21vdmlfdGwoaGV4X2JyYW5jaF90YWtlbiwgMCk7CisgICAg
ICAgIGlmIChwa3QtPnBrdF9oYXNfbXVsdGlfY29mKSB7CisgICAgICAgICAgICB0Y2dfZ2VuX21v
dmlfdGwoaGV4X2JyYW5jaF90YWtlbiwgMCk7CisgICAgICAgIH0KICAgICAgICAgdGNnX2dlbl9t
b3ZpX3RsKGhleF9uZXh0X1BDLCBuZXh0X1BDKTsKICAgICB9CiAgICAgaWYgKG5lZWRfcHJlZF93
cml0dGVuKHBrdCkpIHsKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVu
Y3MucHkgYi90YXJnZXQvaGV4YWdvbi9nZW5faGVscGVyX2Z1bmNzLnB5CmluZGV4IGE0NDZjNDUz
ODQuLmM0ZmM2MDliMzEgMTAwNzU1Ci0tLSBhL3RhcmdldC9oZXhhZ29uL2dlbl9oZWxwZXJfZnVu
Y3MucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9mdW5jcy5weQpAQCAtMSw3ICsx
LDcgQEAKICMhL3Vzci9iaW4vZW52IHB5dGhvbjMKIAogIyMKLSMjICBDb3B5cmlnaHQoYykgMjAx
OS0yMDIxIFF1YWxjb21tIElubm92YXRpb24gQ2VudGVyLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2
ZWQuCisjIyAgQ29weXJpZ2h0KGMpIDIwMTktMjAyMiBRdWFsY29tbSBJbm5vdmF0aW9uIENlbnRl
ciwgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLgogIyMKICMjICBUaGlzIHByb2dyYW0gaXMgZnJl
ZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQogIyMgIGl0
IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVi
bGlzaGVkIGJ5CkBAIC0yMzgsNiArMjM4LDkgQEAgZGVmIGdlbl9oZWxwZXJfZnVuY3Rpb24oZiwg
dGFnLCB0YWdyZWdzLCB0YWdpbW1zKToKICAgICAgICAgICAgIGdlbl9oZWxwZXJfYXJnX2ltbShm
LGltbWxldHQpCiAgICAgICAgICAgICBpICs9IDEKIAorICAgICAgICBpZiAoaGV4X2NvbW1vbi5u
ZWVkX3BrdF9oYXNfbXVsdGlfY29mKHRhZykpOgorICAgICAgICAgICAgZi53cml0ZSgiLCB1aW50
MzJfdCBwa3RfaGFzX211bHRpX2NvZiIpCisKICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Ns
b3QodGFnKToKICAgICAgICAgICAgIGlmIGkgPiAwOiBmLndyaXRlKCIsICIpCiAgICAgICAgICAg
ICBmLndyaXRlKCJ1aW50MzJfdCBzbG90IikKZGlmZiAtLWdpdCBhL3RhcmdldC9oZXhhZ29uL2dl
bl9oZWxwZXJfcHJvdG9zLnB5IGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9wcm90b3MucHkK
aW5kZXggM2I0ZTk5M2ZkMS4uOGM2YjM2ZDhkOCAxMDA3NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24v
Z2VuX2hlbHBlcl9wcm90b3MucHkKKysrIGIvdGFyZ2V0L2hleGFnb24vZ2VuX2hlbHBlcl9wcm90
b3MucHkKQEAgLTEsNyArMSw3IEBACiAjIS91c3IvYmluL2VudiBweXRob24zCiAKICMjCi0jIyAg
Q29weXJpZ2h0KGMpIDIwMTktMjAyMSBRdWFsY29tbSBJbm5vdmF0aW9uIENlbnRlciwgSW5jLiBB
bGwgUmlnaHRzIFJlc2VydmVkLgorIyMgIENvcHlyaWdodChjKSAyMDE5LTIwMjIgUXVhbGNvbW0g
SW5ub3ZhdGlvbiBDZW50ZXIsIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KICMjCiAjIyAgVGhp
cyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9v
ciBtb2RpZnkKICMjICBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBHZW5lcmFsIFB1Ymxp
YyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieQpAQCAtODIsNiArODIsNyBAQCBkZWYgZ2VuX2hlbHBl
cl9wcm90b3R5cGUoZiwgdGFnLCB0YWdyZWdzLCB0YWdpbW1zKToKICAgICAgICAgIyMgRmlndXJl
IG91dCBob3cgbWFueSBhcmd1bWVudHMgdGhlIGhlbHBlciB3aWxsIHRha2UKICAgICAgICAgaWYg
KG51bXNjYWxhcnJlc3VsdHMgPT0gMCk6CiAgICAgICAgICAgICBkZWZfaGVscGVyX3NpemUgPSBs
ZW4ocmVncykrbGVuKGltbXMpK251bXNjYWxhcnJlYWR3cml0ZSsxCisgICAgICAgICAgICBpZiBo
ZXhfY29tbW9uLm5lZWRfcGt0X2hhc19tdWx0aV9jb2YodGFnKTogZGVmX2hlbHBlcl9zaXplICs9
IDEKICAgICAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9wYXJ0MSh0YWcpOiBkZWZfaGVscGVy
X3NpemUgKz0gMQogICAgICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Nsb3QodGFnKTogZGVm
X2hlbHBlcl9zaXplICs9IDEKICAgICAgICAgICAgIGYud3JpdGUoJ0RFRl9IRUxQRVJfJXMoJXMn
ICUgKGRlZl9oZWxwZXJfc2l6ZSwgdGFnKSkKQEAgLTg5LDYgKzkwLDcgQEAgZGVmIGdlbl9oZWxw
ZXJfcHJvdG90eXBlKGYsIHRhZywgdGFncmVncywgdGFnaW1tcyk6CiAgICAgICAgICAgICBmLndy
aXRlKCcsIHZvaWQnICkKICAgICAgICAgZWxzZToKICAgICAgICAgICAgIGRlZl9oZWxwZXJfc2l6
ZSA9IGxlbihyZWdzKStsZW4oaW1tcykrbnVtc2NhbGFycmVhZHdyaXRlCisgICAgICAgICAgICBp
ZiBoZXhfY29tbW9uLm5lZWRfcGt0X2hhc19tdWx0aV9jb2YodGFnKTogZGVmX2hlbHBlcl9zaXpl
ICs9IDEKICAgICAgICAgICAgIGlmIGhleF9jb21tb24ubmVlZF9wYXJ0MSh0YWcpOiBkZWZfaGVs
cGVyX3NpemUgKz0gMQogICAgICAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3Nsb3QodGFnKTog
ZGVmX2hlbHBlcl9zaXplICs9IDEKICAgICAgICAgICAgIGYud3JpdGUoJ0RFRl9IRUxQRVJfJXMo
JXMnICUgKGRlZl9oZWxwZXJfc2l6ZSwgdGFnKSkKQEAgLTEyNiw3ICsxMjgsOSBAQCBkZWYgZ2Vu
X2hlbHBlcl9wcm90b3R5cGUoZiwgdGFnLCB0YWdyZWdzLCB0YWdpbW1zKToKICAgICAgICAgZm9y
IGltbWxldHQsYml0cyxpbW1zaGlmdCBpbiBpbW1zOgogICAgICAgICAgICAgZi53cml0ZSgiLCBz
MzIiKQogCi0gICAgICAgICMjIEFkZCB0aGUgYXJndW1lbnRzIGZvciB0aGUgaW5zdHJ1Y3Rpb24g
c2xvdCBhbmQgcGFydDEgKGlmIG5lZWRlZCkKKyAgICAgICAgIyMgQWRkIHRoZSBhcmd1bWVudHMg
Zm9yIHRoZSBpbnN0cnVjdGlvbiBwa3RfaGFzX211bHRpX2NvZiwgc2xvdCBhbmQKKyAgICAgICAg
IyMgcGFydDEgKGlmIG5lZWRlZCkKKyAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BrdF9oYXNf
bXVsdGlfY29mKHRhZyk6IGYud3JpdGUoJywgaTMyJykKICAgICAgICAgaWYgaGV4X2NvbW1vbi5u
ZWVkX3Nsb3QodGFnKTogZi53cml0ZSgnLCBpMzInICkKICAgICAgICAgaWYgaGV4X2NvbW1vbi5u
ZWVkX3BhcnQxKHRhZyk6IGYud3JpdGUoJyAsIGkzMicgKQogICAgICAgICBmLndyaXRlKCcpXG4n
KQpkaWZmIC0tZ2l0IGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weSBiL3RhcmdldC9o
ZXhhZ29uL2dlbl90Y2dfZnVuY3MucHkKaW5kZXggY2E1ZmRlOTFjYy4uYmQxOTlkY2JmMSAxMDA3
NTUKLS0tIGEvdGFyZ2V0L2hleGFnb24vZ2VuX3RjZ19mdW5jcy5weQorKysgYi90YXJnZXQvaGV4
YWdvbi9nZW5fdGNnX2Z1bmNzLnB5CkBAIC02MjIsNiArNjIyLDkgQEAgZGVmIGdlbl90Y2dfZnVu
YyhmLCB0YWcsIHJlZ3MsIGltbXMpOgogICAgICAgICAjIyBHZW5lcmF0ZSB0aGUgY2FsbCB0byB0
aGUgaGVscGVyCiAgICAgICAgIGZvciBpbW1sZXR0LGJpdHMsaW1tc2hpZnQgaW4gaW1tczoKICAg
ICAgICAgICAgIGdlbl9oZWxwZXJfZGVjbF9pbW0oZixpbW1sZXR0KQorICAgICAgICBpZiBoZXhf
Y29tbW9uLm5lZWRfcGt0X2hhc19tdWx0aV9jb2YodGFnKToKKyAgICAgICAgICAgIGYud3JpdGUo
IiAgICBUQ0d2IHBrdF9oYXNfbXVsdGlfY29mID0gIikKKyAgICAgICAgICAgIGYud3JpdGUoInRj
Z19jb25zdGFudF90bChjdHgtPnBrdC0+cGt0X2hhc19tdWx0aV9jb2YpO1xuIikKICAgICAgICAg
aWYgaGV4X2NvbW1vbi5uZWVkX3BhcnQxKHRhZyk6CiAgICAgICAgICAgICBmLndyaXRlKCIgICAg
VENHdiBwYXJ0MSA9IHRjZ19jb25zdGFudF90bChpbnNuLT5wYXJ0MSk7XG4iKQogICAgICAgICBp
ZiBoZXhfY29tbW9uLm5lZWRfc2xvdCh0YWcpOgpAQCAtNjU0LDYgKzY1Nyw4IEBAIGRlZiBnZW5f
dGNnX2Z1bmMoZiwgdGFnLCByZWdzLCBpbW1zKToKICAgICAgICAgZm9yIGltbWxldHQsYml0cyxp
bW1zaGlmdCBpbiBpbW1zOgogICAgICAgICAgICAgZ2VuX2hlbHBlcl9jYWxsX2ltbShmLGltbWxl
dHQpCiAKKyAgICAgICAgaWYgaGV4X2NvbW1vbi5uZWVkX3BrdF9oYXNfbXVsdGlfY29mKHRhZyk6
CisgICAgICAgICAgICBmLndyaXRlKCIsIHBrdF9oYXNfbXVsdGlfY29mIikKICAgICAgICAgaWYg
aGV4X2NvbW1vbi5uZWVkX3Nsb3QodGFnKTogZi53cml0ZSgiLCBzbG90IikKICAgICAgICAgaWYg
aGV4X2NvbW1vbi5uZWVkX3BhcnQxKHRhZyk6IGYud3JpdGUoIiwgcGFydDEiICkKICAgICAgICAg
Zi53cml0ZSgiKTtcbiIpCmRpZmYgLS1naXQgYS90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5
IGIvdGFyZ2V0L2hleGFnb24vaGV4X2NvbW1vbi5weQppbmRleCBkOWJhN2RmNzg2Li5mNWI1ODUw
MWRiIDEwMDc1NQotLS0gYS90YXJnZXQvaGV4YWdvbi9oZXhfY29tbW9uLnB5CisrKyBiL3Rhcmdl
dC9oZXhhZ29uL2hleF9jb21tb24ucHkKQEAgLTIwNyw2ICsyMDcsOSBAQCBkZWYgbmVlZF9wYXJ0
MSh0YWcpOgogZGVmIG5lZWRfZWEodGFnKToKICAgICByZXR1cm4gcmUuY29tcGlsZShyIlxiRUFc
YiIpLnNlYXJjaChzZW1kaWN0W3RhZ10pCiAKK2RlZiBuZWVkX3BrdF9oYXNfbXVsdGlfY29mKHRh
Zyk6CisgICAgcmV0dXJuICdBX0NPRicgaW4gYXR0cmliZGljdFt0YWddCisKIGRlZiBza2lwX3Fl
bXVfaGVscGVyKHRhZyk6CiAgICAgcmV0dXJuIHRhZyBpbiBvdmVycmlkZXMua2V5cygpCiAKLS0g
CjIuMTcuMQoK

